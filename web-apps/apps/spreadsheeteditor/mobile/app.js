/*
 * Copyright (C) Ascensio System SIA 2012-2019. All rights reserved
 *
 * https://www.onlyoffice.com/ 
 *
 * Version: 5.4.2 (build:46)
 */
if(function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},t=e._,i=Array.prototype,a=Object.prototype,n="undefined"!=typeof Symbol?Symbol.prototype:null,o=i.push,s=i.slice,r=a.toString,l=a.hasOwnProperty,c=Array.isArray,d=Object.keys,p=Object.create,u=function(){},h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};"undefined"==typeof exports||exports.nodeType?e._=h:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=h),exports._=h),h.VERSION="1.8.3";var m,f=function(e,t,i){if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case null:case 3:return function(i,a,n){return e.call(t,i,a,n)};case 4:return function(i,a,n,o){return e.call(t,i,a,n,o)}}return function(){return e.apply(t,arguments)}},g=function(e,t,i){return h.iteratee!==m?h.iteratee(e,t):null==e?h.identity:h.isFunction(e)?f(e,t,i):h.isObject(e)&&!h.isArray(e)?h.matcher(e):h.property(e)};h.iteratee=m=function(e,t){return g(e,t,1/0)};var v=function(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),a=Array(i),n=0;n<i;n++)a[n]=arguments[n+t];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,arguments[0],a);case 2:return e.call(this,arguments[0],arguments[1],a)}var o=Array(t+1);for(n=0;n<t;n++)o[n]=arguments[n];return o[t]=a,e.apply(this,o)}},b=function(e){if(!h.isObject(e))return{};if(p)return p(e);u.prototype=e;var t=new u;return u.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},y=function(e,t){for(var i=t.length,a=0;a<i;a++){if(null==e)return;e=e[t[a]]}return i?e:void 0},x=Math.pow(2,53)-1,w=C("length"),S=function(e){var t=w(e);return"number"==typeof t&&t>=0&&t<=x};h.each=h.forEach=function(e,t,i){t=f(t,i);var a,n;if(S(e))for(a=0,n=e.length;a<n;a++)t(e[a],a,e);else{var o=h.keys(e);for(a=0,n=o.length;a<n;a++)t(e[o[a]],o[a],e)}return e},h.map=h.collect=function(e,t,i){t=g(t,i);for(var a=!S(e)&&h.keys(e),n=(a||e).length,o=Array(n),s=0;s<n;s++){var r=a?a[s]:s;o[s]=t(e[r],r,e)}return o};var T=function(e){var t=function(t,i,a,n){var o=!S(t)&&h.keys(t),s=(o||t).length,r=e>0?0:s-1;for(n||(a=t[o?o[r]:r],r+=e);r>=0&&r<s;r+=e){var l=o?o[r]:r;a=i(a,t[l],l,t)}return a};return function(e,i,a,n){var o=arguments.length>=3;return t(e,f(i,n,4),a,o)}};h.reduce=h.foldl=h.inject=T(1),h.reduceRight=h.foldr=T(-1),h.find=h.detect=function(e,t,i){var a=S(e)?h.findIndex:h.findKey,n=a(e,t,i);if(void 0!==n&&-1!==n)return e[n]},h.filter=h.select=function(e,t,i){var a=[];return t=g(t,i),h.each(e,function(e,i,n){t(e,i,n)&&a.push(e)}),a},h.reject=function(e,t,i){return h.filter(e,h.negate(g(t)),i)},h.every=h.all=function(e,t,i){t=g(t,i);for(var a=!S(e)&&h.keys(e),n=(a||e).length,o=0;o<n;o++){var s=a?a[o]:o;if(!t(e[s],s,e))return!1}return!0},h.some=h.any=function(e,t,i){t=g(t,i);for(var a=!S(e)&&h.keys(e),n=(a||e).length,o=0;o<n;o++){var s=a?a[o]:o;if(t(e[s],s,e))return!0}return!1},h.contains=h.includes=h.include=function(e,t,i,a){return S(e)||(e=h.values(e)),("number"!=typeof i||a)&&(i=0),h.indexOf(e,t,i)>=0},h.invoke=v(function(e,t,i){var a,n;return h.isFunction(t)?n=t:h.isArray(t)&&(a=t.slice(0,-1),t=t[t.length-1]),h.map(e,function(e){var o=n;if(!o){if(a&&a.length&&(e=y(e,a)),null==e)return;o=e[t]}return null==o?o:o.apply(e,i)})}),h.pluck=function(e,t){return h.map(e,h.property(t))},h.where=function(e,t){return h.filter(e,h.matcher(t))},h.findWhere=function(e,t){return h.find(e,h.matcher(t))},h.max=function(e,t,i){var a,n,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=S(e)?e:h.values(e);for(var r=0,l=e.length;r<l;r++)null!=(a=e[r])&&a>o&&(o=a)}else t=g(t,i),h.each(e,function(e,i,a){((n=t(e,i,a))>s||n===-1/0&&o===-1/0)&&(o=e,s=n)});return o},h.min=function(e,t,i){var a,n,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=S(e)?e:h.values(e);for(var r=0,l=e.length;r<l;r++)null!=(a=e[r])&&a<o&&(o=a)}else t=g(t,i),h.each(e,function(e,i,a){((n=t(e,i,a))<s||n===1/0&&o===1/0)&&(o=e,s=n)});return o},h.shuffle=function(e){return h.sample(e,1/0)},h.sample=function(e,t,i){if(null==t||i)return S(e)||(e=h.values(e)),e[h.random(e.length-1)];var a=S(e)?h.clone(e):h.values(e),n=w(a);t=Math.max(Math.min(t,n),0);for(var o=n-1,s=0;s<t;s++){var r=h.random(s,o),l=a[s];a[s]=a[r],a[r]=l}return a.slice(0,t)},h.sortBy=function(e,t,i){var a=0;return t=g(t,i),h.pluck(h.map(e,function(e,i,n){return{value:e,index:a++,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,a=t.criteria;if(i!==a){if(i>a||void 0===i)return 1;if(i<a||void 0===a)return-1}return e.index-t.index}),"value")};var k=function(e,t){return function(i,a,n){var o=t?[[],[]]:{};return a=g(a,n),h.each(i,function(t,n){var s=a(t,n,i);e(o,t,s)}),o}};h.groupBy=k(function(e,t,i){h.has(e,i)?e[i].push(t):e[i]=[t]}),h.indexBy=k(function(e,t,i){e[i]=t}),h.countBy=k(function(e,t,i){h.has(e,i)?e[i]++:e[i]=1});var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;h.toArray=function(e){return e?h.isArray(e)?s.call(e):h.isString(e)?e.match(A):S(e)?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:S(e)?e.length:h.keys(e).length},h.partition=k(function(e,t,i){e[i?0:1].push(t)},!0),h.first=h.head=h.take=function(e,t,i){if(!(null==e||e.length<1))return null==t||i?e[0]:h.initial(e,e.length-t)},h.initial=function(e,t,i){return s.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},h.last=function(e,t,i){if(!(null==e||e.length<1))return null==t||i?e[e.length-1]:h.rest(e,Math.max(0,e.length-t))},h.rest=h.tail=h.drop=function(e,t,i){return s.call(e,null==t||i?1:t)},h.compact=function(e){return h.filter(e,Boolean)};var E=function(e,t,i,a){a=a||[];for(var n=a.length,o=0,s=w(e);o<s;o++){var r=e[o];if(S(r)&&(h.isArray(r)||h.isArguments(r)))if(t)for(var l=0,c=r.length;l<c;)a[n++]=r[l++];else E(r,t,i,a),n=a.length;else i||(a[n++]=r)}return a};h.flatten=function(e,t){return E(e,t,!1)},h.without=v(function(e,t){return h.difference(e,t)}),h.uniq=h.unique=function(e,t,i,a){h.isBoolean(t)||(a=i,i=t,t=!1),null!=i&&(i=g(i,a));for(var n=[],o=[],s=0,r=w(e);s<r;s++){var l=e[s],c=i?i(l,s,e):l;t?(s&&o===c||n.push(l),o=c):i?h.contains(o,c)||(o.push(c),n.push(l)):h.contains(n,l)||n.push(l)}return n},h.union=v(function(e){return h.uniq(E(e,!0,!0))}),h.intersection=function(e){for(var t=[],i=arguments.length,a=0,n=w(e);a<n;a++){var o=e[a];if(!h.contains(t,o)){var s;for(s=1;s<i&&h.contains(arguments[s],o);s++);s===i&&t.push(o)}}return t},h.difference=v(function(e,t){return t=E(t,!0,!0),h.filter(e,function(e){return!h.contains(t,e)})}),h.unzip=function(e){for(var t=e&&h.max(e,w).length||0,i=Array(t),a=0;a<t;a++)i[a]=h.pluck(e,a);return i},h.zip=v(h.unzip),h.object=function(e,t){for(var i={},a=0,n=w(e);a<n;a++)t?i[e[a]]=t[a]:i[e[a][0]]=e[a][1];return i};var _=function(e){return function(t,i,a){i=g(i,a);for(var n=w(t),o=e>0?0:n-1;o>=0&&o<n;o+=e)if(i(t[o],o,t))return o;return-1}};h.findIndex=_(1),h.findLastIndex=_(-1),h.sortedIndex=function(e,t,i,a){i=g(i,a,1);for(var n=i(t),o=0,s=w(e);o<s;){var r=Math.floor((o+s)/2);i(e[r])<n?o=r+1:s=r}return o};var I=function(e,t,i){return function(a,n,o){var r=0,l=w(a);if("number"==typeof o)e>0?r=o>=0?o:Math.max(o+l,r):l=o>=0?Math.min(o+1,l):o+l+1;else if(i&&o&&l)return o=i(a,n),a[o]===n?o:-1;if(n!==n)return o=t(s.call(a,r,l),h.isNaN),o>=0?o+r:-1;for(o=e>0?r:l-1;o>=0&&o<l;o+=e)if(a[o]===n)return o;return-1}};h.indexOf=I(1,h.findIndex,h.sortedIndex),h.lastIndexOf=I(-1,h.findLastIndex),h.range=function(e,t,i){null==t&&(t=e||0,e=0),i||(i=t<e?-1:1);for(var a=Math.max(Math.ceil((t-e)/i),0),n=Array(a),o=0;o<a;o++,e+=i)n[o]=e;return n},h.chunk=function(e,t){if(null==t||t<1)return[];for(var i=[],a=0,n=e.length;a<n;)i.push(s.call(e,a,a+=t));return i};var M=function(e,t,i,a,n){if(!(a instanceof t))return e.apply(i,n);var o=b(e.prototype),s=e.apply(o,n);return h.isObject(s)?s:o};h.bind=v(function(e,t,i){if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");var a=v(function(n){return M(e,a,t,this,i.concat(n))});return a}),h.partial=v(function(e,t){var i=h.partial.placeholder,a=function(){for(var n=0,o=t.length,s=Array(o),r=0;r<o;r++)s[r]=t[r]===i?arguments[n++]:t[r];for(;n<arguments.length;)s.push(arguments[n++]);return M(e,a,this,this,s)};return a}),h.partial.placeholder=h,h.bindAll=v(function(e,t){t=E(t,!1,!1);var i=t.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var a=t[i];e[a]=h.bind(e[a],e)}}),h.memoize=function(e,t){var i=function(a){var n=i.cache,o=""+(t?t.apply(this,arguments):a);return h.has(n,o)||(n[o]=e.apply(this,arguments)),n[o]};return i.cache={},i},h.delay=v(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),h.defer=h.partial(h.delay,h,1),h.throttle=function(e,t,i){var a,n,o,s,r=0;i||(i={});var l=function(){r=!1===i.leading?0:h.now(),a=null,s=e.apply(n,o),a||(n=o=null)},c=function(){var c=h.now();r||!1!==i.leading||(r=c);var d=t-(c-r);return n=this,o=arguments,d<=0||d>t?(a&&(clearTimeout(a),a=null),r=c,s=e.apply(n,o),a||(n=o=null)):a||!1===i.trailing||(a=setTimeout(l,d)),s};return c.cancel=function(){clearTimeout(a),r=0,a=n=o=null},c},h.debounce=function(e,t,i){var a,n,o=function(t,i){a=null,i&&(n=e.apply(t,i))},s=v(function(s){if(a&&clearTimeout(a),i){var r=!a;a=setTimeout(o,t),r&&(n=e.apply(this,s))}else a=h.delay(o,t,this,s);return n});return s.cancel=function(){clearTimeout(a),a=null},s},h.wrap=function(e,t){return h.partial(t,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,a=e[t].apply(this,arguments);i--;)a=e[i].call(this,a);return a}},h.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},h.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},h.once=h.partial(h.before,2),h.restArgs=v;var P=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,t){var i=L.length,n=e.constructor,o=h.isFunction(n)&&n.prototype||a,s="constructor";for(h.has(e,s)&&!h.contains(t,s)&&t.push(s);i--;)(s=L[i])in e&&e[s]!==o[s]&&!h.contains(t,s)&&t.push(s)};h.keys=function(e){if(!h.isObject(e))return[];if(d)return d(e);var t=[];for(var i in e)h.has(e,i)&&t.push(i);return P&&R(e,t),t},h.allKeys=function(e){if(!h.isObject(e))return[];var t=[];for(var i in e)t.push(i);return P&&R(e,t),t},h.values=function(e){for(var t=h.keys(e),i=t.length,a=Array(i),n=0;n<i;n++)a[n]=e[t[n]];return a},h.mapObject=function(e,t,i){t=g(t,i);for(var a=h.keys(e),n=a.length,o={},s=0;s<n;s++){var r=a[s];o[r]=t(e[r],r,e)}return o},h.pairs=function(e){for(var t=h.keys(e),i=t.length,a=Array(i),n=0;n<i;n++)a[n]=[t[n],e[t[n]]];return a},h.invert=function(e){for(var t={},i=h.keys(e),a=0,n=i.length;a<n;a++)t[e[i[a]]]=i[a];return t},h.functions=h.methods=function(e){var t=[];for(var i in e)h.isFunction(e[i])&&t.push(i);return t.sort()};var N=function(e,t){return function(i){var a=arguments.length;if(t&&(i=Object(i)),a<2||null==i)return i;for(var n=1;n<a;n++)for(var o=arguments[n],s=e(o),r=s.length,l=0;l<r;l++){var c=s[l];t&&void 0!==i[c]||(i[c]=o[c])}return i}};h.extend=N(h.allKeys),h.extendOwn=h.assign=N(h.keys),h.findKey=function(e,t,i){t=g(t,i);for(var a,n=h.keys(e),o=0,s=n.length;o<s;o++)if(a=n[o],t(e[a],a,e))return a};var D=function(e,t,i){return t in i};h.pick=v(function(e,t){var i={},a=t[0];if(null==e)return i;h.isFunction(a)?(t.length>1&&(a=f(a,t[1])),t=h.allKeys(e)):(a=D,t=E(t,!1,!1),e=Object(e));for(var n=0,o=t.length;n<o;n++){var s=t[n],r=e[s];a(r,s,e)&&(i[s]=r)}return i}),h.omit=v(function(e,t){var i,a=t[0];return h.isFunction(a)?(a=h.negate(a),t.length>1&&(i=t[1])):(t=h.map(E(t,!1,!1),String),a=function(e,i){return!h.contains(t,i)}),h.pick(e,a,i)}),h.defaults=N(h.allKeys,!0),h.create=function(e,t){var i=b(e);return t&&h.extendOwn(i,t),i},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,t){return t(e),e},h.isMatch=function(e,t){var i=h.keys(t),a=i.length;if(null==e)return!a;for(var n=Object(e),o=0;o<a;o++){var s=i[o];if(t[s]!==n[s]||!(s in n))return!1}return!0};var O,F;O=function(e,t,i,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var n=typeof e;return("function"===n||"object"===n||"object"==typeof t)&&F(e,t,i,a)},F=function(e,t,i,a){e instanceof h&&(e=e._wrapped),t instanceof h&&(t=t._wrapped);var o=r.call(e);if(o!==r.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return n.valueOf.call(e)===n.valueOf.call(t)}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(h.isFunction(l)&&l instanceof l&&h.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],a=a||[];for(var d=i.length;d--;)if(i[d]===e)return a[d]===t;if(i.push(e),a.push(t),s){if((d=e.length)!==t.length)return!1;for(;d--;)if(!O(e[d],t[d],i,a))return!1}else{var p,u=h.keys(e);if(d=u.length,h.keys(t).length!==d)return!1;for(;d--;)if(p=u[d],!h.has(t,p)||!O(e[p],t[p],i,a))return!1}return i.pop(),a.pop(),!0},h.isEqual=function(e,t){return O(e,t)},h.isEmpty=function(e){return null==e||(S(e)&&(h.isArray(e)||h.isString(e)||h.isArguments(e))?0===e.length:0===h.keys(e).length)},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=c||function(e){return"[object Array]"===r.call(e)},h.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){h["is"+e]=function(t){return r.call(t)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return h.has(e,"callee")});var B=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof B&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return!h.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&isNaN(e)},h.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===r.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,t){if(!h.isArray(t))return null!=e&&l.call(e,t);for(var i=t.length,a=0;a<i;a++){var n=t[a];if(null==e||!l.call(e,n))return!1;e=e[n]}return!!i},h.noConflict=function(){return e._=t,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return h.isArray(e)?function(t){return y(t,e)}:C(e)},h.propertyOf=function(e){return null==e?function(){}:function(t){return h.isArray(t)?y(e,t):e[t]}},h.matcher=h.matches=function(e){return e=h.extendOwn({},e),function(t){return h.isMatch(t,e)}},h.times=function(e,t,i){var a=Array(Math.max(0,e));t=f(t,i,1);for(var n=0;n<e;n++)a[n]=t(n);return a},h.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=h.invert(U),H=function(e){var t=function(t){return e[t]},i="(?:"+h.keys(e).join("|")+")",a=RegExp(i),n=RegExp(i,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(n,t):e}};h.escape=H(U),h.unescape=H(z),h.result=function(e,t,i){h.isArray(t)||(t=[t]);var a=t.length;if(!a)return h.isFunction(i)?i.call(e):i;for(var n=0;n<a;n++){var o=null==e?void 0:e[t[n]];void 0===o&&(o=i,n=a),e=h.isFunction(o)?o.call(e):o}return e};var V=0;h.uniqueId=function(e){var t=++V+"";return e?e+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+G[e]};h.template=function(e,t,i){!t&&i&&(t=i),t=h.defaults({},t,h.templateSettings);var a=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),n=0,o="__p+='";e.replace(a,function(t,i,a,s,r){return o+=e.slice(n,r).replace(q,W),n=r+t.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":a?o+="'+\n((__t=("+a+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var r=function(e){return s.call(this,e,h)};return r.source="function("+(t.variable||"obj")+"){\n"+o+"}",r},h.chain=function(e){var t=h(e);return t._chain=!0,t};var $=function(e,t){return e._chain?h(t).chain():t};h.mixin=function(e){return h.each(h.functions(e),function(t){var i=h[t]=e[t];h.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),$(this,i.apply(h,e))}}),h},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];h.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],$(this,i)}}),h.each(["concat","join","slice"],function(e){var t=i[e];h.prototype[e]=function(){return $(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}(),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e,t){t=t||ie;var i=t.createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function a(e){var t=!!e&&"length"in e&&e.length,i=me.type(e);return"function"!==i&&!me.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function o(e,t,i){return me.isFunction(t)?me.grep(e,function(e,a){return!!t.call(e,a,e)!==i}):t.nodeType?me.grep(e,function(e){return e===t!==i}):"string"!=typeof t?me.grep(e,function(e){return re.call(t,e)>-1!==i}):Te.test(t)?me.filter(t,e,i):(t=me.filter(t,e),me.grep(e,function(e){return re.call(t,e)>-1!==i&&1===e.nodeType}))}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t={};return me.each(e.match(Ie)||[],function(e,i){t[i]=!0}),t}function l(e){return e}function c(e){throw e}function d(e,t,i,a){var n;try{e&&me.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&me.isFunction(n=e.then)?n.call(e,t,i):t.apply(void 0,[e].slice(a))}catch(e){i.apply(void 0,[e])}}function p(){ie.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),me.ready()}function u(){this.expando=me.expando+u.uid++}function h(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Oe.test(e)?JSON.parse(e):e)}function m(e,t,i){var a;if(void 0===i&&1===e.nodeType)if(a="data-"+t.replace(Fe,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(a))){try{i=h(i)}catch(e){}De.set(e,t,i)}else i=void 0;return i}function f(e,t,i,a){var n,o=1,s=20,r=a?function(){return a.cur()}:function(){return me.css(e,t,"")},l=r(),c=i&&i[3]||(me.cssNumber[t]?"":"px"),d=(me.cssNumber[t]||"px"!==c&&+l)&&Ue.exec(me.css(e,t));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do{o=o||".5",d/=o,me.style(e,t,d+c)}while(o!==(o=r()/l)&&1!==o&&--s)}return i&&(d=+d||+l||0,n=i[1]?d+(i[1]+1)*i[2]:+i[2],a&&(a.unit=c,a.start=d,a.end=n)),n}function g(e){var t,i=e.ownerDocument,a=e.nodeName,n=je[a];return n||(t=i.body.appendChild(i.createElement(a)),n=me.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),je[a]=n,n)}function v(e,t){for(var i,a,n=[],o=0,s=e.length;o<s;o++)a=e[o],a.style&&(i=a.style.display,t?("none"===i&&(n[o]=Ne.get(a,"display")||null,n[o]||(a.style.display="")),""===a.style.display&&He(a)&&(n[o]=g(a))):"none"!==i&&(n[o]="none",Ne.set(a,"display",i)));for(o=0;o<s;o++)null!=n[o]&&(e[o].style.display=n[o]);return e}function b(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&n(e,t)?me.merge([e],i):i}function C(e,t){for(var i=0,a=e.length;i<a;i++)Ne.set(e[i],"globalEval",!t||Ne.get(t[i],"globalEval"))}function y(e,t,i,a,n){for(var o,s,r,l,c,d,p=t.createDocumentFragment(),u=[],h=0,m=e.length;h<m;h++)if((o=e[h])||0===o)if("object"===me.type(o))me.merge(u,o.nodeType?[o]:o);else if(Xe.test(o)){for(s=s||p.appendChild(t.createElement("div")),r=(qe.exec(o)||["",""])[1].toLowerCase(),l=$e[r]||$e._default,s.innerHTML=l[1]+me.htmlPrefilter(o)+l[2],d=l[0];d--;)s=s.lastChild;me.merge(u,s.childNodes),s=p.firstChild,s.textContent=""}else u.push(t.createTextNode(o));for(p.textContent="",h=0;o=u[h++];)if(a&&me.inArray(o,a)>-1)n&&n.push(o);else if(c=me.contains(o.ownerDocument,o),s=b(p.appendChild(o),"script"),c&&C(s),i)for(d=0;o=s[d++];)We.test(o.type||"")&&i.push(o);return p}function x(){return!0}function w(){return!1}function S(){try{return ie.activeElement}catch(e){}}function T(e,t,i,a,n,o){var s,r;if("object"==typeof t){"string"!=typeof i&&(a=a||i,i=void 0);for(r in t)T(e,r,i,a,t[r],o);return e}if(null==a&&null==n?(n=i,a=i=void 0):null==n&&("string"==typeof i?(n=a,a=void 0):(n=a,a=i,i=void 0)),!1===n)n=w;else if(!n)return e;return 1===o&&(s=n,n=function(e){return me().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=me.guid++)),e.each(function(){me.event.add(this,t,n,a,i)})}function k(e,t){return n(e,"table")&&n(11!==t.nodeType?t:t.firstChild,"tr")?me(">tbody",e)[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){var i,a,n,o,s,r,l,c;if(1===t.nodeType){if(Ne.hasData(e)&&(o=Ne.access(e),s=Ne.set(t,o),c=o.events)){delete s.handle,s.events={};for(n in c)for(i=0,a=c[n].length;i<a;i++)me.event.add(t,n,c[n][i])}De.hasData(e)&&(r=De.access(e),l=me.extend({},r),De.set(t,l))}}function I(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ge.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function M(e,t,a,n){t=oe.apply([],t);var o,s,r,l,c,d,p=0,u=e.length,h=u-1,m=t[0],f=me.isFunction(m);if(f||u>1&&"string"==typeof m&&!he.checkClone&&tt.test(m))return e.each(function(i){var o=e.eq(i);f&&(t[0]=m.call(this,i,o.html())),M(o,t,a,n)});if(u&&(o=y(t,e[0].ownerDocument,!1,e,n),s=o.firstChild,1===o.childNodes.length&&(o=s),s||n)){for(r=me.map(b(o,"script"),A),l=r.length;p<u;p++)c=o,p!==h&&(c=me.clone(c,!0,!0),l&&me.merge(r,b(c,"script"))),a.call(e[p],c,p);if(l)for(d=r[r.length-1].ownerDocument,me.map(r,E),p=0;p<l;p++)c=r[p],We.test(c.type||"")&&!Ne.access(c,"globalEval")&&me.contains(d,c)&&(c.src?me._evalUrl&&me._evalUrl(c.src):i(c.textContent.replace(at,""),d))}return e}function P(e,t,i){for(var a,n=t?me.filter(t,e):e,o=0;null!=(a=n[o]);o++)i||1!==a.nodeType||me.cleanData(b(a)),a.parentNode&&(i&&me.contains(a.ownerDocument,a)&&C(b(a,"script")),a.parentNode.removeChild(a));return e}function L(e,t,i){var a,n,o,s,r=e.style;return i=i||st(e),i&&(s=i.getPropertyValue(t)||i[t],""!==s||me.contains(e.ownerDocument,e)||(s=me.style(e,t)),!he.pixelMarginRight()&&ot.test(s)&&nt.test(t)&&(a=r.width,n=r.minWidth,o=r.maxWidth,r.minWidth=r.maxWidth=r.width=s,s=i.width,r.width=a,r.minWidth=n,r.maxWidth=o)),void 0!==s?s+"":s}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function N(e){if(e in ut)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=pt.length;i--;)if((e=pt[i]+t)in ut)return e}function D(e){var t=me.cssProps[e];return t||(t=me.cssProps[e]=N(e)||e),t}function O(e,t,i){var a=Ue.exec(t);return a?Math.max(0,a[2]-(i||0))+(a[3]||"px"):t}function F(e,t,i,a,n){var o,s=0;for(o=i===(a?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===i&&(s+=me.css(e,i+ze[o],!0,n)),a?("content"===i&&(s-=me.css(e,"padding"+ze[o],!0,n)),"margin"!==i&&(s-=me.css(e,"border"+ze[o]+"Width",!0,n))):(s+=me.css(e,"padding"+ze[o],!0,n),"padding"!==i&&(s+=me.css(e,"border"+ze[o]+"Width",!0,n)));return s}function B(e,t,i){var a,n=st(e),o=L(e,t,n),s="border-box"===me.css(e,"boxSizing",!1,n);return ot.test(o)?o:(a=s&&(he.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+F(e,t,i||(s?"border":"content"),a,n)+"px")}function U(e,t,i,a,n){return new U.prototype.init(e,t,i,a,n)}function z(){mt&&(!1===ie.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(z):e.setTimeout(z,me.fx.interval),me.fx.tick())}function H(){return e.setTimeout(function(){ht=void 0}),ht=me.now()}function V(e,t){var i,a=0,n={height:e};for(t=t?1:0;a<4;a+=2-t)i=ze[a],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function j(e,t,i){for(var a,n=(W.tweeners[t]||[]).concat(W.tweeners["*"]),o=0,s=n.length;o<s;o++)if(a=n[o].call(i,t,e))return a}function G(e,t,i){var a,n,o,s,r,l,c,d,p="width"in t||"height"in t,u=this,h={},m=e.style,f=e.nodeType&&He(e),g=Ne.get(e,"fxshow");i.queue||(s=me._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,r=s.empty.fire,s.empty.fire=function(){s.unqueued||r()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,me.queue(e,"fx").length||s.empty.fire()})}));for(a in t)if(n=t[a],ft.test(n)){if(delete t[a],o=o||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!g||void 0===g[a])continue;f=!0}h[a]=g&&g[a]||me.style(e,a)}if((l=!me.isEmptyObject(t))||!me.isEmptyObject(h)){p&&1===e.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],c=g&&g.display,null==c&&(c=Ne.get(e,"display")),d=me.css(e,"display"),"none"===d&&(c?d=c:(v([e],!0),c=e.style.display||c,d=me.css(e,"display"),v([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===me.css(e,"float")&&(l||(u.done(function(){m.display=c}),null==c&&(d=m.display,c="none"===d?"":d)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",u.always(function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]})),l=!1;for(a in h)l||(g?"hidden"in g&&(f=g.hidden):g=Ne.access(e,"fxshow",{display:c}),o&&(g.hidden=!f),f&&v([e],!0),u.done(function(){f||v([e]),Ne.remove(e,"fxshow");for(a in h)me.style(e,a,h[a])})),l=j(f?g[a]:0,a,u),a in g||(g[a]=l.start,f&&(l.end=l.start,l.start=0))}}function q(e,t){var i,a,n,o,s;for(i in e)if(a=me.camelCase(i),n=t[a],o=e[i],Array.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==a&&(e[a]=o,delete e[i]),(s=me.cssHooks[a])&&"expand"in s){o=s.expand(o),delete e[a];for(i in o)i in e||(e[i]=o[i],t[i]=n)}else t[a]=n}function W(e,t,i){var a,n,o=0,s=W.prefilters.length,r=me.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=ht||H(),i=Math.max(0,c.startTime+c.duration-t),a=i/c.duration||0,o=1-a,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return r.notifyWith(e,[c,o,i]),o<1&&l?i:(l||r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:me.extend({},t),opts:me.extend(!0,{specialEasing:{},easing:me.easing._default},i),originalProperties:t,originalOptions:i,startTime:ht||H(),duration:i.duration,tweens:[],createTween:function(t,i){var a=me.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(a),a},stop:function(t){var i=0,a=t?c.tweens.length:0;if(n)return this;for(n=!0;i<a;i++)c.tweens[i].run(1);return t?(r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c,t])):r.rejectWith(e,[c,t]),this}}),d=c.props;for(q(d,c.opts.specialEasing);o<s;o++)if(a=W.prefilters[o].call(c,e,d,c.opts))return me.isFunction(a.stop)&&(me._queueHooks(c.elem,c.opts.queue).stop=me.proxy(a.stop,a)),a;return me.map(d,j,c),me.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),me.fx.timer(me.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function $(e){return(e.match(Ie)||[]).join(" ")}function X(e){return e.getAttribute&&e.getAttribute("class")||""}function Y(e,t,i,a){var n;if(Array.isArray(t))me.each(t,function(t,n){i||At.test(e)?a(e,n):Y(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,a)});else if(i||"object"!==me.type(t))a(e,t);else for(n in t)Y(e+"["+n+"]",t[n],i,a)}function K(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var a,n=0,o=t.toLowerCase().match(Ie)||[];if(me.isFunction(i))for(;a=o[n++];)"+"===a[0]?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(i)):(e[a]=e[a]||[]).push(i)}}function J(e,t,i,a){function n(r){var l;return o[r]=!0,me.each(e[r]||[],function(e,r){var c=r(t,i,a);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),l}var o={},s=e===Bt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function Q(e,t){var i,a,n=me.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:a||(a={}))[i]=t[i]);return a&&me.extend(!0,e,a),e}function Z(e,t,i){for(var a,n,o,s,r=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(n in r)if(r[n]&&r[n].test(a)){l.unshift(n);break}if(l[0]in i)o=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){o=n;break}s||(s=n)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function ee(e,t,i,a){var n,o,s,r,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(n in c)if(r=n.split(" "),r[1]===o&&(s=c[l+" "+r[0]]||c["* "+r[0]])){!0===s?s=c[n]:!0!==c[n]&&(o=r[0],d.unshift(r[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var te=[],ie=e.document,ae=Object.getPrototypeOf,ne=te.slice,oe=te.concat,se=te.push,re=te.indexOf,le={},ce=le.toString,de=le.hasOwnProperty,pe=de.toString,ue=pe.call(Object),he={},me=function(e,t){return new me.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,ve=/-([a-z])/g,be=function(e,t){return t.toUpperCase()};me.fn=me.prototype={jquery:"3.2.1",constructor:me,length:0,toArray:function(){return ne.call(this)},get:function(e){return null==e?ne.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=me.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return me.each(this,e)},map:function(e){return this.pushStack(me.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:te.sort,splice:te.splice},me.extend=me.fn.extend=function(){var e,t,i,a,n,o,s=arguments[0]||{},r=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[r]||{},r++),"object"==typeof s||me.isFunction(s)||(s={}),r===l&&(s=this,r--);r<l;r++)if(null!=(e=arguments[r]))for(t in e)i=s[t],a=e[t],s!==a&&(c&&a&&(me.isPlainObject(a)||(n=Array.isArray(a)))?(n?(n=!1,o=i&&Array.isArray(i)?i:[]):o=i&&me.isPlainObject(i)?i:{},s[t]=me.extend(c,o,a)):void 0!==a&&(s[t]=a));return s},me.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===me.type(e)},
isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=me.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==ce.call(e))&&(!(t=ae(e))||"function"==typeof(i=de.call(t,"constructor")&&t.constructor)&&pe.call(i)===ue)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(ve,be)},each:function(e,t){var i,n=0;if(a(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(a(Object(e))?me.merge(i,"string"==typeof e?[e]:e):se.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:re.call(t,e,i)},merge:function(e,t){for(var i=+t.length,a=0,n=e.length;a<i;a++)e[n++]=t[a];return e.length=n,e},grep:function(e,t,i){for(var a=[],n=0,o=e.length,s=!i;n<o;n++)!t(e[n],n)!==s&&a.push(e[n]);return a},map:function(e,t,i){var n,o,s=0,r=[];if(a(e))for(n=e.length;s<n;s++)null!=(o=t(e[s],s,i))&&r.push(o);else for(s in e)null!=(o=t(e[s],s,i))&&r.push(o);return oe.apply([],r)},guid:1,proxy:function(e,t){var i,a,n;if("string"==typeof t&&(i=e[t],t=e,e=i),me.isFunction(e))return a=ne.call(arguments,2),n=function(){return e.apply(t||this,a.concat(ne.call(arguments)))},n.guid=e.guid=e.guid||me.guid++,n},now:Date.now,support:he}),"function"==typeof Symbol&&(me.fn[Symbol.iterator]=te[Symbol.iterator]),me.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var Ce=function(e){function t(e,t,i,a){var n,o,s,r,l,d,u,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i;if(!a&&((t?t.ownerDocument||t:U)!==P&&M(t),t=t||P,R)){if(11!==m&&(l=fe.exec(e)))if(n=l[1]){if(9===m){if(!(s=t.getElementById(n)))return i;if(s.id===n)return i.push(s),i}else if(h&&(s=h.getElementById(n))&&F(t,s)&&s.id===n)return i.push(s),i}else{if(l[2])return K.apply(i,t.getElementsByTagName(e)),i;if((n=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return K.apply(i,t.getElementsByClassName(n)),i}if(y.qsa&&!G[e+" "]&&(!N||!N.test(e))){if(1!==m)h=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((r=t.getAttribute("id"))?r=r.replace(Ce,ye):t.setAttribute("id",r=B),d=T(e),o=d.length;o--;)d[o]="#"+r+" "+p(d[o]);u=d.join(","),h=ge.test(e)&&c(t.parentNode)||t}if(u)try{return K.apply(i,h.querySelectorAll(u)),i}catch(e){}finally{r===B&&t.removeAttribute("id")}}}return A(e.replace(oe,"$1"),t,i,a)}function i(){function e(i,a){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=a}var t=[];return e}function a(e){return e[B]=!0,e}function n(e){var t=P.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),a=i.length;a--;)x.attrHandle[i[a]]=t}function s(e,t){var i=t&&e,a=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(a)return a;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function r(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&we(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return a(function(t){return t=+t,a(function(i,a){for(var n,o=e([],i.length,t),s=o.length;s--;)i[n=o[s]]&&(i[n]=!(a[n]=i[n]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,i=e.length,a="";t<i;t++)a+=e[t].value;return a}function u(e,t,i){var a=t.dir,n=t.next,o=n||a,s=i&&"parentNode"===o,r=H++;return t.first?function(t,i,n){for(;t=t[a];)if(1===t.nodeType||s)return e(t,i,n);return!1}:function(t,i,l){var c,d,p,u=[z,r];if(l){for(;t=t[a];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[a];)if(1===t.nodeType||s)if(p=t[B]||(t[B]={}),d=p[t.uniqueID]||(p[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[a]||t;else{if((c=d[o])&&c[0]===z&&c[1]===r)return u[2]=c[2];if(d[o]=u,u[2]=e(t,i,l))return!0}return!1}}function h(e){return e.length>1?function(t,i,a){for(var n=e.length;n--;)if(!e[n](t,i,a))return!1;return!0}:e[0]}function m(e,i,a){for(var n=0,o=i.length;n<o;n++)t(e,i[n],a);return a}function f(e,t,i,a,n){for(var o,s=[],r=0,l=e.length,c=null!=t;r<l;r++)(o=e[r])&&(i&&!i(o,a,n)||(s.push(o),c&&t.push(r)));return s}function g(e,t,i,n,o,s){return n&&!n[B]&&(n=g(n)),o&&!o[B]&&(o=g(o,s)),a(function(a,s,r,l){var c,d,p,u=[],h=[],g=s.length,v=a||m(t||"*",r.nodeType?[r]:r,[]),b=!e||!a&&t?v:f(v,u,e,r,l),C=i?o||(a?e:g||n)?[]:s:b;if(i&&i(b,C,r,l),n)for(c=f(C,h),n(c,[],r,l),d=c.length;d--;)(p=c[d])&&(C[h[d]]=!(b[h[d]]=p));if(a){if(o||e){if(o){for(c=[],d=C.length;d--;)(p=C[d])&&c.push(b[d]=p);o(null,C=[],c,l)}for(d=C.length;d--;)(p=C[d])&&(c=o?Q(a,p):u[d])>-1&&(a[c]=!(s[c]=p))}}else C=f(C===s?C.splice(g,C.length):C),o?o(null,s,C,l):K.apply(s,C)})}function v(e){for(var t,i,a,n=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],r=o?1:0,l=u(function(e){return e===t},s,!0),c=u(function(e){return Q(t,e)>-1},s,!0),d=[function(e,i,a){var n=!o&&(a||i!==E)||((t=i).nodeType?l(e,i,a):c(e,i,a));return t=null,n}];r<n;r++)if(i=x.relative[e[r].type])d=[u(h(d),i)];else{if(i=x.filter[e[r].type].apply(null,e[r].matches),i[B]){for(a=++r;a<n&&!x.relative[e[a].type];a++);return g(r>1&&h(d),r>1&&p(e.slice(0,r-1).concat({value:" "===e[r-2].type?"*":""})).replace(oe,"$1"),i,r<a&&v(e.slice(r,a)),a<n&&v(e=e.slice(a)),a<n&&p(e))}d.push(i)}return h(d)}function b(e,i){var n=i.length>0,o=e.length>0,s=function(a,s,r,l,c){var d,p,u,h=0,m="0",g=a&&[],v=[],b=E,C=a||o&&x.find.TAG("*",c),y=z+=null==b?1:Math.random()||.1,w=C.length;for(c&&(E=s===P||s||c);m!==w&&null!=(d=C[m]);m++){if(o&&d){for(p=0,s||d.ownerDocument===P||(M(d),r=!R);u=e[p++];)if(u(d,s||P,r)){l.push(d);break}c&&(z=y)}n&&((d=!u&&d)&&h--,a&&g.push(d))}if(h+=m,n&&m!==h){for(p=0;u=i[p++];)u(g,v,s,r);if(a){if(h>0)for(;m--;)g[m]||v[m]||(v[m]=X.call(l));v=f(v)}K.apply(l,v),c&&!a&&v.length>0&&h+i.length>1&&t.uniqueSort(l)}return c&&(z=y,E=b),g};return n?a(s):s}var C,y,x,w,S,T,k,A,E,_,I,M,P,L,R,N,D,O,F,B="sizzle"+1*new Date,U=e.document,z=0,H=0,V=i(),j=i(),G=i(),q=function(e,t){return e===t&&(I=!0),0},W={}.hasOwnProperty,$=[],X=$.pop,Y=$.push,K=$.push,J=$.slice,Q=function(e,t){for(var i=0,a=e.length;i<a;i++)if(e[i]===t)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ae=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ne=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),re=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ae),de=new RegExp("^"+te+"$"),pe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},ue=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,fe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,i){var a="0x"+t-65536;return a!==a||i?t:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ye=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){M()},we=u(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply($=J.call(U.childNodes),U.childNodes),$[U.childNodes.length].nodeType}catch(e){K={apply:$.length?function(e,t){Y.apply(e,J.call(t))}:function(e,t){for(var i=e.length,a=0;e[i++]=t[a++];);e.length=i-1}}}y=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:U;return a!==P&&9===a.nodeType&&a.documentElement?(P=a,L=P.documentElement,R=!S(P),U!==P&&(i=P.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xe,!1):i.attachEvent&&i.attachEvent("onunload",xe)),y.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=n(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=me.test(P.getElementsByClassName),y.getById=n(function(e){return L.appendChild(e).id=B,!P.getElementsByName||!P.getElementsByName(B).length}),y.getById?(x.filter.ID=function(e){var t=e.replace(ve,be);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var i=t.getElementById(e);return i?[i]:[]}}):(x.filter.ID=function(e){var t=e.replace(ve,be);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&R){var i,a,n,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(n=t.getElementsByName(e),a=0;o=n[a++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),x.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,a=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&a.push(i);return a}return o},x.find.CLASS=y.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&R)return t.getElementsByClassName(e)},D=[],N=[],(y.qsa=me.test(P.querySelectorAll))&&(n(function(e){L.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+B+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||N.push(".#.+[+~]")}),n(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=P.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(y.matchesSelector=me.test(O=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&n(function(e){y.disconnectedMatch=O.call(e,"*"),O.call(e,"[s!='']:x"),D.push("!=",ae)}),N=N.length&&new RegExp(N.join("|")),D=D.length&&new RegExp(D.join("|")),t=me.test(L.compareDocumentPosition),F=t||me.test(L.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return I=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===P||e.ownerDocument===U&&F(U,e)?-1:t===P||t.ownerDocument===U&&F(U,t)?1:_?Q(_,e)-Q(_,t):0:4&i?-1:1)}:function(e,t){if(e===t)return I=!0,0;var i,a=0,n=e.parentNode,o=t.parentNode,r=[e],l=[t];if(!n||!o)return e===P?-1:t===P?1:n?-1:o?1:_?Q(_,e)-Q(_,t):0;if(n===o)return s(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;r[a]===l[a];)a++;return a?s(r[a],l[a]):r[a]===U?-1:l[a]===U?1:0},P):P},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==P&&M(e),i=i.replace(le,"='$1']"),y.matchesSelector&&R&&!G[i+" "]&&(!D||!D.test(i))&&(!N||!N.test(i)))try{var a=O.call(e,i);if(a||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(e){}return t(i,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&M(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&M(e);var i=x.attrHandle[t.toLowerCase()],a=i&&W.call(x.attrHandle,t.toLowerCase())?i(e,t,!R):void 0;return void 0!==a?a:y.attributes||!R?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},t.escape=function(e){return(e+"").replace(Ce,ye)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],a=0,n=0;if(I=!y.detectDuplicates,_=!y.sortStable&&e.slice(0),e.sort(q),I){for(;t=e[n++];)t===e[n]&&(a=i.push(n));for(;a--;)e.splice(i[a],1)}return _=null,e},w=t.getText=function(e){var t,i="",a=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[a++];)i+=w(t);return i},x=t.selectors={cacheLength:50,createPseudo:a,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,a){return function(n){var o=t.attr(n,e);return null==o?"!="===i:!i||(o+="","="===i?o===a:"!="===i?o!==a:"^="===i?a&&0===o.indexOf(a):"*="===i?a&&o.indexOf(a)>-1:"$="===i?a&&o.slice(-a.length)===a:"~="===i?(" "+o.replace(ne," ")+" ").indexOf(a)>-1:"|="===i&&(o===a||o.slice(0,a.length+1)===a+"-"))}},CHILD:function(e,t,i,a,n){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),r="of-type"===t;return 1===a&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var c,d,p,u,h,m,f=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=r&&t.nodeName.toLowerCase(),b=!l&&!r,C=!1;if(g){if(o){for(;f;){for(u=t;u=u[f];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[s?g.firstChild:g.lastChild],s&&b){for(u=g,p=u[B]||(u[B]={}),d=p[u.uniqueID]||(p[u.uniqueID]={}),c=d[e]||[],h=c[0]===z&&c[1],C=h&&c[2],u=h&&g.childNodes[h];u=++h&&u&&u[f]||(C=h=0)||m.pop();)if(1===u.nodeType&&++C&&u===t){d[e]=[z,h,C];break}}else if(b&&(u=t,p=u[B]||(u[B]={}),d=p[u.uniqueID]||(p[u.uniqueID]={}),c=d[e]||[],h=c[0]===z&&c[1],C=h),!1===C)for(;(u=++h&&u&&u[f]||(C=h=0)||m.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++C||(b&&(p=u[B]||(u[B]={}),d=p[u.uniqueID]||(p[u.uniqueID]={}),d[e]=[z,C]),u!==t)););return(C-=n)===a||C%a==0&&C/a>=0}}},PSEUDO:function(e,i){var n,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(i):o.length>1?(n=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a,n=o(e,i),s=n.length;s--;)a=Q(e,n[s]),e[a]=!(t[a]=n[s])}):function(e){return o(e,0,n)}):o}},pseudos:{not:a(function(e){var t=[],i=[],n=k(e.replace(oe,"$1"));return n[B]?a(function(e,t,i,a){for(var o,s=n(e,null,a,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,a,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:a(function(e){return function(i){return t(e,i).length>0}}),contains:a(function(e){return e=e.replace(ve,be),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:a(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,be).toLowerCase(),function(t){var i;do{if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:r(!1),disabled:r(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return ue.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,i){return[i<0?i+t:i]}),even:l(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:l(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:l(function(e,t,i){for(var a=i<0?i+t:i;--a>=0;)e.push(a);return e}),gt:l(function(e,t,i){for(var a=i<0?i+t:i;++a<t;)e.push(a);return e})}},x.pseudos.nth=x.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[C]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(C);for(C in{submit:!0,reset:!0})x.pseudos[C]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(C);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,T=t.tokenize=function(e,i){var a,n,o,s,r,l,c,d=j[e+" "];if(d)return i?0:d.slice(0);for(r=e,l=[],c=x.preFilter;r;){a&&!(n=se.exec(r))||(n&&(r=r.slice(n[0].length)||r),l.push(o=[])),a=!1,(n=re.exec(r))&&(a=n.shift(),o.push({value:a,type:n[0].replace(oe," ")}),r=r.slice(a.length));for(s in x.filter)!(n=pe[s].exec(r))||c[s]&&!(n=c[s](n))||(a=n.shift(),o.push({value:a,type:s,matches:n}),r=r.slice(a.length));if(!a)break}return i?r.length:r?t.error(e):j(e,l).slice(0)},k=t.compile=function(e,t){var i,a=[],n=[],o=G[e+" "];if(!o){for(t||(t=T(e)),i=t.length;i--;)o=v(t[i]),o[B]?a.push(o):n.push(o);o=G(e,b(n,a)),o.selector=e}return o},A=t.select=function(e,t,i,a){var n,o,s,r,l,d="function"==typeof e&&e,u=!a&&T(e=d.selector||e);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&R&&x.relative[o[1].type]){if(!(t=(x.find.ID(s.matches[0].replace(ve,be),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(n=pe.needsContext.test(e)?0:o.length;n--&&(s=o[n],!x.relative[r=s.type]);)if((l=x.find[r])&&(a=l(s.matches[0].replace(ve,be),ge.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(n,1),!(e=a.length&&p(o)))return K.apply(i,a),i;break}}return(d||k(e,u))(a,t,!R,i,!t||ge.test(e)&&c(t.parentNode)||t),i},y.sortStable=B.split("").sort(q).join("")===B,y.detectDuplicates=!!I,M(),y.sortDetached=n(function(e){return 1&e.compareDocumentPosition(P.createElement("fieldset"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,i){var a;if(!i)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);me.find=Ce,me.expr=Ce.selectors,me.expr[":"]=me.expr.pseudos,me.uniqueSort=me.unique=Ce.uniqueSort,me.text=Ce.getText,me.isXMLDoc=Ce.isXML,me.contains=Ce.contains,me.escapeSelector=Ce.escape;var ye=function(e,t,i){for(var a=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&me(e).is(i))break;a.push(e)}return a},xe=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},we=me.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Te=/^.[^:#\[\.,]*$/;me.filter=function(e,t,i){var a=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?me.find.matchesSelector(a,e)?[a]:[]:me.find.matches(e,me.grep(t,function(e){return 1===e.nodeType}))},me.fn.extend({find:function(e){var t,i,a=this.length,n=this;if("string"!=typeof e)return this.pushStack(me(e).filter(function(){for(t=0;t<a;t++)if(me.contains(n[t],this))return!0}));for(i=this.pushStack([]),t=0;t<a;t++)me.find(e,n[t],i);return a>1?me.uniqueSort(i):i},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&we.test(e)?me(e):e||[],!1).length}});var ke,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(me.fn.init=function(e,t,i){var a,n;if(!e)return this;if(i=i||ke,"string"==typeof e){if(!(a="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ae.exec(e))||!a[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof me?t[0]:t,me.merge(this,me.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),Se.test(a[1])&&me.isPlainObject(t))for(a in t)me.isFunction(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return n=ie.getElementById(a[2]),n&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me.isFunction(e)?void 0!==i.ready?i.ready(e):e(me):me.makeArray(e,this)}).prototype=me.fn,ke=me(ie);var Ee=/^(?:parents|prev(?:Until|All))/,_e={children:!0,contents:!0,next:!0,prev:!0};me.fn.extend({has:function(e){var t=me(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(me.contains(this,t[e]))return!0})},closest:function(e,t){var i,a=0,n=this.length,o=[],s="string"!=typeof e&&me(e);if(!we.test(e))for(;a<n;a++)for(i=this[a];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&me.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?me.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?re.call(me(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(me.uniqueSort(me.merge(this.get(),me(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),me.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,i){return ye(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,i){return ye(e,"nextSibling",i)},prevUntil:function(e,t,i){return ye(e,"previousSibling",i)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return n(e,"iframe")?e.contentDocument:(n(e,"template")&&(e=e.content||e),me.merge([],e.childNodes))}},function(e,t){me.fn[e]=function(i,a){var n=me.map(this,t,i);return"Until"!==e.slice(-5)&&(a=i),a&&"string"==typeof a&&(n=me.filter(a,n)),this.length>1&&(_e[e]||me.uniqueSort(n),Ee.test(e)&&n.reverse()),this.pushStack(n)}});var Ie=/[^\x20\t\r\n\f]+/g;me.Callbacks=function(e){e="string"==typeof e?r(e):me.extend({},e);var t,i,a,n,o=[],s=[],l=-1,c=function(){for(n=n||e.once,a=t=!0;s.length;l=-1)for(i=s.shift();++l<o.length;)!1===o[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=o.length,i=!1);e.memory||(i=!1),t=!1,n&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(l=o.length-1,s.push(i)),function t(i){me.each(i,function(i,a){me.isFunction(a)?e.unique&&d.has(a)||o.push(a):a&&a.length&&"string"!==me.type(a)&&t(a)})}(arguments),i&&!t&&c()),this},remove:function(){return me.each(arguments,function(e,t){for(var i;(i=me.inArray(t,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(e){return e?me.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return n=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return n=s=[],i||t||(o=i=""),this},locked:function(){return!!n},fireWith:function(e,i){return n||(i=i||[],i=[e,i.slice?i.slice():i],s.push(i),t||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},me.extend({Deferred:function(t){var i=[["notify","progress",me.Callbacks("memory"),me.Callbacks("memory"),2],["resolve","done",me.Callbacks("once memory"),me.Callbacks("once memory"),0,"resolved"],["reject","fail",me.Callbacks("once memory"),me.Callbacks("once memory"),1,"rejected"]],a="pending",n={state:function(){return a},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return me.Deferred(function(t){me.each(i,function(i,a){var n=me.isFunction(e[a[4]])&&e[a[4]];o[a[1]](function(){var e=n&&n.apply(this,arguments);e&&me.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[a[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(t,a,n){function o(t,i,a,n){return function(){var r=this,d=arguments,p=function(){var e,p;if(!(t<s)){if((e=a.apply(r,d))===i.promise())throw new TypeError("Thenable self-resolution");p=e&&("object"==typeof e||"function"==typeof e)&&e.then,me.isFunction(p)?n?p.call(e,o(s,i,l,n),o(s,i,c,n)):(s++,p.call(e,o(s,i,l,n),o(s,i,c,n),o(s,i,l,i.notifyWith))):(a!==l&&(r=void 0,d=[e]),(n||i.resolveWith)(r,d))}},u=n?p:function(){try{p()}catch(e){me.Deferred.exceptionHook&&me.Deferred.exceptionHook(e,u.stackTrace),t+1>=s&&(a!==c&&(r=void 0,d=[e]),i.rejectWith(r,d))}};t?u():(me.Deferred.getStackHook&&(u.stackTrace=me.Deferred.getStackHook()),e.setTimeout(u))}}var s=0;return me.Deferred(function(e){i[0][3].add(o(0,e,me.isFunction(n)?n:l,e.notifyWith)),i[1][3].add(o(0,e,me.isFunction(t)?t:l)),i[2][3].add(o(0,e,me.isFunction(a)?a:c))}).promise()},promise:function(e){return null!=e?me.extend(e,n):n}},o={};return me.each(i,function(e,t){var s=t[2],r=t[5];n[t[1]]=s.add,r&&s.add(function(){a=r},i[3-e][2].disable,i[0][2].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,i=t,a=Array(i),n=ne.call(arguments),o=me.Deferred(),s=function(e){return function(i){a[e]=this,n[e]=arguments.length>1?ne.call(arguments):i,--t||o.resolveWith(a,n)}};if(t<=1&&(d(e,o.done(s(i)).resolve,o.reject,!t),"pending"===o.state()||me.isFunction(n[i]&&n[i].then)))return o.then();for(;i--;)d(n[i],s(i),o.reject);return o.promise()}});var Me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;me.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Me.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},me.readyException=function(t){e.setTimeout(function(){throw t})};var Pe=me.Deferred();me.fn.ready=function(e){return Pe.then(e).catch(function(e){me.readyException(e)}),this},me.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--me.readyWait:me.isReady)||(me.isReady=!0,!0!==e&&--me.readyWait>0||Pe.resolveWith(ie,[me]))}}),me.ready.then=Pe.then,"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll?e.setTimeout(me.ready):(ie.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Le=function(e,t,i,a,n,o,s){var r=0,l=e.length,c=null==i;if("object"===me.type(i)){n=!0;for(r in i)Le(e,t,r,i[r],!0,o,s)}else if(void 0!==a&&(n=!0,me.isFunction(a)||(s=!0),c&&(s?(t.call(e,a),t=null):(c=t,t=function(e,t,i){return c.call(me(e),i)})),t))for(;r<l;r++)t(e[r],i,s?a:a.call(e[r],r,t(e[r],i)));return n?e:c?t.call(e):l?t(e[0],i):o},Re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};u.uid=1,u.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var a,n=this.cache(e);if("string"==typeof t)n[me.camelCase(t)]=i;else for(a in t)n[me.camelCase(a)]=t[a];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][me.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,a=e[this.expando];if(void 0!==a){if(void 0!==t){Array.isArray(t)?t=t.map(me.camelCase):(t=me.camelCase(t),t=t in a?[t]:t.match(Ie)||[]),i=t.length;for(;i--;)delete a[t[i]]}(void 0===t||me.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!me.isEmptyObject(t)}};var Ne=new u,De=new u,Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;me.extend({hasData:function(e){return De.hasData(e)||Ne.hasData(e)},data:function(e,t,i){return De.access(e,t,i)},removeData:function(e,t){De.remove(e,t)},_data:function(e,t,i){return Ne.access(e,t,i)},_removeData:function(e,t){Ne.remove(e,t)}}),me.fn.extend({data:function(e,t){var i,a,n,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(n=De.get(o),1===o.nodeType&&!Ne.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(a=s[i].name,0===a.indexOf("data-")&&(a=me.camelCase(a.slice(5)),m(o,a,n[a])));Ne.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){De.set(this,e)}):Le(this,function(t){var i;if(o&&void 0===t){if(void 0!==(i=De.get(o,e)))return i;if(void 0!==(i=m(o,e)))return i}else this.each(function(){De.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){De.remove(this,e)})}}),me.extend({queue:function(e,t,i){var a;if(e)return t=(t||"fx")+"queue",a=Ne.get(e,t),i&&(!a||Array.isArray(i)?a=Ne.access(e,t,me.makeArray(i)):a.push(i)),a||[]},dequeue:function(e,t){t=t||"fx";var i=me.queue(e,t),a=i.length,n=i.shift(),o=me._queueHooks(e,t),s=function(){me.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),a--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,s,o)),!a&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ne.get(e,i)||Ne.access(e,i,{empty:me.Callbacks("once memory").add(function(){
Ne.remove(e,[t+"queue",i])})})}}),me.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?me.queue(this[0],e):void 0===t?this:this.each(function(){var i=me.queue(this,e,t);me._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&me.dequeue(this,e)})},dequeue:function(e){return this.each(function(){me.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,a=1,n=me.Deferred(),o=this,s=this.length,r=function(){--a||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=Ne.get(o[s],e+"queueHooks"))&&i.empty&&(a++,i.empty.add(r));return r(),n.promise(t)}});var Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],He=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&me.contains(e.ownerDocument,e)&&"none"===me.css(e,"display")},Ve=function(e,t,i,a){var n,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,a||[]);for(o in t)e.style[o]=s[o];return n},je={};me.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){He(this)?me(this).show():me(this).hide()})}});var Ge=/^(?:checkbox|radio)$/i,qe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,We=/^$|\/(?:java|ecma)script/i,$e={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$e.optgroup=$e.option,$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td;var Xe=/<|&#?\w+;/;!function(){var e=ie.createDocumentFragment(),t=e.appendChild(ie.createElement("div")),i=ie.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),he.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ye=ie.documentElement,Ke=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;me.event={global:{},add:function(e,t,i,a,n){var o,s,r,l,c,d,p,u,h,m,f,g=Ne.get(e);if(g)for(i.handler&&(o=i,i=o.handler,n=o.selector),n&&me.find.matchesSelector(Ye,n),i.guid||(i.guid=me.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==me&&me.event.triggered!==t.type?me.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ie)||[""],c=t.length;c--;)r=Qe.exec(t[c])||[],h=f=r[1],m=(r[2]||"").split(".").sort(),h&&(p=me.event.special[h]||{},h=(n?p.delegateType:p.bindType)||h,p=me.event.special[h]||{},d=me.extend({type:h,origType:f,data:a,handler:i,guid:i.guid,selector:n,needsContext:n&&me.expr.match.needsContext.test(n),namespace:m.join(".")},o),(u=l[h])||(u=l[h]=[],u.delegateCount=0,p.setup&&!1!==p.setup.call(e,a,m,s)||e.addEventListener&&e.addEventListener(h,s)),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),n?u.splice(u.delegateCount++,0,d):u.push(d),me.event.global[h]=!0)},remove:function(e,t,i,a,n){var o,s,r,l,c,d,p,u,h,m,f,g=Ne.hasData(e)&&Ne.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Ie)||[""],c=t.length;c--;)if(r=Qe.exec(t[c])||[],h=f=r[1],m=(r[2]||"").split(".").sort(),h){for(p=me.event.special[h]||{},h=(a?p.delegateType:p.bindType)||h,u=l[h]||[],r=r[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=u.length;o--;)d=u[o],!n&&f!==d.origType||i&&i.guid!==d.guid||r&&!r.test(d.namespace)||a&&a!==d.selector&&("**"!==a||!d.selector)||(u.splice(o,1),d.selector&&u.delegateCount--,p.remove&&p.remove.call(e,d));s&&!u.length&&(p.teardown&&!1!==p.teardown.call(e,m,g.handle)||me.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)me.event.remove(e,h+t[c],i,a,!0);me.isEmptyObject(l)&&Ne.remove(e,"handle events")}},dispatch:function(e){var t,i,a,n,o,s,r=me.event.fix(e),l=new Array(arguments.length),c=(Ne.get(this,"events")||{})[r.type]||[],d=me.event.special[r.type]||{};for(l[0]=r,t=1;t<arguments.length;t++)l[t]=arguments[t];if(r.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,r)){for(s=me.event.handlers.call(this,r,c),t=0;(n=s[t++])&&!r.isPropagationStopped();)for(r.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!r.isImmediatePropagationStopped();)r.rnamespace&&!r.rnamespace.test(o.namespace)||(r.handleObj=o,r.data=o.data,void 0!==(a=((me.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,l))&&!1===(r.result=a)&&(r.preventDefault(),r.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,r),r.result}},handlers:function(e,t){var i,a,n,o,s,r=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},i=0;i<l;i++)a=t[i],n=a.selector+" ",void 0===s[n]&&(s[n]=a.needsContext?me(n,this).index(c)>-1:me.find(n,this,null,[c]).length),s[n]&&o.push(a);o.length&&r.push({elem:c,handlers:o})}return c=this,l<t.length&&r.push({elem:c,handlers:t.slice(l)}),r},addProp:function(e,t){Object.defineProperty(me.Event.prototype,e,{enumerable:!0,configurable:!0,get:me.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[me.expando]?e:new me.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&n(this,"input"))return this.click(),!1},_default:function(e){return n(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},me.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},me.Event=function(e,t){if(!(this instanceof me.Event))return new me.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?x:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&me.extend(this,t),this.timeStamp=e&&e.timeStamp||me.now(),this[me.expando]=!0},me.Event.prototype={constructor:me.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},me.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},me.event.addProp),me.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){me.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,a=this,n=e.relatedTarget,o=e.handleObj;return n&&(n===a||me.contains(a,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),me.fn.extend({on:function(e,t,i,a){return T(this,e,t,i,a)},one:function(e,t,i,a){return T(this,e,t,i,a,1)},off:function(e,t,i){var a,n;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,me(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=w),this.each(function(){me.event.remove(this,e,i,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;me.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,i){var a,n,o,s,r=e.cloneNode(!0),l=me.contains(e.ownerDocument,e);if(!(he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||me.isXMLDoc(e)))for(s=b(r),o=b(e),a=0,n=o.length;a<n;a++)I(o[a],s[a]);if(t)if(i)for(o=o||b(e),s=s||b(r),a=0,n=o.length;a<n;a++)_(o[a],s[a]);else _(e,r);return s=b(r,"script"),s.length>0&&C(s,!l&&b(e,"script")),r},cleanData:function(e){for(var t,i,a,n=me.event.special,o=0;void 0!==(i=e[o]);o++)if(Re(i)){if(t=i[Ne.expando]){if(t.events)for(a in t.events)n[a]?me.event.remove(i,a):me.removeEvent(i,a,t.handle);i[Ne.expando]=void 0}i[De.expando]&&(i[De.expando]=void 0)}}}),me.fn.extend({detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Le(this,function(e){return void 0===e?me.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){k(this,e).appendChild(e)}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(me.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return me.clone(this,e,t)})},html:function(e){return Le(this,function(e){var t=this[0]||{},i=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!et.test(e)&&!$e[(qe.exec(e)||["",""])[1].toLowerCase()]){e=me.htmlPrefilter(e);try{for(;i<a;i++)t=this[i]||{},1===t.nodeType&&(me.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return M(this,arguments,function(t){var i=this.parentNode;me.inArray(this,e)<0&&(me.cleanData(b(this)),i&&i.replaceChild(t,this))},e)}}),me.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){me.fn[e]=function(e){for(var i,a=[],n=me(e),o=n.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),me(n[s])[t](i),se.apply(a,i.get());return this.pushStack(a)}});var nt=/^margin/,ot=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),st=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};!function(){function t(){if(r){r.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r.innerHTML="",Ye.appendChild(s);var t=e.getComputedStyle(r);i="1%"!==t.top,o="2px"===t.marginLeft,a="4px"===t.width,r.style.marginRight="50%",n="4px"===t.marginRight,Ye.removeChild(s),r=null}}var i,a,n,o,s=ie.createElement("div"),r=ie.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===r.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(r),me.extend(he,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),a},pixelMarginRight:function(){return t(),n},reliableMarginLeft:function(){return t(),o}}))}();var rt=/^(none|table(?!-c[ea]).+)/,lt=/^--/,ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},pt=["Webkit","Moz","ms"],ut=ie.createElement("div").style;me.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=L(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,s,r=me.camelCase(t),l=lt.test(t),c=e.style;if(l||(t=D(r)),s=me.cssHooks[t]||me.cssHooks[r],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(e,!1,a))?n:c[t];o=typeof i,"string"===o&&(n=Ue.exec(i))&&n[1]&&(i=f(e,t,n),o="number"),null!=i&&i===i&&("number"===o&&(i+=n&&n[3]||(me.cssNumber[r]?"":"px")),he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,a))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,a){var n,o,s,r=me.camelCase(t);return lt.test(t)||(t=D(r)),s=me.cssHooks[t]||me.cssHooks[r],s&&"get"in s&&(n=s.get(e,!0,i)),void 0===n&&(n=L(e,t,a)),"normal"===n&&t in dt&&(n=dt[t]),""===i||i?(o=parseFloat(n),!0===i||isFinite(o)?o||0:n):n}}),me.each(["height","width"],function(e,t){me.cssHooks[t]={get:function(e,i,a){if(i)return!rt.test(me.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,a):Ve(e,ct,function(){return B(e,t,a)})},set:function(e,i,a){var n,o=a&&st(e),s=a&&F(e,t,a,"border-box"===me.css(e,"boxSizing",!1,o),o);return s&&(n=Ue.exec(i))&&"px"!==(n[3]||"px")&&(e.style[t]=i,i=me.css(e,t)),O(e,i,s)}}}),me.cssHooks.marginLeft=R(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(L(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),me.each({margin:"",padding:"",border:"Width"},function(e,t){me.cssHooks[e+t]={expand:function(i){for(var a=0,n={},o="string"==typeof i?i.split(" "):[i];a<4;a++)n[e+ze[a]+t]=o[a]||o[a-2]||o[0];return n}},nt.test(e)||(me.cssHooks[e+t].set=O)}),me.fn.extend({css:function(e,t){return Le(this,function(e,t,i){var a,n,o={},s=0;if(Array.isArray(t)){for(a=st(e),n=t.length;s<n;s++)o[t[s]]=me.css(e,t[s],!1,a);return o}return void 0!==i?me.style(e,t,i):me.css(e,t)},e,t,arguments.length>1)}}),me.Tween=U,U.prototype={constructor:U,init:function(e,t,i,a,n,o){this.elem=e,this.prop=i,this.easing=n||me.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=o||(me.cssNumber[i]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,i=U.propHooks[this.prop];return this.options.duration?this.pos=t=me.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=me.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){me.fx.step[e.prop]?me.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[me.cssProps[e.prop]]&&!me.cssHooks[e.prop]?e.elem[e.prop]=e.now:me.style(e.elem,e.prop,e.now+e.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},me.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},me.fx=U.prototype.init,me.fx.step={};var ht,mt,ft=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;me.Animation=me.extend(W,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return f(i.elem,e,Ue.exec(t),i),i}]},tweener:function(e,t){me.isFunction(e)?(t=e,e=["*"]):e=e.match(Ie);for(var i,a=0,n=e.length;a<n;a++)i=e[a],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(t)},prefilters:[G],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),me.speed=function(e,t,i){var a=e&&"object"==typeof e?me.extend({},e):{complete:i||!i&&t||me.isFunction(e)&&e,duration:e,easing:i&&t||t&&!me.isFunction(t)&&t};return me.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in me.fx.speeds?a.duration=me.fx.speeds[a.duration]:a.duration=me.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){me.isFunction(a.old)&&a.old.call(this),a.queue&&me.dequeue(this,a.queue)},a},me.fn.extend({fadeTo:function(e,t,i,a){return this.filter(He).css("opacity",0).show().end().animate({opacity:t},e,i,a)},animate:function(e,t,i,a){var n=me.isEmptyObject(e),o=me.speed(t,i,a),s=function(){var t=W(this,me.extend({},e),o);(n||Ne.get(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=me.timers,s=Ne.get(this);if(n)s[n]&&s[n].stop&&a(s[n]);else for(n in s)s[n]&&s[n].stop&&gt.test(n)&&a(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));!t&&i||me.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Ne.get(this),a=i[e+"queue"],n=i[e+"queueHooks"],o=me.timers,s=a?a.length:0;for(i.finish=!0,me.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete i.finish})}}),me.each(["toggle","show","hide"],function(e,t){var i=me.fn[t];me.fn[t]=function(e,a,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(V(t,!0),e,a,n)}}),me.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){me.fn[e]=function(e,i,a){return this.animate(t,e,i,a)}}),me.timers=[],me.fx.tick=function(){var e,t=0,i=me.timers;for(ht=me.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||me.fx.stop(),ht=void 0},me.fx.timer=function(e){me.timers.push(e),me.fx.start()},me.fx.interval=13,me.fx.start=function(){mt||(mt=!0,z())},me.fx.stop=function(){mt=null},me.fx.speeds={slow:600,fast:200,_default:400},me.fn.delay=function(t,i){return t=me.fx?me.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,a){var n=e.setTimeout(i,t);a.stop=function(){e.clearTimeout(n)}})},function(){var e=ie.createElement("input"),t=ie.createElement("select"),i=t.appendChild(ie.createElement("option"));e.type="checkbox",he.checkOn=""!==e.value,he.optSelected=i.selected,e=ie.createElement("input"),e.value="t",e.type="radio",he.radioValue="t"===e.value}();var vt,bt=me.expr.attrHandle;me.fn.extend({attr:function(e,t){return Le(this,me.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){me.removeAttr(this,e)})}}),me.extend({attr:function(e,t,i){var a,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?me.prop(e,t,i):(1===o&&me.isXMLDoc(e)||(n=me.attrHooks[t.toLowerCase()]||(me.expr.match.bool.test(t)?vt:void 0)),void 0!==i?null===i?void me.removeAttr(e,t):n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(a=n.get(e,t))?a:(a=me.find.attr(e,t),null==a?void 0:a))},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&n(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,a=0,n=t&&t.match(Ie);if(n&&1===e.nodeType)for(;i=n[a++];)e.removeAttribute(i)}}),vt={set:function(e,t,i){return!1===t?me.removeAttr(e,i):e.setAttribute(i,i),i}},me.each(me.expr.match.bool.source.match(/\w+/g),function(e,t){var i=bt[t]||me.find.attr;bt[t]=function(e,t,a){var n,o,s=t.toLowerCase();return a||(o=bt[s],bt[s]=n,n=null!=i(e,t,a)?s:null,bt[s]=o),n}});var Ct=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;me.fn.extend({prop:function(e,t){return Le(this,me.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[me.propFix[e]||e]})}}),me.extend({prop:function(e,t,i){var a,n,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&me.isXMLDoc(e)||(t=me.propFix[t]||t,n=me.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:e[t]=i:n&&"get"in n&&null!==(a=n.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=me.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(me.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),me.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){me.propFix[this.toLowerCase()]=this}),me.fn.extend({addClass:function(e){var t,i,a,n,o,s,r,l=0;if(me.isFunction(e))return this.each(function(t){me(this).addClass(e.call(this,t,X(this)))});if("string"==typeof e&&e)for(t=e.match(Ie)||[];i=this[l++];)if(n=X(i),a=1===i.nodeType&&" "+$(n)+" "){for(s=0;o=t[s++];)a.indexOf(" "+o+" ")<0&&(a+=o+" ");r=$(a),n!==r&&i.setAttribute("class",r)}return this},removeClass:function(e){var t,i,a,n,o,s,r,l=0;if(me.isFunction(e))return this.each(function(t){me(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ie)||[];i=this[l++];)if(n=X(i),a=1===i.nodeType&&" "+$(n)+" "){for(s=0;o=t[s++];)for(;a.indexOf(" "+o+" ")>-1;)a=a.replace(" "+o+" "," ");r=$(a),n!==r&&i.setAttribute("class",r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):me.isFunction(e)?this.each(function(i){me(this).toggleClass(e.call(this,i,X(this),t),t)}):this.each(function(){var t,a,n,o;if("string"===i)for(a=0,n=me(this),o=e.match(Ie)||[];t=o[a++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==e&&"boolean"!==i||(t=X(this),t&&Ne.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ne.get(this,"__className__")||""))})},hasClass:function(e){var t,i,a=0;for(t=" "+e+" ";i=this[a++];)if(1===i.nodeType&&(" "+$(X(i))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;me.fn.extend({val:function(e){var t,i,a,n=this[0];{if(arguments.length)return a=me.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=a?e.call(this,i,me(this).val()):e,null==n?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=me.map(n,function(e){return null==e?"":e+""})),(t=me.valHooks[this.type]||me.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return(t=me.valHooks[n.type]||me.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(xt,""):null==i?"":i)}}}),me.extend({valHooks:{option:{get:function(e){var t=me.find.attr(e,"value");return null!=t?t:$(me.text(e))}},select:{get:function(e){var t,i,a,o=e.options,s=e.selectedIndex,r="select-one"===e.type,l=r?null:[],c=r?s+1:o.length;for(a=s<0?c:r?s:0;a<c;a++)if(i=o[a],(i.selected||a===s)&&!i.disabled&&(!i.parentNode.disabled||!n(i.parentNode,"optgroup"))){if(t=me(i).val(),r)return t;l.push(t)}return l},set:function(e,t){for(var i,a,n=e.options,o=me.makeArray(t),s=n.length;s--;)a=n[s],(a.selected=me.inArray(me.valHooks.option.get(a),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),me.each(["radio","checkbox"],function(){me.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=me.inArray(me(e).val(),t)>-1}},he.checkOn||(me.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt=/^(?:focusinfocus|focusoutblur)$/;me.extend(me.event,{trigger:function(t,i,a,n){var o,s,r,l,c,d,p,u=[a||ie],h=de.call(t,"type")?t.type:t,m=de.call(t,"namespace")?t.namespace.split("."):[];if(s=r=a=a||ie,3!==a.nodeType&&8!==a.nodeType&&!wt.test(h+me.event.triggered)&&(h.indexOf(".")>-1&&(m=h.split("."),h=m.shift(),m.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[me.expando]?t:new me.Event(h,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),i=null==i?[t]:me.makeArray(i,[t]),p=me.event.special[h]||{},n||!p.trigger||!1!==p.trigger.apply(a,i))){if(!n&&!p.noBubble&&!me.isWindow(a)){for(l=p.delegateType||h,wt.test(l+h)||(s=s.parentNode);s;s=s.parentNode)u.push(s),r=s;r===(a.ownerDocument||ie)&&u.push(r.defaultView||r.parentWindow||e)}for(o=0;(s=u[o++])&&!t.isPropagationStopped();)t.type=o>1?l:p.bindType||h,d=(Ne.get(s,"events")||{})[t.type]&&Ne.get(s,"handle"),d&&d.apply(s,i),(d=c&&s[c])&&d.apply&&Re(s)&&(t.result=d.apply(s,i),!1===t.result&&t.preventDefault());return t.type=h,n||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(u.pop(),i)||!Re(a)||c&&me.isFunction(a[h])&&!me.isWindow(a)&&(r=a[c],r&&(a[c]=null),me.event.triggered=h,a[h](),me.event.triggered=void 0,r&&(a[c]=r)),t.result}},simulate:function(e,t,i){var a=me.extend(new me.Event,i,{type:e,isSimulated:!0});me.event.trigger(a,null,t)}}),me.fn.extend({trigger:function(e,t){return this.each(function(){me.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return me.event.trigger(e,t,i,!0)}}),me.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){me.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),me.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.focusin="onfocusin"in e,he.focusin||me.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){me.event.simulate(t,e.target,me.event.fix(e))};me.event.special[t]={setup:function(){var a=this.ownerDocument||this,n=Ne.access(a,t);n||a.addEventListener(e,i,!0),Ne.access(a,t,(n||0)+1)},teardown:function(){var a=this.ownerDocument||this,n=Ne.access(a,t)-1;n?Ne.access(a,t,n):(a.removeEventListener(e,i,!0),Ne.remove(a,t))}}});var St=e.location,Tt=me.now(),kt=/\?/;me.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||me.error("Invalid XML: "+t),i};var At=/\[\]$/,Et=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;me.param=function(e,t){var i,a=[],n=function(e,t){var i=me.isFunction(t)?t():t;a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!me.isPlainObject(e))me.each(e,function(){n(this.name,this.value)});else for(i in e)Y(i,e[i],t,n);return a.join("&")},me.fn.extend({serialize:function(){return me.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=me.prop(this,"elements");return e?me.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!me(this).is(":disabled")&&It.test(this.nodeName)&&!_t.test(e)&&(this.checked||!Ge.test(e))}).map(function(e,t){var i=me(this).val();return null==i?null:Array.isArray(i)?me.map(i,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:i.replace(Et,"\r\n")}}).get()}});var Mt=/%20/g,Pt=/#.*$/,Lt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Dt=/^(?:GET|HEAD)$/,Ot=/^\/\//,Ft={},Bt={},Ut="*/".concat("*"),zt=ie.createElement("a");zt.href=St.href,me.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:Nt.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":me.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,me.ajaxSettings),t):Q(me.ajaxSettings,e)},ajaxPrefilter:K(Ft),ajaxTransport:K(Bt),ajax:function(t,i){function a(t,i,a,r){var c,u,h,y,x,w=i;d||(d=!0,l&&e.clearTimeout(l),n=void 0,s=r||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(y=Z(m,S,a)),y=ee(m,y,S,c),c?(m.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(me.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(me.etag[o]=x)),204===t||"HEAD"===m.type?w="nocontent":304===t?w="notmodified":(w=y.state,u=y.data,h=y.error,c=!h)):(h=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(i||w)+"",c?v.resolveWith(f,[u,w,S]):v.rejectWith(f,[S,w,h]),S.statusCode(C),C=void 0,p&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,m,c?u:h]),b.fireWith(f,[S,w]),p&&(g.trigger("ajaxComplete",[S,m]),--me.active||me.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,o,s,r,l,c,d,p,u,h,m=me.ajaxSetup({},i),f=m.context||m,g=m.context&&(f.nodeType||f.jquery)?me(f):me.event,v=me.Deferred(),b=me.Callbacks("once memory"),C=m.statusCode||{},y={},x={},w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(d){if(!r)for(r={};t=Rt.exec(s);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?s:null},setRequestHeader:function(e,t){return null==d&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==d&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)S.always(e[S.status]);else for(t in e)C[t]=[C[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),a(0,t),this}};if(v.promise(S),m.url=((t||m.url||St.href)+"").replace(Ot,St.protocol+"//"),m.type=i.method||i.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(Ie)||[""],null==m.crossDomain){c=ie.createElement("a");try{c.href=m.url,c.href=c.href,m.crossDomain=zt.protocol+"//"+zt.host!=c.protocol+"//"+c.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=me.param(m.data,m.traditional)),J(Ft,m,i,S),d)return S;p=me.event&&m.global,p&&0==me.active++&&me.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Dt.test(m.type),o=m.url.replace(Pt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Mt,"+")):(h=m.url.slice(o.length),m.data&&(o+=(kt.test(o)?"&":"?")+m.data,delete m.data),!1===m.cache&&(o=o.replace(Lt,"$1"),h=(kt.test(o)?"&":"?")+"_="+Tt+++h),m.url=o+h),m.ifModified&&(me.lastModified[o]&&S.setRequestHeader("If-Modified-Since",me.lastModified[o]),me.etag[o]&&S.setRequestHeader("If-None-Match",me.etag[o])),(m.data&&m.hasContent&&!1!==m.contentType||i.contentType)&&S.setRequestHeader("Content-Type",m.contentType),
S.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ut+"; q=0.01":""):m.accepts["*"]);for(u in m.headers)S.setRequestHeader(u,m.headers[u]);if(m.beforeSend&&(!1===m.beforeSend.call(f,S,m)||d))return S.abort();if(w="abort",b.add(m.complete),S.done(m.success),S.fail(m.error),n=J(Bt,m,i,S)){if(S.readyState=1,p&&g.trigger("ajaxSend",[S,m]),d)return S;m.async&&m.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},m.timeout));try{d=!1,n.send(y,a)}catch(e){if(d)throw e;a(-1,e)}}else a(-1,"No Transport");return S},getJSON:function(e,t,i){return me.get(e,t,i,"json")},getScript:function(e,t){return me.get(e,void 0,t,"script")}}),me.each(["get","post"],function(e,t){me[t]=function(e,i,a,n){return me.isFunction(i)&&(n=n||a,a=i,i=void 0),me.ajax(me.extend({url:e,type:t,dataType:n,data:i,success:a},me.isPlainObject(e)&&e))}}),me._evalUrl=function(e){return me.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},me.fn.extend({wrapAll:function(e){var t;return this[0]&&(me.isFunction(e)&&(e=e.call(this[0])),t=me(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me.isFunction(e)?this.each(function(t){me(this).wrapInner(e.call(this,t))}):this.each(function(){var t=me(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=me.isFunction(e);return this.each(function(i){me(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){me(this).replaceWith(this.childNodes)}),this}}),me.expr.pseudos.hidden=function(e){return!me.expr.pseudos.visible(e)},me.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},me.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Vt=me.ajaxSettings.xhr();he.cors=!!Vt&&"withCredentials"in Vt,he.ajax=Vt=!!Vt,me.ajaxTransport(function(t){var i,a;if(he.cors||Vt&&!t.crossDomain)return{send:function(n,o){var s,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)r[s]=t.xhrFields[s];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)r.setRequestHeader(s,n[s]);i=function(e){return function(){i&&(i=a=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?o(0,"error"):o(r.status,r.statusText):o(Ht[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),a=r.onerror=i("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout(function(){i&&a()})},i=i("abort");try{r.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),me.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),me.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return me.globalEval(e),e}}}),me.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),me.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(a,n){t=me("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),ie.head.appendChild(t[0])},abort:function(){i&&i()}}}});var jt=[],Gt=/(=)\?(?=&|$)|\?\?/;me.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||me.expando+"_"+Tt++;return this[e]=!0,e}}),me.ajaxPrefilter("json jsonp",function(t,i,a){var n,o,s,r=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(r||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=me.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Gt,"$1"+n):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||me.error(n+" was not called"),s[0]},t.dataTypes[0]="json",o=e[n],e[n]=function(){s=arguments},a.always(function(){void 0===o?me(e).removeProp(n):e[n]=o,t[n]&&(t.jsonpCallback=i.jsonpCallback,jt.push(n)),s&&me.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),he.createHTMLDocument=function(){var e=ie.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),me.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var a,n,o;return t||(he.createHTMLDocument?(t=ie.implementation.createHTMLDocument(""),a=t.createElement("base"),a.href=ie.location.href,t.head.appendChild(a)):t=ie),n=Se.exec(e),o=!i&&[],n?[t.createElement(n[1])]:(n=y([e],t,o),o&&o.length&&me(o).remove(),me.merge([],n.childNodes))},me.fn.load=function(e,t,i){var a,n,o,s=this,r=e.indexOf(" ");return r>-1&&(a=$(e.slice(r)),e=e.slice(0,r)),me.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),s.length>0&&me.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(a?me("<div>").append(me.parseHTML(e)).find(a):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},me.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){me.fn[t]=function(e){return this.on(t,e)}}),me.expr.pseudos.animated=function(e){return me.grep(me.timers,function(t){return e===t.elem}).length},me.offset={setOffset:function(e,t,i){var a,n,o,s,r,l,c,d=me.css(e,"position"),p=me(e),u={};"static"===d&&(e.style.position="relative"),r=p.offset(),o=me.css(e,"top"),l=me.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1,c?(a=p.position(),s=a.top,n=a.left):(s=parseFloat(o)||0,n=parseFloat(l)||0),me.isFunction(t)&&(t=t.call(e,i,me.extend({},r))),null!=t.top&&(u.top=t.top-r.top+s),null!=t.left&&(u.left=t.left-r.left+n),"using"in t?t.using.call(e,u):p.css(u)}},me.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){me.offset.setOffset(this,e,t)});var t,i,a,n,o=this[0];if(o)return o.getClientRects().length?(a=o.getBoundingClientRect(),t=o.ownerDocument,i=t.documentElement,n=t.defaultView,{top:a.top+n.pageYOffset-i.clientTop,left:a.left+n.pageXOffset-i.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,i=this[0],a={top:0,left:0};return"fixed"===me.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n(e[0],"html")||(a=e.offset()),a={top:a.top+me.css(e[0],"borderTopWidth",!0),left:a.left+me.css(e[0],"borderLeftWidth",!0)}),{top:t.top-a.top-me.css(i,"marginTop",!0),left:t.left-a.left-me.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===me.css(e,"position");)e=e.offsetParent;return e||Ye})}}),me.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;me.fn[e]=function(a){return Le(this,function(e,a,n){var o;if(me.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===n)return o?o[t]:e[a];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):e[a]=n},e,a,arguments.length)}}),me.each(["top","left"],function(e,t){me.cssHooks[t]=R(he.pixelPosition,function(e,i){if(i)return i=L(e,t),ot.test(i)?me(e).position()[t]+"px":i})}),me.each({Height:"height",Width:"width"},function(e,t){me.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,a){me.fn[a]=function(n,o){var s=arguments.length&&(i||"boolean"!=typeof n),r=i||(!0===n||!0===o?"margin":"border");return Le(this,function(t,i,n){var o;return me.isWindow(t)?0===a.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?me.css(t,i,r):me.style(t,i,n,r)},t,s?n:void 0,s)}})}),me.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,a){return this.on(t,e,i,a)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),me.holdReady=function(e){e?me.readyWait++:me.ready(!0)},me.isArray=Array.isArray,me.parseJSON=JSON.parse,me.nodeName=n,"function"==typeof define&&define.amd&&define("jquery",[],function(){return me});var qt=e.jQuery,Wt=e.$;return me.noConflict=function(t){return e.$===me&&(e.$=Wt),t&&e.jQuery===me&&(e.jQuery=qt),me},t||(e.jQuery=e.$=me),me}),function(){var e,t=this,i=t.Backbone,a=[],n=a.slice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.1.0";var o=t._;o||"undefined"==typeof require||(o=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(e,t,i){return l(this,"on",e,[t,i])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:i,ctx:i||this}),this):this},once:function(e,t,i){if(!l(this,"once",e,[t,i])||!t)return this;var a=this,n=o.once(function(){a.off(e,n),t.apply(this,arguments)});return n._callback=t,this.on(e,n,i)},off:function(e,t,i){var a,n,s,r,c,d,p,u;if(!this._events||!l(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(r=e?[e]:o.keys(this._events),c=0,d=r.length;c<d;c++)if(e=r[c],s=this._events[e]){if(this._events[e]=a=[],t||i)for(p=0,u=s.length;p<u;p++)n=s[p],(t&&t!==n.callback&&t!==n.callback._callback||i&&i!==n.context)&&a.push(n);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=n.call(arguments,1);if(!l(this,"trigger",e,t))return this;var i=this._events[e],a=this._events.all;return i&&c(i,t),a&&c(a,arguments),this},stopListening:function(e,t,i){var a=this._listeningTo;if(!a)return this;var n=!t&&!i;i||"object"!=typeof t||(i=this),e&&((a={})[e._listenId]=e);for(var s in a)e=a[s],e.off(t,i,this),(n||o.isEmpty(e._events))&&delete this._listeningTo[s];return this}},r=/\s+/,l=function(e,t,i,a){if(!i)return!0;if("object"==typeof i){for(var n in i)e[t].apply(e,[n,i[n]].concat(a));return!1}if(r.test(i)){for(var o=i.split(r),s=0,l=o.length;s<l;s++)e[t].apply(e,[o[s]].concat(a));return!1}return!0},c=function(e,t){var i,a=-1,n=e.length,o=t[0],s=t[1],r=t[2];switch(t.length){case 0:for(;++a<n;)(i=e[a]).callback.call(i.ctx);return;case 1:for(;++a<n;)(i=e[a]).callback.call(i.ctx,o);return;case 2:for(;++a<n;)(i=e[a]).callback.call(i.ctx,o,s);return;case 3:for(;++a<n;)(i=e[a]).callback.call(i.ctx,o,s,r);return;default:for(;++a<n;)(i=e[a]).callback.apply(i.ctx,t)}},d={listenTo:"on",listenToOnce:"once"};o.each(d,function(e,t){s[t]=function(t,i,a){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=o.uniqueId("l"))]=t,a||"object"!=typeof i||(a=this),t[e](i,a,this),this}}),s.bind=s.on,s.unbind=s.off,o.extend(e,s);var p=e.Model=function(e,t){var i=e||{};t||(t={}),this.cid=o.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=o.defaults({},i,o.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};o.extend(p.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var a,n,s,r,l,c,d,p;if(null==e)return this;if("object"==typeof e?(n=e,i=t):(n={})[e]=t,i||(i={}),!this._validate(n,i))return!1;s=i.unset,l=i.silent,r=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=o.clone(this.attributes),this.changed={}),p=this.attributes,d=this._previousAttributes,this.idAttribute in n&&(this.id=n[this.idAttribute]);for(a in n)t=n[a],o.isEqual(p[a],t)||r.push(a),o.isEqual(d[a],t)?delete this.changed[a]:this.changed[a]=t,s?delete p[a]:p[a]=t;if(!l){r.length&&(this._pending=!0);for(var u=0,h=r.length;u<h;u++)this.trigger("change:"+r[u],this,p[r[u]],i)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,o.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!o.isEmpty(this.changed):o.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&o.clone(this.changed);var t,i=!1,a=this._changing?this._previousAttributes:this.attributes;for(var n in e)o.isEqual(a[n],t=e[n])||((i||(i={}))[n]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(a){if(!t.set(t.parse(a,e),e))return!1;i&&i(t,a,e),t.trigger("sync",t,a,e)},O(this,e),this.sync("read",this,e)},save:function(e,t,i){var a,n,s,r=this.attributes;if(null==e||"object"==typeof e?(a=e,i=t):(a={})[e]=t,i=o.extend({validate:!0},i),a&&!i.wait){if(!this.set(a,i))return!1}else if(!this._validate(a,i))return!1;a&&i.wait&&(this.attributes=o.extend({},r,a)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=r;var t=l.parse(e,i);if(i.wait&&(t=o.extend(a||{},t)),o.isObject(t)&&!l.set(t,i))return!1;c&&c(l,e,i),l.trigger("sync",l,e,i)},O(this,i),n=this.isNew()?"create":i.patch?"patch":"update","patch"===n&&(i.attrs=a),s=this.sync(n,this,i),a&&i.wait&&(this.attributes=r),s},destroy:function(e){e=e?o.clone(e):{};var t=this,i=e.success,a=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&a(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;O(this,e);var n=this.sync("delete",this,e);return e.wait||a(),n},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||D();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},o.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,o.extend(t,{validationError:i})),!1)}});var u=["keys","values","pairs","invert","pick","omit"];o.each(u,function(e){p.prototype[e]=function(){var t=n.call(arguments);return t.unshift(this.attributes),o[e].apply(o,t)}});var h=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,o.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};o.extend(h.prototype,s,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.extend({merge:!1},t,f))},remove:function(e,t){var i=!o.isArray(e);e=i?[e]:o.clone(e),t||(t={});var a,n,s,r;for(a=0,n=e.length;a<n;a++)(r=e[a]=this.get(e[a]))&&(delete this._byId[r.id],delete this._byId[r.cid],s=this.indexOf(r),this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),this._removeReference(r));return i?e[0]:e},set:function(e,t){t=o.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!o.isArray(e);e=i?e?[e]:[]:o.clone(e);var a,n,s,r,l,c,d,u=t.at,h=this.model,f=this.comparator&&null==u&&!1!==t.sort,g=o.isString(this.comparator)?this.comparator:null,v=[],b=[],C={},y=t.add,x=t.merge,w=t.remove,S=!(f||!y||!w)&&[];for(a=0,n=e.length;a<n;a++){if(l=e[a],s=l instanceof p?r=l:l[h.prototype.idAttribute],c=this.get(s))w&&(C[c.cid]=!0),x&&(l=l===r?r.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!d&&c.hasChanged(g)&&(d=!0)),e[a]=c;else if(y){if(!(r=e[a]=this._prepareModel(l,t)))continue;v.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)}S&&S.push(c||r)}if(w){for(a=0,n=this.length;a<n;++a)C[(r=this.models[a]).cid]||b.push(r);b.length&&this.remove(b,t)}if(v.length||S&&S.length)if(f&&(d=!0),this.length+=v.length,null!=u)for(a=0,n=v.length;a<n;a++)this.models.splice(u+a,0,v[a]);else{S&&(this.models.length=0);var T=S||v;for(a=0,n=T.length;a<n;a++)this.models.push(T[a])}if(d&&this.sort({silent:!0}),!t.silent){for(a=0,n=v.length;a<n;a++)(r=v[a]).trigger("add",r,this,t);(d||S&&S.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,a=this.models.length;i<a;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),e=this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,o.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,o.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return n.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return o.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(a){var n=e.reset?"reset":"set";i[n](a,e),t&&t(i,a,e),i.trigger("sync",i,a,e)},O(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?o.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,a=t.success;return t.success=function(e,t,n){n.wait&&i.add(e,n),a&&a(e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t=t?o.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,a){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,a),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(g,function(e){h.prototype[e]=function(){var t=n.call(arguments);return t.unshift(this.models),o[e].apply(o,t)}});var v=["groupBy","countBy","sortBy"];o.each(v,function(e){h.prototype[e]=function(t,i){var a=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,a,i)}});var b=e.View=function(e){this.cid=o.uniqueId("view"),e||(e={}),o.extend(this,o.pick(e,y)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},C=/^(\S+)\s*(.*)$/,y=["model","collection","el","id","attributes","className","tagName","events"];o.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=o.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),i){var a=t.match(C),n=a[1],s=a[2];i=o.bind(i,this),n+=".delegateEvents"+this.cid,""===s?this.$el.on(n,i):this.$el.on(n,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t.class=o.result(this,"className"));var i=e.$("<"+o.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,a){var n=w[t];o.defaults(a||(a={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:n,dataType:"json"};if(a.url||(s.url=o.result(i,"url")||D()),null!=a.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(a.attrs||i.toJSON(a))),a.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),a.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){s.type="POST",a.emulateJSON&&(s.data._method=n);var r=a.beforeSend;a.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",n),r)return r.apply(this,arguments)}}"GET"===s.type||a.emulateJSON||(s.processData=!1),"PATCH"===s.type&&x&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=a.xhr=e.ajax(o.extend(s,a));return i.trigger("request",i,l,a),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),w={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var S=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,A=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(S.prototype,s,{initialize:function(){},route:function(t,i,a){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(i)&&(a=i,i=""),a||(a=this[i]);var n=this;return e.history.route(t,function(o){var s=n._extractParameters(t,o);a&&a.apply(n,s),n.trigger.apply(n,["route:"+i].concat(s)),n.trigger("route",i,s),e.history.trigger("route",n,i,s)}),this},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var e,t=o.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(T,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return o.map(i,function(e){return e?decodeURIComponent(e):null})}});var _=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,M=/^\/+|\/+$/g,P=/msie [\w.]+/,L=/\/$/,R=/[?#].*$/;_.started=!1,o.extend(_.prototype,s,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(L,"");e.indexOf(i)||(e=e.slice(i.length))}else e=this.getHash();return e.replace(I,"")},start:function(t){if(_.started)throw new Error("Backbone.history has already been started");_.started=!0,this.options=o.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),a=document.documentMode,n=P.exec(navigator.userAgent.toLowerCase())&&(!a||a<=7);this.root=("/"+this.root+"/").replace(M,"/"),n&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location,r=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!r)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&s.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),_.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),o.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!_.started)return!1;t&&!0!==t||(t={trigger:!!t});var i=this.root+(e=this.getFragment(e||""));if(e=e.replace(R,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var a=e.href.replace(/(javascript:|#).*$/,"");e.replace(a+"#"+t)}else e.hash="#"+t}}),e.history=new _;var N=function(e,t){var i,a=this;i=e&&o.has(e,"constructor")?e.constructor:function(){return a.apply(this,arguments)},o.extend(i,a,t);var n=function(){this.constructor=i};return n.prototype=a.prototype,i.prototype=new n,e&&o.extend(i.prototype,e),i.__super__=a.prototype,i};p.extend=h.extend=S.extend=b.extend=_.extend=N;var D=function(){throw new Error('A "url" property or function must be specified')},O=function(e,t){var i=t.error;t.error=function(a){i&&i(e,a,t),e.trigger("error",e,a,t)}}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){return e.Backbone}}(this)),function(){"use strict";window.Framework7=function(t){function i(){var e,t=s(this),i=t[0].scrollTop,a=t[0].scrollHeight,n=t[0].offsetHeight,o=t[0].getAttribute("data-distance"),r=t.find(".virtual-list"),l=t.hasClass("infinite-scroll-top");if(o||(o=50),"string"==typeof o&&o.indexOf("%")>=0&&(o=parseInt(o,10)/100*n),o>n&&(o=n),l)i<o&&t.trigger("infinite");else if(i+n>=a-o){if(r.length>0&&(e=r[0].f7VirtualList)&&!e.reachEnd)return;t.trigger("infinite")}}function a(){n.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var n=this;n.version="1.5.0",n.params={root:"body",cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,routerRemoveTimeout:!1,routerRemoveWithTimeout:!1,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",pushStateOnLoad:!0,fastClicks:!0,fastClicksDistanceThreshold:10,fastClicksDelayBetweenClicks:50,fastClicksExclude:"",tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,showBarsOnPageScrollTop:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,swipeoutRemoveWithTimeout:!1,smartSelectOpenIn:"page",smartSelectBackText:"Back",smartSelectPopupCloseText:"Close",smartSelectPickerCloseText:"Done",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,scrollTopOnNavbarClick:!1,scrollTopOnStatusbarClick:!1,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",modalStack:!0,imagesLazyLoadThreshold:0,imagesLazyLoadSequential:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,notificationCloseButtonText:"Close",animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,material:!1,materialPageLoadDelay:0,materialPreloaderSvg:'<svg xmlns="http://www.w3.org/2000/svg" height="75" width="75" viewbox="0 0 75 75"><circle cx="37.5" cy="37.5" r="33.5" stroke-width="8"/></svg>',materialPreloaderHtml:'<span class="preloader-inner"><span class="preloader-inner-gap"></span><span class="preloader-inner-left"><span class="preloader-inner-half-circle"></span></span><span class="preloader-inner-right"><span class="preloader-inner-half-circle"></span></span></span>',materialRipple:!0,materialRippleElements:".ripple, a.link, a.item-link, .button, .modal-button, .tab-link, .label-radio, .label-checkbox, .actions-modal-button, a.searchbar-clear, a.floating-button, .floating-button > a, .speed-dial-buttons a",init:!0};for(var o in t)n.params[o]=t[o];var s=e,r=Template7;n._compiledTemplates={},n.root=s(n.params.root),n.root.eq(0).addClass("framework7-root"),n.touchEvents={start:n.support.touch?"touchstart":"mousedown",move:n.support.touch?"touchmove":"mousemove",end:n.support.touch?"touchend":"mouseup"},n.ls=window.localStorage,n.rtl="rtl"===s("body").css("direction"),n.rtl&&s("html").attr("dir","rtl"),void 0!==n.params.statusbarOverlay&&(n.params.statusbarOverlay?s("html").addClass("with-statusbar-overlay"):s("html").removeClass("with-statusbar-overlay")),n.views=[];var l=function(e,t){var i,a={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:n.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:n.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:n.params.allowDuplicateUrls,swipeBackPage:n.params.swipeBackPage,swipeBackPageAnimateShadow:n.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:n.params.swipeBackPageAnimateOpacity,
swipeBackPageActiveArea:n.params.swipeBackPageActiveArea,swipeBackPageThreshold:n.params.swipeBackPageThreshold,animatePages:n.params.animatePages,preloadPreviousPage:n.params.preloadPreviousPage};t=t||{},t.dynamicNavbar&&n.params.material&&(t.dynamicNavbar=!1);for(var o in a)void 0===t[o]&&(t[o]=a[o]);var r=this;r.params=t,r.selector=e;var l=s(e);if(r.container=l[0],"string"!=typeof e&&(e=(l.attr("id")?"#"+l.attr("id"):"")+(l.attr("class")?"."+l.attr("class").replace(/ /g,".").replace(".active",""):""),r.selector=e),r.main=l.hasClass(n.params.viewMainClass),r.contentCache={},r.contextCache={},r.pagesCache={},r.pageElementsCache={},l[0].f7View=r,r.pagesContainer=l.find(".pages")[0],r.initialPages=[],r.initialPagesUrl=[],r.initialNavbars=[],r.params.domCache){var c=l.find(".page");for(i=0;i<c.length;i++)r.initialPages.push(c[i]),r.initialPagesUrl.push("#"+c.eq(i).attr("data-page"));if(r.params.dynamicNavbar){var d=l.find(".navbar-inner");for(i=0;i<d.length;i++)r.initialNavbars.push(d[i])}}r.allowPageChange=!0;var p=document.location.href;r.history=[];var u=p,h=n.params.pushStateSeparator,m=n.params.pushStateRoot;n.params.pushState&&r.main&&(m?u=m:h&&u.indexOf(h)>=0&&u.indexOf(h+"#")<0&&(u=u.split(h)[0]));var f,g;r.activePage||(f=s(r.pagesContainer).find(".page-on-center"),0===f.length&&(f=s(r.pagesContainer).find(".page:not(.cached)"),f=f.eq(f.length-1)),f.length>0&&(g=f[0].f7PageData)),r.params.domCache&&f?(r.url=l.attr("data-url")||r.params.url||"#"+f.attr("data-page"),r.pagesCache[r.url]=f.attr("data-page")):r.url=l.attr("data-url")||r.params.url||u,g&&(g.view=r,g.url=r.url,r.params.domCache&&r.params.dynamicNavbar&&!g.navbarInnerContainer&&(g.navbarInnerContainer=r.initialNavbars[r.initialPages.indexOf(g.container)]),r.activePage=g,f[0].f7PageData=g),r.url&&r.history.push(r.url);var v,b,C,y,x,w,S,T,k,A,E,_=!1,I=!1,M={},P=[],L=[],R=!0,N=[],D=[];if(r.handleTouchStart=function(e){R&&r.params.swipeBackPage&&!_&&!n.swipeoutOpenedEl&&r.allowPageChange&&(I=!1,_=!0,v=void 0,M.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,M.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,y=(new Date).getTime(),k=r.params.dynamicNavbar&&l.find(".navbar-inner").length>1)},r.handleTouchMove=function(e){if(_){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,i="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===v&&(v=!!(v||Math.abs(i-M.y)>Math.abs(t-M.x))),v||e.f7PreventSwipeBack||n.preventSwipeBack)return void(_=!1);if(!I){var a=!1;b=l.width();var o=s(e.target),c=o.hasClass("swipeout")?o:o.parents(".swipeout");c.length>0&&(!n.rtl&&c.find(".swipeout-actions-left").length>0&&(a=!0),n.rtl&&c.find(".swipeout-actions-right").length>0&&(a=!0)),P=o.is(".page")?o:o.parents(".page"),P.hasClass("no-swipeback")&&(a=!0),L=l.find(".page-on-left:not(.cached)");var d=M.x-l.offset().left>r.params.swipeBackPageActiveArea;if(d=n.rtl?M.x<l.offset().left-l[0].scrollLeft+b-r.params.swipeBackPageActiveArea:M.x-l.offset().left>r.params.swipeBackPageActiveArea,d&&(a=!0),0!==L.length&&0!==P.length||(a=!0),a)return void(_=!1);r.params.swipeBackPageAnimateShadow&&!n.device.android&&(A=P.find(".swipeback-page-shadow"),0===A.length&&(A=s('<div class="swipeback-page-shadow"></div>'),P.append(A))),k&&(N=l.find(".navbar-on-center:not(.cached)"),D=l.find(".navbar-on-left:not(.cached)"),x=N.find(".left, .center, .right, .subnavbar, .fading"),w=D.find(".left, .center, .right, .subnavbar, .fading"),n.params.animateNavBackIcon&&(S=N.find(".left.sliding .back .icon"),T=D.find(".left.sliding .back .icon"))),s(".picker-modal.modal-in").length>0&&n.closeModal(s(".picker-modal.modal-in"))}e.f7PreventPanelSwipe=!0,I=!0,e.preventDefault();var p=n.rtl?-1:1;C=(t-M.x-r.params.swipeBackPageThreshold)*p,C<0&&(C=0);var u=C/b,h={percentage:u,activePage:P[0],previousPage:L[0],activeNavbar:N[0],previousNavbar:D[0]};r.params.onSwipeBackMove&&r.params.onSwipeBackMove(h),l.trigger("swipeBackMove",h);var m=C*p,f=(C/5-b/5)*p;if(1===n.device.pixelRatio&&(m=Math.round(m),f=Math.round(f)),P.transform("translate3d("+m+"px,0,0)"),r.params.swipeBackPageAnimateShadow&&!n.device.android&&(A[0].style.opacity=1-1*u),L.transform("translate3d("+f+"px,0,0)"),r.params.swipeBackPageAnimateOpacity&&(L[0].style.opacity=.9+.1*u),k){var g;for(g=0;g<x.length;g++)if(E=s(x[g]),E.is(".subnavbar.sliding")||(E[0].style.opacity=1-1.3*u),E[0].className.indexOf("sliding")>=0){var y=u*E[0].f7NavbarRightOffset;1===n.device.pixelRatio&&(y=Math.round(y)),E.transform("translate3d("+y+"px,0,0)"),n.params.animateNavBackIcon&&E[0].className.indexOf("left")>=0&&S.length>0&&S.transform("translate3d("+-y+"px,0,0)")}for(g=0;g<w.length;g++)if(E=s(w[g]),E.is(".subnavbar.sliding")||(E[0].style.opacity=1.3*u-.3),E[0].className.indexOf("sliding")>=0){var R=E[0].f7NavbarLeftOffset*(1-u);1===n.device.pixelRatio&&(R=Math.round(R)),E.transform("translate3d("+R+"px,0,0)"),n.params.animateNavBackIcon&&E[0].className.indexOf("left")>=0&&T.length>0&&T.transform("translate3d("+-R+"px,0,0)")}}}},r.handleTouchEnd=function(e){if(!_||!I)return _=!1,void(I=!1);if(_=!1,I=!1,0===C)return s([P[0],L[0]]).transform("").css({opacity:"",boxShadow:""}),void(k&&(x.transform("").css({opacity:""}),w.transform("").css({opacity:""}),S&&S.length>0&&S.transform(""),T&&S.length>0&&T.transform("")));var t=(new Date).getTime()-y,i=!1;(t<300&&C>10||t>=300&&C>b/2)&&(P.removeClass("page-on-center").addClass("page-on-right"),L.removeClass("page-on-left").addClass("page-on-center"),k&&(N.removeClass("navbar-on-center").addClass("navbar-on-right"),D.removeClass("navbar-on-left").addClass("navbar-on-center")),i=!0),s([P[0],L[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),k&&(x.css({opacity:""}).each(function(){var e=i?this.f7NavbarRightOffset:0,t=s(this);t.transform("translate3d("+e+"px,0,0)"),n.params.animateNavBackIcon&&t.hasClass("left")&&S.length>0&&S.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning"),w.transform("").css({opacity:""}).each(function(){var e=i?0:this.f7NavbarLeftOffset,t=s(this);t.transform("translate3d("+e+"px,0,0)"),n.params.animateNavBackIcon&&t.hasClass("left")&&T.length>0&&T.addClass("page-transitioning").transform("translate3d("+-e+"px,0,0)")}).addClass("page-transitioning")),R=!1,r.allowPageChange=!1;var a={activePage:P[0],previousPage:L[0],activeNavbar:N[0],previousNavbar:D[0]};if(i){var o=r.history[r.history.length-2];r.url=o,n.pageBackCallback("before",r,{pageContainer:P[0],url:o,position:"center",newPage:L,oldPage:P,swipeBack:!0}),n.pageAnimCallback("before",r,{pageContainer:L[0],url:o,position:"left",newPage:L,oldPage:P,swipeBack:!0}),r.params.onSwipeBackBeforeChange&&r.params.onSwipeBackBeforeChange(a),l.trigger("swipeBackBeforeChange",a)}else r.params.onSwipeBackBeforeReset&&r.params.onSwipeBackBeforeReset(a),l.trigger("swipeBackBeforeReset",a);P.transitionEnd(function(){s([P[0],L[0]]).removeClass("page-transitioning"),k&&(x.removeClass("page-transitioning").css({opacity:""}),w.removeClass("page-transitioning").css({opacity:""}),S&&S.length>0&&S.removeClass("page-transitioning"),T&&T.length>0&&T.removeClass("page-transitioning")),R=!0,r.allowPageChange=!0,i?(n.params.pushState&&r.main&&history.back(),n.pageBackCallback("after",r,{pageContainer:P[0],url:o,position:"center",newPage:L,oldPage:P,swipeBack:!0}),n.pageAnimCallback("after",r,{pageContainer:L[0],url:o,position:"left",newPage:L,oldPage:P,swipeBack:!0}),n.router.afterBack(r,P,L),r.params.onSwipeBackAfterChange&&r.params.onSwipeBackAfterChange(a),l.trigger("swipeBackAfterChange",a)):(r.params.onSwipeBackAfterReset&&r.params.onSwipeBackAfterReset(a),l.trigger("swipeBackAfterReset",a)),A&&A.length>0&&A.remove()})},r.attachEvents=function(e){var t=e?"off":"on",i=!("touchstart"!==n.touchEvents.start||!n.support.passiveListener)&&{passive:!0,capture:!1};l[t](n.touchEvents.start,r.handleTouchStart,i),l[t](n.touchEvents.move,r.handleTouchMove),l[t](n.touchEvents.end,r.handleTouchEnd,i)},r.detachEvents=function(){r.attachEvents(!0)},r.params.swipeBackPage&&!n.params.material&&r.attachEvents(),n.views.push(r),r.main&&(n.mainView=r),r.router={load:function(e){return n.router.load(r,e)},back:function(e){return n.router.back(r,e)},loadPage:function(e){if("string"==typeof(e=e||{})){var t=e;e={},t&&0===t.indexOf("#")&&r.params.domCache?e.pageName=t.split("#")[1]:e.url=t}return n.router.load(r,e)},loadContent:function(e){return n.router.load(r,{content:e})},reloadPage:function(e){return n.router.load(r,{url:e,reload:!0})},reloadContent:function(e){return n.router.load(r,{content:e,reload:!0})},reloadPreviousPage:function(e){return n.router.load(r,{url:e,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(e){return n.router.load(r,{content:e,reloadPrevious:!0,reload:!0})},refreshPage:function(){var e={url:r.url,reload:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&(r.params.domCache&&r.pagesCache[e.url]?(e.pageName=r.pagesCache[e.url],e.url=void 0,delete e.url):r.contentCache[e.url]&&(e.content=r.contentCache[e.url],e.url=void 0,delete e.url)),n.router.load(r,e)},refreshPreviousPage:function(){var e={url:r.history[r.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return e.url&&0===e.url.indexOf("#")&&r.params.domCache&&r.pagesCache[e.url]&&(e.pageName=r.pagesCache[e.url],e.url=void 0,delete e.url),n.router.load(r,e)}},r.loadPage=r.router.loadPage,r.loadContent=r.router.loadContent,r.reloadPage=r.router.reloadPage,r.reloadContent=r.router.reloadContent,r.reloadPreviousPage=r.router.reloadPreviousPage,r.reloadPreviousContent=r.router.reloadPreviousContent,r.refreshPage=r.router.refreshPage,r.refreshPreviousPage=r.router.refreshPreviousPage,r.back=r.router.back,r.hideNavbar=function(){return n.hideNavbar(l.find(".navbar"))},r.showNavbar=function(){return n.showNavbar(l.find(".navbar"))},r.hideToolbar=function(){return n.hideToolbar(l.find(".toolbar"))},r.showToolbar=function(){return n.showToolbar(l.find(".toolbar"))},n.params.pushState&&n.params.pushStateOnLoad&&r.main){var O,F=p.split(h)[1];m?O=p.split(n.params.pushStateRoot+h)[1]:h&&p.indexOf(h)>=0&&p.indexOf(h+"#")<0&&(O=F);var B=!n.params.pushStateNoAnimation&&void 0,U=history.state;O?O.indexOf("#")>=0&&r.params.domCache&&U&&U.pageName&&"viewIndex"in U?n.router.load(r,{pageName:U.pageName,url:U.url,animatePages:B,pushState:!1}):O.indexOf("#")>=0&&r.params.domCache&&r.initialPagesUrl.indexOf(O)>=0?n.router.load(r,{pageName:O.replace("#",""),animatePages:B,pushState:!1}):n.router.load(r,{url:O,animatePages:B,pushState:!1}):r.params.domCache&&p.indexOf(h+"#")>=0&&(U&&U.pageName&&"viewIndex"in U?n.router.load(r,{pageName:U.pageName,url:U.url,animatePages:B,pushState:!1}):h&&0===F.indexOf("#")&&r.initialPagesUrl.indexOf(F)&&n.router.load(r,{pageName:F.replace("#",""),animatePages:B,pushState:!1}))}return r.destroy=function(){r.detachEvents(),r=void 0},n.pluginHook("addView",r),r};n.addView=function(e,t){return new l(e,t)},n.getCurrentView=function(e){var t=s(".popover.modal-in .view"),i=s(".popup.modal-in .view"),a=s(".panel.active .view"),n=s(".views"),o=n.children(".view");if(o.length>1&&o.hasClass("tab")&&(o=n.children(".view.active")),t.length>0&&t[0].f7View)return t[0].f7View;if(i.length>0&&i[0].f7View)return i[0].f7View;if(a.length>0&&a[0].f7View)return a[0].f7View;if(o.length>0){if(1===o.length&&o[0].f7View)return o[0].f7View;if(o.length>1){for(var r=[],l=0;l<o.length;l++)o[l].f7View&&r.push(o[l].f7View);if(r.length>0&&void 0!==e)return r[e];if(r.length>1)return r;if(1===r.length)return r[0];return}}},n.navbarInitCallback=function(e,t,i,a){if(!i&&a&&(i=s(a).parent(".navbar")[0]),a&&(!a.f7NavbarInitialized||!e||e.params.domCache)){var o={container:i,innerContainer:a},r=t&&t.f7PageData,l={page:r,navbar:o};if(a.f7NavbarInitialized&&(e&&e.params.domCache||!e&&s(i).parents(".popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal").length>0))return n.reinitNavbar(i,a),n.pluginHook("navbarReinit",l),void s(a).trigger("navbarReinit",l);a.f7NavbarInitialized=!0,n.pluginHook("navbarBeforeInit",o,r),s(a).trigger("navbarBeforeInit",l),n.initNavbar(i,a),n.pluginHook("navbarInit",o,r),s(a).trigger("navbarInit",l)}},n.navbarRemoveCallback=function(e,t,i,a){!i&&a&&(i=s(a).parent(".navbar")[0]);var o,r={container:i,innerContainer:a};t&&(o=t.f7PageData);var l={page:o,navbar:r};n.pluginHook("navbarBeforeRemove",r,o),s(a).trigger("navbarBeforeRemove",l),r=null,o=null},n.initNavbar=function(e,t){n.initSearchbar&&n.initSearchbar(t)},n.reinitNavbar=function(e,t){},n.initNavbarWithCallback=function(e){e=s(e);var t,i=e.parents("."+n.params.viewClass);0!==i.length&&(0===e.parents(".navbar-through").length&&0===i.find(".navbar-through").length||(t=i[0].f7View||void 0,e.find(".navbar-inner").each(function(){var a,o=this;if(s(o).attr("data-page")&&(a=i.find('.page[data-page="'+s(o).attr("data-page")+'"]')[0]),!a){var r=i.find(".page");1===r.length?a=r[0]:i.find(".page").each(function(){this.f7PageData&&this.f7PageData.navbarInnerContainer===o&&(a=this)})}n.navbarInitCallback(t,a,e[0],o)})))},n.sizeNavbars=function(e){if(!n.params.material){(e?s(e).find(".navbar .navbar-inner:not(.cached)"):s(".navbar .navbar-inner:not(.cached)")).each(function(){var e=s(this);if(!e.hasClass("cached")){var t,i,a=n.rtl?e.find(".right"):e.find(".left"),o=n.rtl?e.find(".left"):e.find(".right"),r=e.find(".center"),l=e.find(".subnavbar"),c=0===a.length,d=0===o.length,p=c?0:a.outerWidth(!0),u=d?0:o.outerWidth(!0),h=r.outerWidth(!0),m=e.styles(),f=e[0].offsetWidth-parseInt(m.paddingLeft,10)-parseInt(m.paddingRight,10),g=e.hasClass("navbar-on-left");d&&(t=f-h),c&&(t=0),c||d||(t=(f-u-h+p)/2);var v=(f-h)/2;f-p-u>h?(v<p&&(v=p),v+h>f-u&&(v=f-u-h),i=v-t):i=0;var b=n.rtl?-1:1;if(r.hasClass("sliding")&&(r[0].f7NavbarLeftOffset=-(t+i)*b,r[0].f7NavbarRightOffset=(f-t-i-h)*b,g)){if(n.params.animateNavBackIcon){var C=e.parent().find(".navbar-on-center").find(".left.sliding .back .icon ~ span");C.length>0&&(r[0].f7NavbarLeftOffset+=C[0].offsetLeft)}r.transform("translate3d("+r[0].f7NavbarLeftOffset+"px, 0, 0)")}!c&&a.hasClass("sliding")&&(n.rtl?(a[0].f7NavbarLeftOffset=-(f-a[0].offsetWidth)/2*b,a[0].f7NavbarRightOffset=p*b):(a[0].f7NavbarLeftOffset=-p,a[0].f7NavbarRightOffset=(f-a[0].offsetWidth)/2,n.params.animateNavBackIcon&&a.find(".back .icon").length>0&&(a[0].f7NavbarRightOffset-=a.find(".back .icon")[0].offsetWidth)),g&&a.transform("translate3d("+a[0].f7NavbarLeftOffset+"px, 0, 0)")),!d&&o.hasClass("sliding")&&(n.rtl?(o[0].f7NavbarLeftOffset=-u*b,o[0].f7NavbarRightOffset=(f-o[0].offsetWidth)/2*b):(o[0].f7NavbarLeftOffset=-(f-o[0].offsetWidth)/2,o[0].f7NavbarRightOffset=u),g&&o.transform("translate3d("+o[0].f7NavbarLeftOffset+"px, 0, 0)")),l.length&&l.hasClass("sliding")&&(l[0].f7NavbarLeftOffset=n.rtl?l[0].offsetWidth:-l[0].offsetWidth,l[0].f7NavbarRightOffset=-l[0].f7NavbarLeftOffset);var y=i;n.rtl&&c&&d&&r.length>0&&(y=-y),r.css({left:y+"px"})}})}},n.hideNavbar=function(e){return s(e).addClass("navbar-hidden"),!0},n.showNavbar=function(e){var t=s(e);return t.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){t.removeClass("navbar-hiding")}),!0},n.hideToolbar=function(e){return s(e).addClass("toolbar-hidden"),!0},n.showToolbar=function(e){var t=s(e);t.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){t.removeClass("toolbar-hiding")})};var c=function(e,t){function i(e){e.preventDefault()}var a={input:null,clearButton:null,cancelButton:null,searchList:null,searchIn:".item-title",searchBy:"",found:null,notFound:null,overlay:null,ignore:".searchbar-ignore",customSearch:!1,removeDiacritics:!1,hideDividers:!0,hideGroups:!0};t=t||{};for(var o in a)void 0!==t[o]&&null!==t[o]||(t[o]=a[o]);var r=this;r.material=n.params.material,r.params=t,e=s(e),r.container=e,r.active=!1,r.input=r.params.input?s(r.params.input):r.container.find('input[type="search"]'),r.clearButton=r.params.clearButton?s(r.params.clearButton):r.container.find(".searchbar-clear"),r.cancelButton=r.params.cancelButton?s(r.params.cancelButton):r.container.find(".searchbar-cancel"),r.searchList=s(r.params.searchList),r.isVirtualList=r.searchList.hasClass("virtual-list"),r.pageContainer=r.container.parents(".page").eq(0),r.params.overlay?r.overlay=s(r.params.overlay):r.overlay=r.pageContainer.length>0?r.pageContainer.find(".searchbar-overlay"):s(".searchbar-overlay"),r.params.found?r.found=s(r.params.found):r.found=r.pageContainer.length>0?r.pageContainer.find(".searchbar-found"):s(".searchbar-found"),r.params.notFound?r.notFound=s(r.params.notFound):r.notFound=r.pageContainer.length>0?r.pageContainer.find(".searchbar-not-found"):s(".searchbar-not-found");var l=n.rtl?"margin-left":"margin-right",c=!1;r.setCancelButtonMargin=function(){r.cancelButton.transition(0).show(),r.cancelButton.css(l,-r.cancelButton[0].offsetWidth+"px");r.cancelButton[0].clientLeft;r.cancelButton.transition(""),c=!0},r.triggerEvent=function(e,t,i){r.container.trigger(e,i),r.searchList.length>0&&r.searchList.trigger(e,i),t&&r.params[t]&&r.params[t](r,i)},r.enable=function(e){function t(){!r.searchList.length&&!r.params.customSearch||r.container.hasClass("searchbar-active")||r.query||r.overlay.addClass("searchbar-overlay-active"),r.container.addClass("searchbar-active"),r.cancelButton.length>0&&!r.material&&(c||r.setCancelButtonMargin(),r.cancelButton.css(l,"0px")),r.triggerEvent("enableSearch","onEnable"),r.active=!0}n.device.ios&&!n.params.material&&e&&"focus"===e.type?setTimeout(function(){t()},400):t()},r.disable=function(){function e(){r.input.blur()}r.input.val("").trigger("change"),r.container.removeClass("searchbar-active searchbar-not-empty"),r.cancelButton.length>0&&!r.material&&r.cancelButton.css(l,-r.cancelButton[0].offsetWidth+"px"),(r.searchList.length||r.params.customSearch)&&r.overlay.removeClass("searchbar-overlay-active"),r.active=!1,n.device.ios?setTimeout(function(){e()},400):e(),r.triggerEvent("disableSearch","onDisable")},r.clear=function(e){if(!r.query&&e&&s(e.target).hasClass("searchbar-clear"))return void r.disable();r.input.val("").trigger("change").focus(),r.triggerEvent("clearSearch","onClear")},r.handleInput=function(){setTimeout(function(){var e=r.input.val().trim();(r.searchList.length>0||r.params.customSearch)&&(r.params.searchIn||r.isVirtualList)&&r.search(e,!0)},0)};var d,p="";return r.search=function(e,t){if(e.trim()!==p){if(p=e.trim(),t||(r.active||r.enable(),r.input.val(e)),r.query=r.value=e,0===e.length?(r.container.removeClass("searchbar-not-empty"),r.searchList.length&&r.container.hasClass("searchbar-active")&&r.overlay.addClass("searchbar-overlay-active")):(r.container.addClass("searchbar-not-empty"),r.searchList.length&&r.container.hasClass("searchbar-active")&&r.overlay.removeClass("searchbar-overlay-active")),r.params.customSearch)return void r.triggerEvent("search","onSearch",{query:e});var i,a=[];if(r.isVirtualList){if(d=r.searchList[0].f7VirtualList,""===e.trim())return d.resetFilter(),r.notFound.hide(),void r.found.show();if(i=r.params.removeDiacritics?s.removeDiacritics(e):e,d.params.searchAll)a=d.params.searchAll(i,d.items)||[];else if(d.params.searchByItem)for(var n=0;n<d.items.length;n++)d.params.searchByItem(i,n,d.params.items[n])&&a.push(n)}else{var o;o=r.params.removeDiacritics?s.removeDiacritics(e.trim().toLowerCase()).split(" "):e.trim().toLowerCase().split(" "),r.searchList.find("li").removeClass("hidden-by-searchbar").each(function(e,t){t=s(t);var i=[];t.find(r.params.searchIn).each(function(){var e=s(this).text().trim().toLowerCase();r.params.removeDiacritics&&(e=s.removeDiacritics(e)),i.push(e)}),i=i.join(" ");for(var n=0,l=0;l<o.length;l++)i.indexOf(o[l])>=0&&n++;n===o.length||r.params.ignore&&t.is(r.params.ignore)?a.push(t[0]):t.addClass("hidden-by-searchbar")}),r.params.hideDividers&&r.searchList.find(".item-divider, .list-group-title").each(function(){for(var e=s(this),t=e.nextAll("li"),i=!0,a=0;a<t.length;a++){var n=s(t[a]);if(n.hasClass("list-group-title")||n.hasClass("item-divider"))break;n.hasClass("hidden-by-searchbar")||(i=!1)}var o=r.params.ignore&&e.is(r.params.ignore);i&&!o?e.addClass("hidden-by-searchbar"):e.removeClass("hidden-by-searchbar")}),r.params.hideGroups&&r.searchList.find(".list-group").each(function(){var e=s(this),t=r.params.ignore&&e.is(r.params.ignore);0!==e.find("li:not(.hidden-by-searchbar)").length||t?e.removeClass("hidden-by-searchbar"):e.addClass("hidden-by-searchbar")})}r.triggerEvent("search","onSearch",{query:e,foundItems:a}),0===a.length?(r.notFound.show(),r.found.hide()):(r.notFound.hide(),r.found.show()),r.isVirtualList&&d.filterItems(a)}},r.attachEvents=function(e){var t=e?"off":"on";r.container[t]("submit",i),r.material||r.cancelButton[t]("click",r.disable),r.overlay[t]("click",r.disable),r.input[t]("focus",r.enable),r.input[t]("change keydown keypress keyup",r.handleInput),r.clearButton[t]("click",r.clear)},r.detachEvents=function(){r.attachEvents(!0)},r.init=function(){r.attachEvents()},r.destroy=function(){r&&(r.detachEvents(),r=null)},r.init(),r.container[0].f7Searchbar=r,r};n.searchbar=function(e,t){return new c(e,t)},n.initSearchbar=function(e){function t(){a&&a.destroy()}e=s(e);var i=e.hasClass("searchbar")?e:e.find(".searchbar");if(0!==i.length&&i.hasClass("searchbar-init")){var a=n.searchbar(i,i.dataset());e.hasClass("page")?e.once("pageBeforeRemove",t):e.hasClass("navbar-inner")&&e.once("navbarBeforeRemove",t)}};var d=function(e,t){function i(e){e.preventDefault()}var a={textarea:null,maxHeight:null};t=t||{};for(var n in a)void 0!==t[n]&&null!==t[n]||(t[n]=a[n]);var o=this;if(o.params=t,o.container=s(e),0!==o.container.length)return o.textarea=o.params.textarea?s(o.params.textarea):o.container.find("textarea"),o.pageContainer=o.container.parents(".page").eq(0),o.pageContent=o.pageContainer.find(".page-content"),o.pageContentPadding=parseInt(o.pageContent.css("padding-bottom")),o.initialBarHeight=o.container[0].offsetHeight,o.initialAreaHeight=o.textarea[0].offsetHeight,o.sizeTextarea=function(){o.textarea.css({height:""});var e=o.textarea[0].offsetHeight,t=e-o.textarea[0].clientHeight,i=o.textarea[0].scrollHeight;if(i+t>e){var a=i+t,n=o.initialBarHeight+(a-o.initialAreaHeight),s=o.params.maxHeight||o.container.parents(".view")[0].offsetHeight-88;n>s&&(n=parseInt(s,10),a=n-o.initialBarHeight+o.initialAreaHeight),o.textarea.css("height",a+"px"),o.container.css("height",n+"px");var r=o.pageContent[0].scrollTop===o.pageContent[0].scrollHeight-o.pageContent[0].offsetHeight;o.pageContent.length>0&&(o.pageContent.css("padding-bottom",n+"px"),0===o.pageContent.find(".messages-new-first").length&&r&&o.pageContent.scrollTop(o.pageContent[0].scrollHeight-o.pageContent[0].offsetHeight))}else o.pageContent.length>0&&(o.container.css({height:"",bottom:""}),o.pageContent.css({"padding-bottom":""}))},o.clear=function(){o.textarea.val("").trigger("change")},o.value=function(e){if(void 0===e)return o.textarea.val();o.textarea.val(e).trigger("change")},o.textareaTimeout=void 0,o.handleTextarea=function(e){clearTimeout(o.textareaTimeout),o.textareaTimeout=setTimeout(function(){o.sizeTextarea()},0)},o.attachEvents=function(e){var t=e?"off":"on";o.container[t]("submit",i),o.textarea[t]("change keydown keypress keyup paste cut",o.handleTextarea)},o.detachEvents=function(){o.attachEvents(!0)},o.init=function(){o.attachEvents()},o.destroy=function(){o.detachEvents(),o=null},o.init(),o.container[0].f7Messagebar=o,o};n.messagebar=function(e,t){return new d(e,t)},n.initPageMessagebar=function(e){function t(){a.destroy(),e.off("pageBeforeRemove",t)}e=s(e);var i=e.hasClass("messagebar")?e:e.find(".messagebar");if(0!==i.length&&i.hasClass("messagebar-init")){var a=n.messagebar(i,i.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",t)}},n.cache=[],n.removeFromCache=function(e){for(var t=!1,i=0;i<n.cache.length;i++)n.cache[i].url===e&&(t=i);!1!==t&&n.cache.splice(t,1)},n.xhr=!1,n.get=function(e,t,i,a){var o=e;if(n.params.cacheIgnoreGetParameters&&e.indexOf("?")>=0&&(o=e.split("?")[0]),n.params.cache&&!i&&e.indexOf("nocache")<0&&n.params.cacheIgnore.indexOf(o)<0)for(var r=0;r<n.cache.length;r++)if(n.cache[r].url===o&&(new Date).getTime()-n.cache[r].time<n.params.cacheDuration)return a(n.cache[r].content),!1;return n.xhr=s.ajax({url:e,method:"GET",beforeSend:n.params.onAjaxStart,complete:function(e){e.status>=200&&e.status<300||0===e.status?(n.params.cache&&(n.removeFromCache(o),n.cache.push({url:o,time:(new Date).getTime(),content:e.responseText})),a(e.responseText,!1)):a(e.responseText,!0),n.params.onAjaxComplete&&n.params.onAjaxComplete(e)},error:function(e){a(e.responseText,!0),n.params.onAjaxError&&n.params.onAjaxError(e)}}),t&&(t.xhr=n.xhr),n.xhr},n.pageCallbacks={},n.onPage=function(e,t,i){if(t&&t.split(" ").length>1){for(var a=t.split(" "),o=[],s=0;s<a.length;s++)o.push(n.onPage(e,a[s],i));return o.remove=function(){for(var e=0;e<o.length;e++)o[e].remove()},o.trigger=function(){for(var e=0;e<o.length;e++)o[e].trigger()},o}var r=n.pageCallbacks[e][t];return r||(r=n.pageCallbacks[e][t]=[]),n.pageCallbacks[e][t].push(i),{remove:function(){for(var e,t=0;t<r.length;t++)r[t].toString()===i.toString()&&(e=t);void 0!==e&&r.splice(e,1)},trigger:i}};for(var p="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),u=0;u<p.length;u++)n.pageCallbacks[p[u]]={},function(e){var t=e.replace(/^./,function(e){return e.toUpperCase()});n["onPage"+t]=function(t,i){return n.onPage(e,t,i)}}(p[u]);n.triggerPageCallbacks=function(e,t,i){var a=n.pageCallbacks[e]["*"];if(a)for(var o=0;o<a.length;o++)a[o](i);var s=n.pageCallbacks[e][t];if(s&&0!==s.length)for(var r=0;r<s.length;r++)s[r](i)},n.pageInitCallback=function(e,t){var i=t.pageContainer;if(i&&(!i.f7PageInitialized||!e||e.params.domCache)){var a=t.query;a||(a=t.url&&t.url.indexOf("?")>0?s.parseUrlQuery(t.url||""):i.f7PageData&&i.f7PageData.query?i.f7PageData.query:{});var o={container:i,url:t.url,query:a,name:s(i).attr("data-page"),view:e,from:t.position,context:t.context,navbarInnerContainer:t.navbarInnerContainer,fromPage:t.fromPage};if(t.fromPage&&!t.fromPage.navbarInnerContainer&&t.oldNavbarInnerContainer&&(t.fromPage.navbarInnerContainer=t.oldNavbarInnerContainer),i.f7PageInitialized&&(e&&e.params.domCache||!e&&s(i).parents(".popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal").length>0))return n.reinitPage(i),n.pluginHook("pageReinit",o),n.params.onPageReinit&&n.params.onPageReinit(n,o),n.triggerPageCallbacks("reinit",o.name,o),void s(o.container).trigger("pageReinit",{page:o});i.f7PageInitialized=!0,i.f7PageData=o,!e||t.preloadOnly||t.reloadPrevious||(s(e.container).attr("data-page",o.name),e.activePage=o),n.pluginHook("pageBeforeInit",o),n.params.onPageBeforeInit&&n.params.onPageBeforeInit(n,o),n.triggerPageCallbacks("beforeInit",o.name,o),s(o.container).trigger("pageBeforeInit",{page:o}),n.initPage(i),n.pluginHook("pageInit",o),n.params.onPageInit&&n.params.onPageInit(n,o),n.triggerPageCallbacks("init",o.name,o),s(o.container).trigger("pageInit",{page:o})}},n.pageRemoveCallback=function(e,t,i){var a;if(t){t.f7PageData&&(a=t.f7PageData.context);var o={container:t,name:s(t).attr("data-page"),view:e,url:t.f7PageData&&t.f7PageData.url,query:t.f7PageData&&t.f7PageData.query,navbarInnerContainer:t.f7PageData&&t.f7PageData.navbarInnerContainer,from:i,context:a};n.pluginHook("pageBeforeRemove",o),n.params.onPageBeforeRemove&&n.params.onPageBeforeRemove(n,o),n.triggerPageCallbacks("beforeRemove",o.name,o),s(o.container).trigger("pageBeforeRemove",{page:o}),o=null}},n.pageBackCallback=function(e,t,i){var a,o=i.pageContainer;if(o){o.f7PageData&&(a=o.f7PageData.context);var r={container:o,name:s(o).attr("data-page"),url:o.f7PageData&&o.f7PageData.url,query:o.f7PageData&&o.f7PageData.query,view:t,from:i.position,context:a,navbarInnerContainer:o.f7PageData&&o.f7PageData.navbarInnerContainer,swipeBack:i.swipeBack};"after"===e&&(n.pluginHook("pageAfterBack",r),n.params.onPageAfterBack&&n.params.onPageAfterBack(n,r),n.triggerPageCallbacks("afterBack",r.name,r),s(o).trigger("pageAfterBack",{page:r})),"before"===e&&(n.pluginHook("pageBack",r),n.params.onPageBack&&n.params.onPageBack(n,r),n.triggerPageCallbacks("back",r.name,r),s(r.container).trigger("pageBack",{page:r}))}},n.pageAnimCallback=function(e,t,i){var a,o=i.pageContainer;if(o){o.f7PageData&&(a=o.f7PageData.context);var r=i.query;r||(r=i.url&&i.url.indexOf("?")>0?s.parseUrlQuery(i.url||""):o.f7PageData&&o.f7PageData.query?o.f7PageData.query:{});var l={container:o,url:i.url,query:r,name:s(o).attr("data-page"),view:t,from:i.position,context:a,swipeBack:i.swipeBack,navbarInnerContainer:o.f7PageData&&o.f7PageData.navbarInnerContainer,fromPage:i.fromPage},c=i.oldPage,d=i.newPage;if(o.f7PageData=l,"after"===e&&(n.pluginHook("pageAfterAnimation",l),n.params.onPageAfterAnimation&&n.params.onPageAfterAnimation(n,l),n.triggerPageCallbacks("afterAnimation",l.name,l),s(l.container).trigger("pageAfterAnimation",{page:l})),"before"===e){s(t.container).attr("data-page",l.name),t&&(t.activePage=l),d.hasClass("no-navbar")&&!c.hasClass("no-navbar")&&t.hideNavbar(),d.hasClass("no-navbar")||!c.hasClass("no-navbar")&&!c.hasClass("no-navbar-by-scroll")||t.showNavbar(),d.hasClass("no-toolbar")&&!c.hasClass("no-toolbar")&&t.hideToolbar(),d.hasClass("no-toolbar")||!c.hasClass("no-toolbar")&&!c.hasClass("no-toolbar-by-scroll")||t.showToolbar();var p;d.hasClass("no-tabbar")&&!c.hasClass("no-tabbar")&&(p=s(t.container).find(".tabbar"),0===p.length&&(p=s(t.container).parents("."+n.params.viewsClass).find(".tabbar")),n.hideToolbar(p)),d.hasClass("no-tabbar")||!c.hasClass("no-tabbar")&&!c.hasClass("no-tabbar-by-scroll")||(p=s(t.container).find(".tabbar"),0===p.length&&(p=s(t.container).parents("."+n.params.viewsClass).find(".tabbar")),n.showToolbar(p)),c.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),n.pluginHook("pageBeforeAnimation",l),n.params.onPageBeforeAnimation&&n.params.onPageBeforeAnimation(n,l),n.triggerPageCallbacks("beforeAnimation",l.name,l),s(l.container).trigger("pageBeforeAnimation",{page:l})}}},n.initPage=function(e){e=s(e),0!==e.length&&(n.sizeNavbars&&n.sizeNavbars(e.parents("."+n.params.viewClass)[0]),n.initPageMessages&&n.initPageMessages(e),n.initFormsStorage&&n.initFormsStorage(e),n.initSmartSelects&&n.initSmartSelects(e),n.initPageSwiper&&n.initPageSwiper(e),n.initPullToRefresh&&n.initPullToRefresh(e),n.initPageInfiniteScroll&&n.initPageInfiniteScroll(e),n.initSearchbar&&n.initSearchbar(e),n.initPageMessagebar&&n.initPageMessagebar(e),n.initPageScrollToolbars&&n.initPageScrollToolbars(e),n.initImagesLazyLoad&&n.initImagesLazyLoad(e),n.initPageProgressbar&&n.initPageProgressbar(e),n.initPageResizableTextarea&&n.initPageResizableTextarea(e),n.params.material&&n.initPageMaterialPreloader&&n.initPageMaterialPreloader(e),n.params.material&&n.initPageMaterialInputs&&n.initPageMaterialInputs(e),n.params.material&&n.initPageMaterialTabbar&&n.initPageMaterialTabbar(e))},n.reinitPage=function(e){e=s(e),0!==e.length&&(n.sizeNavbars&&n.sizeNavbars(e.parents("."+n.params.viewClass)[0]),n.reinitPageSwiper&&n.reinitPageSwiper(e),n.reinitLazyLoad&&n.reinitLazyLoad(e))},n.initPageWithCallback=function(e){e=s(e);var t=e.parents("."+n.params.viewClass);if(0!==t.length){var i=t[0].f7View||void 0,a=i&&i.url?i.url:void 0;t&&e.attr("data-page")&&t.attr("data-page",e.attr("data-page")),n.pageInitCallback(i,{pageContainer:e[0],url:a,position:"center"})}},n.router={_remove:function(e){n.params.routerRemoveTimeout||n.params.routerRemoveWithTimeout?setTimeout(function(){s(e).remove()},0):s(e).remove()},temporaryDom:document.createElement("div"),findElement:function(e,t,i,a){t=s(t),a&&(e+=":not(.cached)");var o=t.find(e);return o.length>1&&("string"==typeof i.selector&&(o=t.find(i.selector+" "+e)),o.length>1&&(o=t.find("."+n.params.viewMainClass+" "+e))),1===o.length?o:(a||(o=n.router.findElement(e,t,i,!0)),o&&1===o.length?o:o&&o.length>1?s(o[0]):void 0)},animatePages:function(e,t,i,a){
var n="page-on-center page-on-right page-on-left";"to-left"===i&&(e.removeClass(n).addClass("page-from-center-to-left"),t.removeClass(n).addClass("page-from-right-to-center")),"to-right"===i&&(e.removeClass(n).addClass("page-from-left-to-center"),t.removeClass(n).addClass("page-from-center-to-right"))},prepareNavbar:function(e,t,i){s(e).find(".sliding").each(function(){var e=s(this),t="right"===i?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;n.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-t+"px,0,0)"),e.transform("translate3d("+t+"px,0,0)")})},animateNavbars:function(e,t,i,a){var o="navbar-on-right navbar-on-center navbar-on-left";"to-left"===i&&(t.removeClass(o).addClass("navbar-from-right-to-center"),t.find(".sliding").each(function(){var e=s(this);e.transform("translate3d(0px,0,0)"),n.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),e.removeClass(o).addClass("navbar-from-center-to-left"),e.find(".sliding").each(function(){var e,i=s(this);n.params.animateNavBackIcon&&(i.hasClass("center")&&t.find(".sliding.left .back .icon").length>0&&(e=t.find(".sliding.left .back span"),e.length>0&&(this.f7NavbarLeftOffset+=e[0].offsetLeft)),i.hasClass("left")&&i.find(".back .icon").length>0&&i.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),i.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===i&&(e.removeClass(o).addClass("navbar-from-left-to-center"),e.find(".sliding").each(function(){var e=s(this);e.transform("translate3d(0px,0,0)"),n.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d(0px,0,0)")}),t.removeClass(o).addClass("navbar-from-center-to-right"),t.find(".sliding").each(function(){var e=s(this);n.params.animateNavBackIcon&&e.hasClass("left")&&e.find(".back .icon").length>0&&e.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),e.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(e,t,i,a){n.pluginHook("routerPreprocess",e,t,i,a),t=n.pluginProcess("preprocess",t),e&&e.params&&e.params.preprocess?void 0!==(t=e.params.preprocess(t,i,a))&&a(t):n.params.preprocess?void 0!==(t=n.params.preprocess(t,i,a))&&a(t):a(t)},preroute:function(e,t,i){return i&&(t.isBack=!0),n.pluginHook("routerPreroute",e,t),!!(n.params.preroute&&!1===n.params.preroute(e,t)||e&&e.params.preroute&&!1===e.params.preroute(e,t))},template7Render:function(e,t){var i,a,o=t.url,l=t.content,c=t.content,d=t.context,p=t.contextName,u=t.template;t.pageName;if("string"==typeof l?o?n.template7Cache[o]&&!t.ignoreCache?a=r.cache[o]:(a=r.compile(l),r.cache[o]=a):a=r.compile(l):u&&(a=u),d)i=d,d&&o&&(e.contextCache[o]=d);else{if(p)if(p.indexOf(".")>=0){for(var h=p.split("."),m=r.data[h[0]],f=1;f<h.length;f++)h[f]&&(m=m[h[f]]);i=m}else i=r.data[p];if(!i&&o&&(i=r.data["url:"+o]),!i&&"string"==typeof l&&!u){var g=l.match(/(data-page=["'][^"^']*["'])/);if(g){var v=g[0].split("data-page=")[1].replace(/['"]/g,"");v&&(i=r.data["page:"+v])}}if(!i&&u&&r.templates)for(var b in r.templates)r.templates[b]===u&&(i=r.data[b]);!i&&o&&o in e.contextCache&&(i=e.contextCache[o]),i||(i={})}if(a&&i){if("function"==typeof i&&(i=i()),o){var C=s.parseUrlQuery(o);i.url_query={};for(var y in C)i.url_query[y]=C[y]}try{c=a(i)}catch(e){c="",window.console&&window.console.error&&console.error(e)}}return{content:c,context:i}}},n.router._load=function(e,t){function i(){e.allowPageChange=!0,a.removeClass("page-from-right-to-center page-on-right page-on-left").addClass("page-on-center"),o.removeClass("page-from-center-to-left page-on-center page-on-right").addClass("page-on-left"),u&&(d.removeClass("navbar-from-right-to-center navbar-on-left navbar-on-right").addClass("navbar-on-center"),c.removeClass("navbar-from-center-to-left navbar-on-center navbar-on-right").addClass("navbar-on-left")),n.pageAnimCallback("after",e,{pageContainer:a[0],url:m,position:"right",oldPage:o,newPage:a,query:t.query,fromPage:o&&o.length&&o[0].f7PageData}),n.params.pushState&&e.main&&n.pushStateClearQueue(),e.params.swipeBackPage||e.params.preloadPreviousPage||(e.params.domCache?(o.addClass("cached"),u&&c.addClass("cached")):0===m.indexOf("#")&&0===a.attr("data-page").indexOf("smart-select-")||(n.pageRemoveCallback(e,o[0],"left"),u&&n.navbarRemoveCallback(e,o[0],p[0],c[0]),n.router._remove(o),u&&n.router._remove(c))),e.params.uniqueHistory&&M&&e.refreshPreviousPage()}t=t||{};var a,o,r,l,c,d,p,u,h,m=t.url,f=t.content,g={content:t.content},v=t.template,b=t.pageName,C=s(e.container),y=s(e.pagesContainer),x=t.animatePages,w=void 0===m&&f||v,S=t.pushState,T=t.pageElement;if(void 0===x&&(x=e.params.animatePages),n.pluginHook("routerLoad",e,t),(n.params.template7Pages&&"string"==typeof f||v)&&(g=n.router.template7Render(e,t),g.content&&!f&&(f=g.content)),n.router.temporaryDom.innerHTML="",!b&&!T)if("string"==typeof f||m&&"string"==typeof f)n.router.temporaryDom.innerHTML=g.content;else if("length"in f&&f.length>1)for(var k=0;k<f.length;k++)s(n.router.temporaryDom).append(f[k]);else s(n.router.temporaryDom).append(f);if(h=t.reload&&(t.reloadPrevious?"left":"center"),!(a=b?y.find('.page[data-page="'+b+'"]'):T?s(T):n.router.findElement(".page",n.router.temporaryDom,e))||0===a.length||b&&e.activePage&&e.activePage.name===b)return void(e.allowPageChange=!0);if(a.addClass(t.reload?"page-on-"+h:"page-on-right"),r=y.children(".page:not(.cached)"),T&&(r=r.filter(function(e,t){if(t!==T)return t})),t.reload&&t.reloadPrevious&&1===r.length)return void(e.allowPageChange=!0);if(t.reload)o=r.eq(r.length-1);else{if(r.length>1){for(l=0;l<r.length-2;l++)e.params.domCache?s(r[l]).addClass("cached"):(n.pageRemoveCallback(e,r[l],"left"),n.router._remove(r[l]));e.params.domCache?s(r[l]).addClass("cached"):(n.pageRemoveCallback(e,r[l],"left"),n.router._remove(r[l]))}o=y.children(".page:not(.cached)")}if(T&&o.length>1&&(o=o.filter(function(e,t){if(t!==T)return t})),(e.params.domCache||T)&&a.removeClass("cached"),e.params.dynamicNavbar)if(u=!0,d=b?C.find('.navbar-inner[data-page="'+b+'"]'):n.router.findElement(".navbar-inner",n.router.temporaryDom,e),d&&0!==d.length||(d=a.find(".navbar-inner"),d&&0!==d.length?d.parent(".navbar").length>0&&d.prependTo(a):u=!1),u&&a.find(".navbar").length>0&&n.router._remove(a.find(".navbar")),p=C.children(".navbar"),t.reload)c=p.find(".navbar-inner:not(.cached):last-child");else if(c=p.find(".navbar-inner:not(.cached)"),c.length>0){for(l=0;l<c.length-1;l++)e.params.domCache?s(c[l]).addClass("cached"):(n.navbarRemoveCallback(e,r[l],p[0],c[l]),n.router._remove(c[l]));d||1!==c.length||(e.params.domCache?s(c[0]).addClass("cached"):(n.navbarRemoveCallback(e,r[0],p[0],c[0]),n.router._remove(c[0]))),c=p.find(".navbar-inner:not(.cached)")}if(u&&(d.addClass(t.reload?"navbar-on-"+h:"navbar-on-right"),(e.params.domCache||T)&&d.removeClass("cached"),a[0].f7RelatedNavbar=d[0],d[0].f7RelatedPage=a[0]),m)m&&T&&(e.pageElementsCache[m]={page:a,navbarInner:d});else{var A=b||a.attr("data-page");m=w?"#"+n.params.dynamicPageUrl.replace(/{{name}}/g,A).replace(/{{index}}/g,e.history.length-(t.reload?1:0)):"#"+A,e.params.domCache||(e.contentCache[m]=f),e.params.domCache&&b&&(e.pagesCache[m]=b)}if(n.params.pushState&&!t.reloadPrevious&&e.main){void 0===S&&(S=!0);var E=n.params.pushStateRoot||"",_=t.reload?"replaceState":"pushState";S&&(w||b?w&&f?history[_]({content:"string"==typeof f?f:"",url:m,viewIndex:n.views.indexOf(e)},"",E+n.params.pushStateSeparator+m):b&&history[_]({pageName:b,url:m,viewIndex:n.views.indexOf(e)},"",E+n.params.pushStateSeparator+m):history[_]({url:m,viewIndex:n.views.indexOf(e)},"",E+n.params.pushStateSeparator+m))}if(e.url=m,t.reload){var I=e.history[e.history.length-(t.reloadPrevious?2:1)];I&&0===I.indexOf("#")&&I in e.contentCache&&I!==m&&-1===e.history.indexOf(I)?(e.contentCache[I]=null,delete e.contentCache[I]):I&&I in e.pageElementsCache&&I!==m&&(-1===e.history.indexOf(I)||e.history.indexOf(I)===e.history.length-1)&&(e.pageElementsCache[I]=null,delete e.pageElementsCache[I]),I&&I in e.contextCache&&I!==m&&(-1===e.history.indexOf(I)||e.history.indexOf(I)===e.history.length-1)&&(e.contextCache[I]=null,delete e.contextCache[I]),e.history[e.history.length-(t.reloadPrevious?2:1)]=m}else e.history.push(m);var M=!1;if(e.params.uniqueHistory){var P=e.history,L=m;if(e.params.uniqueHistoryIgnoreGetParameters)for(P=[],L=m.split("?")[0],l=0;l<e.history.length;l++)P.push(e.history[l].split("?")[0]);P.indexOf(L)!==P.lastIndexOf(L)&&(e.history=e.history.slice(0,P.indexOf(L)),e.history.push(m),M=!0)}if(t.reloadPrevious?(o=o.prev(".page"),a.insertBefore(o),u&&(c=c.prev(".navbar-inner"),d.insertAfter(c))):(y.append(a[0]),u&&p.append(d[0])),t.reload&&(e.params.domCache&&e.initialPages.indexOf(o[0])>=0?(o.addClass("cached"),u&&c.addClass("cached")):(n.pageRemoveCallback(e,o[0],h),u&&n.navbarRemoveCallback(e,o[0],p[0],c[0]),n.router._remove(o),u&&n.router._remove(c))),n.pageInitCallback(e,{pageContainer:a[0],url:m,position:t.reload?h:"right",navbarInnerContainer:u?d&&d[0]:void 0,oldNavbarInnerContainer:u?c&&c[0]:void 0,context:g.context,query:t.query,fromPage:o&&o.length&&o[0].f7PageData,reload:t.reload,reloadPrevious:t.reloadPrevious}),u&&n.navbarInitCallback(e,a[0],p[0],d[0],m,t.reload?h:"right"),t.reload)return e.allowPageChange=!0,void(M&&e.refreshPreviousPage());u&&x&&n.router.prepareNavbar(d,c,"right");a[0].clientLeft;n.pageAnimCallback("before",e,{pageContainer:a[0],url:m,position:"right",oldPage:o,newPage:a,query:t.query,fromPage:o&&o.length&&o[0].f7PageData}),x?(n.params.material&&n.params.materialPageLoadDelay?setTimeout(function(){n.router.animatePages(o,a,"to-left",e)},n.params.materialPageLoadDelay):n.router.animatePages(o,a,"to-left",e),u&&setTimeout(function(){n.router.animateNavbars(c,d,"to-left",e)},0),a.animationEnd(function(e){i()})):(u&&d.find(".sliding, .sliding .back .icon").transform(""),i())},n.router.load=function(e,t){function i(i){n.router.preprocess(e,i,a,function(i){t.content=i,n.router._load(e,t)})}if(t=t||{},n.router.preroute(e,t))return!1;var a=t.url,o=t.content,r=t.pageName,l=t.pageElement;r&&r.indexOf("?")>0&&(t.query=s.parseUrlQuery(r),t.pageName=r=r.split("?")[0]);var c=t.template;return!0===e.params.reloadPages&&(t.reload=!0),!!e.allowPageChange&&(!(a&&e.url===a&&!t.reload&&!e.params.allowDuplicateUrls)&&(e.allowPageChange=!1,n.xhr&&e.xhr&&e.xhr===n.xhr&&(n.xhr.abort(),n.xhr=!1),o||r||l?void i(o):c?void n.router._load(e,t):t.url&&"#"!==t.url?void n.get(t.url,e,t.ignoreCache,function(t,a){if(a)return void(e.allowPageChange=!0);i(t)}):void(e.allowPageChange=!0)))},n.router._back=function(e,t){function i(){n.pageBackCallback("after",e,{pageContainer:l[0],url:f,position:"center",oldPage:l,newPage:c}),n.pageAnimCallback("after",e,{pageContainer:c[0],url:f,position:"left",oldPage:l,newPage:c,query:t.query,fromPage:l&&l.length&&l[0].f7PageData}),n.router.afterBack(e,l[0],c[0])}function a(){n.pageBackCallback("before",e,{pageContainer:l[0],url:f,position:"center",oldPage:l,newPage:c}),n.pageAnimCallback("before",e,{pageContainer:c[0],url:f,position:"left",oldPage:l,newPage:c,query:t.query,fromPage:l&&l.length&&l[0].f7PageData}),C?(n.router.animatePages(c,l,"to-right",e),m&&setTimeout(function(){n.router.animateNavbars(p,d,"to-right",e)},0),c.animationEnd(function(){i()})):(m&&p.find(".sliding, .sliding .back .icon").transform(""),i())}function o(){if(n.router.temporaryDom.innerHTML="","string"==typeof g||f&&"string"==typeof g)n.router.temporaryDom.innerHTML=v.content;else if("length"in g&&g.length>1)for(var t=0;t<g.length;t++)s(n.router.temporaryDom).append(g[t]);else s(n.router.temporaryDom).append(g);c=T?s(T):n.router.findElement(".page",n.router.temporaryDom,e),e.params.dynamicNavbar&&(p=n.router.findElement(".navbar-inner",n.router.temporaryDom,e))}function r(){if(!c||0===c.length)return void(e.allowPageChange=!0);if(e.params.dynamicNavbar&&void 0===m&&(m=!(!p||0===p.length)),c.addClass("page-on-left").removeClass("cached"),m&&(u=k.children(".navbar"),h=u.find(".navbar-inner:not(.cached)"),p.addClass("navbar-on-left").removeClass("cached")),w){var i,o;if(i=s(E[E.length-2]),m&&(o=s(i[0]&&i[0].f7RelatedNavbar||h[h.length-2])),e.params.domCache&&e.initialPages.indexOf(i[0])>=0)i.length&&i[0]!==c[0]&&i.addClass("cached"),m&&o.length&&o[0]!==p[0]&&o.addClass("cached");else{var r=m&&o.length;i.length?(n.pageRemoveCallback(e,i[0],"right"),r&&n.navbarRemoveCallback(e,i[0],u[0],o[0]),n.router._remove(i),r&&n.router._remove(o)):r&&(n.navbarRemoveCallback(e,i[0],u[0],o[0]),n.router._remove(o))}E=A.children(".page:not(.cached)"),m&&(h=k.children(".navbar").find(".navbar-inner:not(.cached)")),e.history.indexOf(f)>=0?e.history=e.history.slice(0,e.history.indexOf(f)+2):e.history[[e.history.length-2]]?e.history[e.history.length-2]=f:e.history.unshift(f)}if(l=s(E[E.length-1]),e.params.domCache&&l[0]===c[0]&&(l=A.children(".page.page-on-center"),0===l.length&&e.activePage&&(l=s(e.activePage.container))),m&&!d&&(d=s(h[h.length-1]),e.params.domCache&&(d[0]===p[0]&&(d=u.children(".navbar-inner.navbar-on-center:not(.cached)")),0===d.length&&(d=u.children('.navbar-inner[data-page="'+l.attr("data-page")+'"]'))),0!==d.length&&p[0]!==d[0]||(m=!1)),m&&(_&&p.insertBefore(d),p[0].f7RelatedPage=c[0],c[0].f7RelatedNavbar=p[0]),_&&c.insertBefore(l),n.pageInitCallback(e,{pageContainer:c[0],url:f,position:"left",navbarInnerContainer:m?p[0]:void 0,oldNavbarInnerContainer:m?d&&d[0]:void 0,context:v.context,query:t.query,fromPage:l&&l.length&&l[0].f7PageData,preloadOnly:y}),m&&n.navbarInitCallback(e,c[0],u[0],p[0],f,"right"),m&&p.hasClass("navbar-on-left")&&C&&n.router.prepareNavbar(p,d,"left"),y)return void(e.allowPageChange=!0);e.url=f;c[0].clientLeft;a(),n.params.pushState&&e.main&&(void 0===x&&(x=!0),!y&&history.state&&x&&history.back())}t=t||{};var l,c,d,p,u,h,m,f=t.url,g=t.content,v={content:t.content},b=t.template,C=t.animatePages,y=t.preloadOnly,x=t.pushState,w=(t.ignoreCache,t.force),S=t.pageName,T=t.pageElement,k=s(e.container),A=s(e.pagesContainer),E=A.children(".page:not(.cached)"),_=!0;return void 0===C&&(C=e.params.animatePages),n.pluginHook("routerBack",e,t),(n.params.template7Pages&&"string"==typeof g||b)&&(v=n.router.template7Render(e,t),v.content&&!g&&(g=v.content)),E.length>1&&!w?y?void(e.allowPageChange=!0):(e.url=e.history[e.history.length-2],f=e.url,c=s(E[E.length-2]),l=s(E[E.length-1]),e.params.dynamicNavbar&&(m=!0,h=k.children(".navbar").find(".navbar-inner:not(.cached)"),p=s(h[0]),d=s(h[1]),0!==p.length&&0!==d.length&&d[0]!==p[0]||(m=!1)),_=!1,void r()):w?f&&f===e.url||S&&e.activePage&&e.activePage.name===S?void(e.allowPageChange=!0):g?(o(),void r()):S&&e.params.domCache?(S&&(f="#"+S),c=s(k).find('.page[data-page="'+S+'"]'),c[0].f7PageData&&c[0].f7PageData.url&&(f=c[0].f7PageData.url),e.params.dynamicNavbar&&(p=s(k).children(".navbar").find('.navbar-inner[data-page="'+S+'"]'),0===p.length&&c[0].f7RelatedNavbar&&(p=s(c[0].f7RelatedNavbar)),0===p.length&&c[0].f7PageData&&(p=s(c[0].f7PageData.navbarInnerContainer))),void r()):T&&f?(c=s(T),e.params.dynamicNavbar&&(p=c.find(".navbar-inner"),p.length>0&&(c.prepend(p),n.router._remove(c.find(".navbar")))),void r()):void(e.allowPageChange=!0):(y||(e.url=e.history[e.history.length-2],f=e.url),g?(o(),void r()):S?(c=s(k).find('.page[data-page="'+S+'"]'),e.params.dynamicNavbar&&(p=s(k).children(".navbar").find('.navbar-inner[data-page="'+S+'"]'),0===p.length&&c[0].f7RelatedNavbar&&(p=s(c[0].f7RelatedNavbar)),0===p.length&&c[0].f7PageData&&(p=s(c[0].f7PageData.navbarInnerContainer))),void r()):f&&f in e.pageElementsCache?(c=e.pageElementsCache[f].page,p=e.pageElementsCache[f].navbarInner,void r()):void(e.allowPageChange=!0))},n.router.back=function(e,t){function i(i){n.router.preprocess(e,i,a,function(i){t.content=i,n.router._back(e,t)})}if(t=t||{},n.router.preroute(e,t,!0))return!1;var a=t.url,o=t.content,r=t.pageName,l=t.pageElement;r&&r.indexOf("?")>0&&(t.query=s.parseUrlQuery(r),t.pageName=r=r.split("?")[0]);var c=t.force;if(!e.allowPageChange)return!1;if(e.allowPageChange=!1,n.xhr&&e.xhr&&e.xhr===n.xhr&&(n.xhr.abort(),n.xhr=!1),s(e.pagesContainer).find(".page:not(.cached)").length>1&&!c)return void n.router._back(e,t);if(c){if(!a&&o)return void i(o);if(!a&&r)return r&&(a="#"+r),void i();if(a&&l)return void i();if(a)return void n.get(t.url,e,t.ignoreCache,function(t,a){if(a)return void(e.allowPageChange=!0);i(t)})}else{if(a=e.history[e.history.length-2]||t.url,t.url||(t.url=a),!a)return void(e.allowPageChange=!0);if(0===a.indexOf("#")&&e.contentCache[a])return void i(e.contentCache[a]);if(0===a.indexOf("#")&&e.params.domCache)return r||(t.pageName=a.split("#")[1]),void i();if(a&&a in e.pageElementsCache)i();else if(0!==a.indexOf("#"))return void n.get(t.url,e,t.ignoreCache,function(t,a){if(a)return void(e.allowPageChange=!0);i(t)})}e.allowPageChange=!0},n.router.afterBack=function(e,t,i){t=s(t),i=s(i),e.params.domCache&&e.initialPages.indexOf(t[0])>=0?t.removeClass("page-from-center-to-right").addClass("cached"):(n.pageRemoveCallback(e,t[0],"right"),n.router._remove(t)),i.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),e.allowPageChange=!0;var a,o=e.history.pop();if(e.params.dynamicNavbar){var r=s(e.container).children(".navbar").find(".navbar-inner:not(.cached)"),l=s(t[0].f7RelatedNavbar||r[1]);e.params.domCache&&e.initialNavbars.indexOf(l[0])>=0?l.removeClass("navbar-from-center-to-right").addClass("cached"):(n.navbarRemoveCallback(e,t[0],void 0,l[0]),n.router._remove(l)),a=s(r[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(e.params.domCache&&s(e.container).find(".page.cached").each(function(){var t=s(this),i=(t.index(),t[0].f7PageData&&t[0].f7PageData.url);i&&e.history.indexOf(i)<0&&e.initialPages.indexOf(this)<0&&(n.pageRemoveCallback(e,t[0],"right"),t[0].f7RelatedNavbar&&e.params.dynamicNavbar&&n.navbarRemoveCallback(e,t[0],void 0,t[0].f7RelatedNavbar),n.router._remove(t),t[0].f7RelatedNavbar&&e.params.dynamicNavbar&&n.router._remove(t[0].f7RelatedNavbar))}),!e.params.domCache&&o&&o.indexOf("#")>-1&&o in e.contentCache&&-1===e.history.indexOf(o)&&(e.contentCache[o]=null,delete e.contentCache[o]),o&&o in e.pageElementsCache&&-1===e.history.indexOf(o)&&(e.pageElementsCache[o]=null,delete e.pageElementsCache[o]),o&&o in e.contextCache&&-1===e.history.indexOf(o)&&(e.contextCache[o]=null,delete e.contextCache[o]),n.params.pushState&&e.main&&n.pushStateClearQueue(),e.params.preloadPreviousPage)if(e.params.domCache&&e.history.length>1){var c,d,p=e.history[e.history.length-2];p&&e.pagesCache[p]?(c=s(e.container).find('.page[data-page="'+e.pagesCache[p]+'"]'),c.next(".page")[0]!==i[0]&&c.insertBefore(i),a&&(d=s(e.container).children(".navbar").find('.navbar-inner[data-page="'+e.pagesCache[p]+'"]'),d&&0!==d.length||(d=a.prev(".navbar-inner.cached")),d.next(".navbar-inner")[0]!==a[0]&&d.insertBefore(a))):(c=i.prev(".page.cached"),a&&(d=a.prev(".navbar-inner.cached"))),c&&c.length>0&&c.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),d&&d.length>0&&d.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else n.router.back(e,{preloadOnly:!0})};var h=document.createElement("div");n.modalStack=[],n.modalStackClearQueue=function(){n.modalStack.length&&n.modalStack.shift()()},n.modal=function(e){e=e||{};var t="";if(n.params.modalTemplate)n._compiledTemplates.modal||(n._compiledTemplates.modal=r.compile(n.params.modalTemplate)),t=n._compiledTemplates.modal(e);else{var i="";if(e.buttons&&e.buttons.length>0)for(var a=0;a<e.buttons.length;a++)i+='<span class="modal-button'+(e.buttons[a].bold?" modal-button-bold":"")+'">'+e.buttons[a].text+"</span>";var o=e.title?'<div class="modal-title">'+e.title+"</div>":"",l=e.text?'<div class="modal-text">'+e.text+"</div>":"",c=e.afterText?e.afterText:"",d=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons",p=e.verticalButtons?"modal-buttons-vertical":"",u=e.buttons&&e.buttons.length>0?'<div class="modal-buttons modal-buttons-'+e.buttons.length+" "+p+'">'+i+"</div>":"";t='<div class="modal '+d+" "+(e.cssClass||"")+'"><div class="modal-inner">'+(o+l+c)+"</div>"+u+"</div>"}h.innerHTML=t;var m=s(h).children();return n.root.append(m[0]),m.find(".modal-button").each(function(t,i){s(i).on("click",function(i){!1!==e.buttons[t].close&&n.closeModal(m),e.buttons[t].onClick&&e.buttons[t].onClick(m,i),e.onClick&&e.onClick(m,t)})}),n.openModal(m),m[0]},n.alert=function(e,t,i){return"function"==typeof t&&(i=arguments[1],t=void 0),n.modal({text:e||"",title:void 0===t?n.params.modalTitle:t,buttons:[{text:n.params.modalButtonOk,bold:!0,onClick:i}]})},n.confirm=function(e,t,i,a){return"function"==typeof t&&(a=arguments[2],i=arguments[1],t=void 0),n.modal({text:e||"",title:void 0===t?n.params.modalTitle:t,buttons:[{text:n.params.modalButtonCancel,onClick:a},{text:n.params.modalButtonOk,bold:!0,onClick:i}]})},n.prompt=function(e,t,i,a){return"function"==typeof t&&(a=arguments[2],i=arguments[1],t=void 0),n.modal({text:e||"",title:void 0===t?n.params.modalTitle:t,afterText:'<div class="input-field"><input type="text" class="modal-text-input"></div>',buttons:[{text:n.params.modalButtonCancel},{text:n.params.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&a&&a(s(e).find(".modal-text-input").val()),1===t&&i&&i(s(e).find(".modal-text-input").val())}})},n.modalLogin=function(e,t,i,a){return"function"==typeof t&&(a=arguments[2],i=arguments[1],t=void 0),n.modal({text:e||"",title:void 0===t?n.params.modalTitle:t,afterText:'<div class="input-field modal-input-double"><input type="text" name="modal-username" placeholder="'+n.params.modalUsernamePlaceholder+'" class="modal-text-input"></div><div class="input-field modal-input-double"><input type="password" name="modal-password" placeholder="'+n.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:n.params.modalButtonCancel},{text:n.params.modalButtonOk,bold:!0}],onClick:function(e,t){var n=s(e).find('.modal-text-input[name="modal-username"]').val(),o=s(e).find('.modal-text-input[name="modal-password"]').val();0===t&&a&&a(n,o),1===t&&i&&i(n,o)}})},n.modalPassword=function(e,t,i,a){return"function"==typeof t&&(a=arguments[2],i=arguments[1],t=void 0),n.modal({text:e||"",title:void 0===t?n.params.modalTitle:t,afterText:'<div class="input-field"><input type="password" name="modal-password" placeholder="'+n.params.modalPasswordPlaceholder+'" class="modal-text-input"></div>',buttons:[{text:n.params.modalButtonCancel},{text:n.params.modalButtonOk,bold:!0}],onClick:function(e,t){var n=s(e).find('.modal-text-input[name="modal-password"]').val();0===t&&a&&a(n),1===t&&i&&i(n)}})},n.showPreloader=function(e){return n.modal({title:e||n.params.modalPreloaderTitle,text:'<div class="preloader">'+(n.params.material?n.params.materialPreloaderHtml:"")+"</div>",cssClass:"modal-preloader"})},n.hidePreloader=function(){n.closeModal(".modal.modal-in")},n.showIndicator=function(){s(".preloader-indicator-overlay").length>0||n.root.append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white">'+(n.params.material?n.params.materialPreloaderHtml:"")+"</span></div>")},n.hideIndicator=function(){s(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},n.actions=function(e,t){var i,a,o,l=!1;1===arguments.length?t=e:n.device.ios?n.device.ipad&&(l=!0):s(window).width()>=768&&(l=!0),t=t||[],t.length>0&&!s.isArray(t[0])&&(t=[t]);var c;if(l){var d=n.params.modalActionsToPopoverTemplate||'<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';n._compiledTemplates.actionsToPopover||(n._compiledTemplates.actionsToPopover=r.compile(d));var p=n._compiledTemplates.actionsToPopover(t);i=s(n.popover(p,e,!0)),a=".list-block ul",o=".list-button"}else{if(n.params.modalActionsTemplate)n._compiledTemplates.actions||(n._compiledTemplates.actions=r.compile(n.params.modalActionsTemplate)),c=n._compiledTemplates.actions(t);else{for(var u="",m=0;m<t.length;m++)for(var f=0;f<t[m].length;f++){0===f&&(u+='<div class="actions-modal-group">');var g=t[m][f],v=g.label?"actions-modal-label":"actions-modal-button";g.bold&&(v+=" actions-modal-button-bold"),g.color&&(v+=" color-"+g.color),g.bg&&(v+=" bg-"+g.bg),g.disabled&&(v+=" disabled"),u+='<div class="'+v+'">'+g.text+"</div>",f===t[m].length-1&&(u+="</div>")}c='<div class="actions-modal">'+u+"</div>"}h.innerHTML=c,i=s(h).children(),n.root.append(i[0]),a=".actions-modal-group",o=".actions-modal-button"}return i.find(a).each(function(e,a){var r=e;s(a).children().each(function(e,a){var c,d=e,p=t[r][d];!l&&s(a).is(o)&&(c=s(a)),l&&s(a).find(o).length>0&&(c=s(a).find(o)),c&&c.on("click",function(e){!1!==p.close&&n.closeModal(i),p.onClick&&p.onClick(i,e)})})}),l||n.openModal(i),i[0]},n.popover=function(e,t,i){function a(){e.css({left:"",top:""});var i,a,n,o=e.width(),l=e.height(),c=0;r?e.removeClass("popover-on-left popover-on-right popover-on-top popover-on-bottom").css({left:"",top:""}):(i=e.find(".popover-angle"),c=i.width()/2,i.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""}));var d=t.outerWidth(),p=t.outerHeight(),u=t.offset(),h=t.parents(".page");h.length>0&&(u.top=u.top-h[0].scrollTop);var m=s(window).height(),f=s(window).width(),g=0,v=0,b=0,C=r?"bottom":"top";if(r){if(l<m-u.top-p?(C="bottom",g=u.top):l<u.top?(g=u.top-l+p,C="top"):(C="bottom",g=u.top),g<=0?g=8:g+l>=m&&(g=m-l-8),v=u.left,v+o>=f-8&&(v=u.left+d-o-8),v<8&&(v=8),"top"===C&&e.addClass("popover-on-top"),"bottom"===C&&e.addClass("popover-on-bottom"),t.hasClass("floating-button-to-popover")&&!e.hasClass("modal-in")){e.addClass("popover-floating-button");var y=v+o/2-(u.left+d/2),x=g+l/2-(u.top+p/2);t.addClass("floating-button-to-popover-in").transform("translate3d("+y+"px, "+x+"px,0)").transitionEnd(function(e){t.hasClass("floating-button-to-popover-in")&&t.addClass("floating-button-to-popover-scale").transform("translate3d("+y+"px, "+x+"px,0) scale("+o/d+", "+l/p+")")}),e.once("close",function(){t.removeClass("floating-button-to-popover-in floating-button-to-popover-scale").addClass("floating-button-to-popover-out").transform("").transitionEnd(function(e){t.removeClass("floating-button-to-popover-out")})}),e.once("closed",function(){e.removeClass("popover-floating-button")})}}else l+c<u.top?g=u.top-l-c:l+c<m-u.top-p?(C="bottom",g=u.top+p+c):(C="middle",g=p/2+u.top-l/2,b=g,g<=0?g=5:g+l>=m&&(g=m-l-5),b-=g),"top"===C||"bottom"===C?(v=d/2+u.left-o/2,b=v,v<5&&(v=5),v+o>f&&(v=f-o-5),"top"===C&&i.addClass("on-bottom"),"bottom"===C&&i.addClass("on-top"),b-=v,a=o/2-c+b,a=Math.max(Math.min(a,o-2*c-13),13),i.css({left:a+"px"})):"middle"===C&&(v=u.left-o-c,i.addClass("on-right"),(v<5||v+o>f)&&(v<5&&(v=u.left+d+c),v+o>f&&(v=f-o-5),i.removeClass("on-right").addClass("on-left")),n=l/2-c+b,n=Math.max(Math.min(n,l-2*c-13),13),i.css({top:n+"px"}));e.css({top:g+"px",left:v+"px"})}if(void 0===i&&(i=!0),"string"==typeof e&&e.indexOf("<")>=0){var o=document.createElement("div");if(o.innerHTML=e.trim(),!(o.childNodes.length>0))return!1;e=o.childNodes[0],i&&e.classList.add("remove-on-close"),n.root.append(e)}if(e=s(e),t=s(t),0===e.length||0===t.length)return!1;0===e.parents("body").length&&(i&&e.addClass("remove-on-close"),n.root.append(e[0])),0!==e.find(".popover-angle").length||n.params.material||e.append('<div class="popover-angle"></div>'),e.show();var r=n.params.material;return a(),s(window).on("resize",a),e.on("close",function(){s(window).off("resize",a)}),n.openModal(e),e[0]},n.popup=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var i=document.createElement("div");if(i.innerHTML=e.trim(),!(i.childNodes.length>0))return!1;e=i.childNodes[0],t&&e.classList.add("remove-on-close"),n.root.append(e)}return e=s(e),0!==e.length&&(0===e.parents("body").length&&(t&&e.addClass("remove-on-close"),n.root.append(e[0])),e.show(),n.openModal(e),e[0])},n.pickerModal=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){if(e=s(e),!(e.length>0))return!1;t&&e.addClass("remove-on-close"),n.root.append(e[0])}return e=s(e),0!==e.length&&(0===e.parents("body").length&&(t&&e.addClass("remove-on-close"),n.root.append(e[0])),s(".picker-modal.modal-in:not(.modal-out)").length>0&&!e.hasClass("modal-in")&&n.closeModal(".picker-modal.modal-in:not(.modal-out)"),e.show(),n.openModal(e),e[0])},n.loginScreen=function(e){return e||(e=".login-screen"),e=s(e),0!==e.length&&(s(".login-screen.modal-in:not(.modal-out)").length>0&&!e.hasClass("modal-in")&&n.closeModal(".login-screen.modal-in:not(.modal-out)"),e.show(),n.openModal(e),e[0])},n.openModal=function(e){e=s(e);var t=e.hasClass("modal");if(s(".modal.modal-in:not(.modal-out)").length&&n.params.modalStack&&t)return void n.modalStack.push(function(){n.openModal(e)});if(!0!==e.data("f7-modal-shown")){e.data("f7-modal-shown",!0),e.once("close",function(){e.removeData("f7-modal-shown")});var i=(e.hasClass("popover"),e.hasClass("popup")),a=e.hasClass("login-screen"),o=e.hasClass("picker-modal");t&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2)+"px"}));var r;a||o||(0!==s(".modal-overlay").length||i||n.root.append('<div class="modal-overlay"></div>'),0===s(".popup-overlay").length&&i&&n.root.append('<div class="popup-overlay"></div>'),r=s(i?".popup-overlay":".modal-overlay")),n.params.material&&o&&e.hasClass("picker-calendar")&&(0!==s(".picker-modal-overlay").length||i||n.root.append('<div class="picker-modal-overlay"></div>'),r=s(".picker-modal-overlay"));e[0].clientLeft;return e.trigger("open"),o&&s("body").addClass("with-picker-modal"),e.find("."+n.params.viewClass).length>0&&(e.find(".page").each(function(){n.initPageWithCallback(this)}),e.find(".navbar").each(function(){n.initNavbarWithCallback(this)})),a||o||r.addClass("modal-overlay-visible"),n.params.material&&o&&r&&r.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),!0}},n.closeModal=function(e){if(void 0===(e=s(e||".modal-in"))||0!==e.length){var t,i=e.hasClass("modal"),a=e.hasClass("popover"),o=e.hasClass("popup"),r=e.hasClass("login-screen"),l=e.hasClass("picker-modal"),c=e.hasClass("remove-on-close");return o?t=s(".popup-overlay"):l&&n.params.material?t=s(".picker-modal-overlay"):l||(t=s(".modal-overlay")),o?e.length===s(".popup.modal-in").length&&t.removeClass("modal-overlay-visible"):t&&t.length>0&&t.removeClass("modal-overlay-visible"),e.trigger("close"),l&&(s("body").removeClass("with-picker-modal"),s("body").addClass("picker-modal-closing")),!a||n.params.material?(e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){if(e.hasClass("modal-out"))e.trigger("closed");else if(e.trigger("opened"),a)return;l&&s("body").removeClass("picker-modal-closing"),o||r||l||a?(e.removeClass("modal-out").hide(),c&&e.length>0&&e.remove()):e.remove()}),i&&n.params.modalStack&&n.modalStackClearQueue()):(e.removeClass("modal-in modal-out").trigger("closed").hide(),c&&e.remove()),!0}},n.setProgressbar=function(e,t,i){if(e=s(e||n.root),0!==e.length){t&&(t=Math.min(Math.max(t,0),100));var a;if(a=e.hasClass("progressbar")?e:e.children(".progressbar"),0!==a.length&&!a.hasClass("progressbar-infinite")){a[0].clientLeft;return a.children("span").transform("translate3d("+(-100+t)+"%,0,0)"),
void 0!==i?a.children("span").transition(i):a.children("span").transition(""),a[0]}}},n.showProgressbar=function(e,t,i){if("number"==typeof e&&(e=n.root,t=arguments[0],i=arguments[1]),t&&"string"==typeof t&&parseFloat(t)!==1*t&&(i=t,t=void 0),e=s(e||n.root),0!==e.length){var a;return e.hasClass("progressbar")?a=e:(a=e.children(".progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)"),0===a.length&&(a=s(void 0!==t?'<span class="progressbar progressbar-in'+(i?" color-"+i:"")+'"><span></span></span>':'<span class="progressbar-infinite progressbar-in'+(i?" color-"+i:"")+'"></span>'),e.append(a))),t&&n.setProgressbar(e,t),a[0]}},n.hideProgressbar=function(e){if(e=s(e||n.root),0!==e.length){var t;t=e.hasClass("progressbar")?e:e.children(".progressbar, .progressbar-infinite"),0!==t.length&&t.hasClass("progressbar-in")&&!t.hasClass("progressbar-out")&&t.removeClass("progressbar-in").addClass("progressbar-out").animationEnd(function(){t.remove(),t=null})}},n.initPageProgressbar=function(e){e=s(e),e.find(".progressbar").each(function(){var e=s(this);0===e.children("span").length&&e.append("<span></span>"),e.attr("data-progress")&&n.setProgressbar(e,e.attr("data-progress"))})},n.allowPanelOpen=!0,n.openPanel=function(e){function t(){o.transitionEnd(function(e){s(e.target).is(o)?(i.hasClass("active")?i.trigger("opened"):i.trigger("closed"),n.params.material&&s(".panel-overlay").css({display:""}),n.allowPanelOpen=!0):t()})}if(!n.allowPanelOpen)return!1;var i=s(".panel-"+e);if(0===i.length||i.hasClass("active"))return!1;n.closePanel(),n.allowPanelOpen=!1;var a=i.hasClass("panel-reveal")?"reveal":"cover";i.css({display:"block"}).addClass("active"),i.trigger("open"),n.params.material&&s(".panel-overlay").show(),i.find("."+n.params.viewClass).length>0&&n.sizeNavbars&&n.sizeNavbars(i.find("."+n.params.viewClass)[0]);var o=(i[0].clientLeft,"reveal"===a?s("."+n.params.viewsClass):i);return t(),s("body").addClass("with-panel-"+e+"-"+a),!0},n.closePanel=function(){var e=s(".panel.active");if(0===e.length)return!1;var t=e.hasClass("panel-reveal")?"reveal":"cover",i=e.hasClass("panel-left")?"left":"right";e.removeClass("active");var a="reveal"===t?s("."+n.params.viewsClass):e;e.trigger("close"),n.allowPanelOpen=!1,a.transitionEnd(function(){e.hasClass("active")||(e.css({display:""}),e.trigger("closed"),s("body").removeClass("panel-closing"),n.allowPanelOpen=!0)}),s("body").addClass("panel-closing").removeClass("with-panel-"+i+"-"+t)},n.initSwipePanels=function(){function e(e){if(n.allowPanelOpen&&(n.params.swipePanel||n.params.swipePanelOnlyClose)&&!r&&!(s(".modal-in, .photo-browser-in").length>0)&&(n.params.swipePanelCloseOpposite||n.params.swipePanelOnlyClose||!(s(".panel.active").length>0)||a.hasClass("active"))){if(C.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,C.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,n.params.swipePanelCloseOpposite||n.params.swipePanelOnlyClose){if(s(".panel.active").length>0)o=s(".panel.active").hasClass("panel-left")?"left":"right";else{if(n.params.swipePanelOnlyClose)return;o=n.params.swipePanel}if(!o)return}if(a=s(".panel.panel-"+o),m=a.hasClass("active"),n.params.swipePanelActiveArea&&!m){if("left"===o&&C.x>n.params.swipePanelActiveArea)return;if("right"===o&&C.x<window.innerWidth-n.params.swipePanelActiveArea)return}l=!1,r=!0,c=void 0,d=(new Date).getTime(),v=void 0}}function t(e){if(r&&!e.f7PreventPanelSwipe){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,i="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===c&&(c=!!(c||Math.abs(i-C.y)>Math.abs(t-C.x))),c)return void(r=!1);if(!v&&(v=t>C.x?"to-right":"to-left","both"===o&&(o=s(".panel.active").length>0?s(".panel.active").hasClass("panel-left")?"left":"right":"to-right"===v?"left":"right",a=s(".panel.panel-"+o)),"left"===o&&"to-left"===v&&!a.hasClass("active")||"right"===o&&"to-right"===v&&!a.hasClass("active")))return void(r=!1);if(n.params.swipePanelNoFollow){return(new Date).getTime()-d<300&&("to-left"===v&&("right"===o&&n.openPanel(o),"left"===o&&a.hasClass("active")&&n.closePanel()),"to-right"===v&&("left"===o&&n.openPanel(o),"right"===o&&a.hasClass("active")&&n.closePanel())),r=!1,void(l=!1)}l||(g=a.hasClass("panel-cover")?"cover":"reveal",m||(a.show(),b.show()),f=a[0].offsetWidth,a.transition(0),a.find("."+n.params.viewClass).length>0&&n.sizeNavbars&&n.sizeNavbars(a.find("."+n.params.viewClass)[0])),l=!0,e.preventDefault();var x=m?0:-n.params.swipePanelThreshold;"right"===o&&(x=-x),p=t-C.x+x,"right"===o?(u=p-(m?f:0),u>0&&(u=0),u<-f&&(u=-f)):(u=p+(m?f:0),u<0&&(u=0),u>f&&(u=f)),"reveal"===g?(y.transform("translate3d("+u+"px,0,0)").transition(0),b.transform("translate3d("+u+"px,0,0)").transition(0),n.pluginHook("swipePanelSetTransform",y[0],a[0],Math.abs(u/f))):(a.transform("translate3d("+u+"px,0,0)").transition(0),n.params.material&&(b.transition(0),h=Math.abs(u/f),b.css({opacity:h})),n.pluginHook("swipePanelSetTransform",y[0],a[0],Math.abs(u/f)))}}function i(e){if(!r||!l)return r=!1,void(l=!1);r=!1,l=!1;var t,i=(new Date).getTime()-d,c=0===u||Math.abs(u)===f;if(t=m?u===-f?"reset":i<300&&Math.abs(u)>=0||i>=300&&Math.abs(u)<=f/2?"left"===o&&u===f?"reset":"swap":"reset":0===u?"reset":i<300&&Math.abs(u)>0||i>=300&&Math.abs(u)>=f/2?"swap":"reset","swap"===t&&(n.allowPanelOpen=!0,m?(n.closePanel(),c&&(a.css({display:""}),s("body").removeClass("panel-closing"))):n.openPanel(o),c&&(n.allowPanelOpen=!0)),"reset"===t)if(m)n.allowPanelOpen=!0,n.openPanel(o);else if(n.closePanel(),c)n.allowPanelOpen=!0,a.css({display:""});else{var p="reveal"===g?y:a;a.trigger("close"),s("body").addClass("panel-closing"),p.transitionEnd(function(){a.trigger("closed"),a.css({display:""}),s("body").removeClass("panel-closing"),n.allowPanelOpen=!0})}"reveal"===g&&(y.transition(""),y.transform("")),a.transition("").transform(""),b.css({display:""}).transform("").transition("").css("opacity","")}var a,o;if(n.params.swipePanel){if(a=s(".panel.panel-"+n.params.swipePanel),o=n.params.swipePanel,0===a.length&&"both"!==o)return}else{if(!n.params.swipePanelOnlyClose)return;if(0===s(".panel").length)return}var r,l,c,d,p,u,h,m,f,g,v,b=s(".panel-overlay"),C={},y=s("."+n.params.viewsClass),x=!("touchstart"!==n.touchEvents.start||!n.support.passiveListener)&&{passive:!0,capture:!1};s(document).on(n.touchEvents.start,e,x),s(document).on(n.touchEvents.move,t),s(document).on(n.touchEvents.end,i,x)},n.initImagesLazyLoad=function(e){function t(e){function i(){e.removeClass("lazy").addClass("lazy-loaded"),a?e.css("background-image","url("+o+")"):e.attr("src",o),n.params.imagesLazyLoadSequential&&(u=!1,p.length>0&&t(p.shift()))}e=s(e);var a=e.attr("data-background"),o=a||e.attr("data-src");if(o){if(n.params.imagesLazyLoadSequential&&u)return void(p.indexOf(e[0])<0&&p.push(e[0]));u=!0;var r=new Image;r.onload=i,r.onerror=i,r.src=o}}function i(){l=e.find(".lazy"),l.each(function(e,i){i=s(i),i.parents(".tab:not(.active)").length>0||a(i[0])&&t(i)})}function a(e){var t=e.getBoundingClientRect(),i=n.params.imagesLazyLoadThreshold||0;return t.top>=0-i&&t.left>=0-i&&t.top<=window.innerHeight+i&&t.left<=window.innerWidth+i}function o(t){var a=t?"off":"on";l[a]("lazy",i),l.parents(".tab")[a]("show",i),e[a]("lazy",i),c[a]("lazy",i),c[a]("scroll",i),s(window)[a]("resize",i)}function r(){o(!0)}e=s(e);var l;if(e.hasClass("lazy")?(l=e,e=l.parents(".page")):l=e.find(".lazy"),0!==l.length){var c;if(e.hasClass("page-content")?(c=e,e=e.parents(".page")):c=e.find(".page-content"),0!==c.length){var d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";"string"==typeof n.params.imagesLazyLoadPlaceholder&&(d=n.params.imagesLazyLoadPlaceholder),!1!==n.params.imagesLazyLoadPlaceholder&&l.each(function(){s(this).attr("data-src")&&s(this).attr("src",d)});var p=[],u=!1;e[0].f7DestroyImagesLazyLoad=r,o(),e.hasClass("page")&&e.once("pageBeforeRemove",r),i(),e.once("pageAfterAnimation",i)}}},n.destroyImagesLazyLoad=function(e){e=s(e),e.length>0&&e[0].f7DestroyImagesLazyLoad&&e[0].f7DestroyImagesLazyLoad()},n.reinitImagesLazyLoad=function(e){e=s(e),e.length>0&&e.trigger("lazy")},n.initPageMaterialPreloader=function(e){s(e).find(".preloader").each(function(){0===s(this).children().length&&s(this).html(n.params.materialPreloaderHtml)})};var m=function(e,t){var i={autoLayout:!0,newMessagesFirst:!1,scrollMessages:!0,scrollMessagesOnlyOnEdge:!1,messageTemplate:'{{#if day}}<div class="messages-date">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>{{/if}}<div class="message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} {{#if position}}message-appear-from-{{position}}{{/if}}">{{#if name}}<div class="message-name">{{name}}</div>{{/if}}<div class="message-text">{{text}}{{#if date}}<div class="message-date">{{date}}</div>{{/if}}</div>{{#if avatar}}<div class="message-avatar" style="background-image:url({{avatar}})"></div>{{/if}}{{#if label}}<div class="message-label">{{label}}</div>{{/if}}</div>'};t=t||{};for(var a in i)void 0!==t[a]&&null!==t[a]||(t[a]=i[a]);var n=this;if(n.params=t,n.container=s(e),0!==n.container.length)return n.params.autoLayout&&n.container.addClass("messages-auto-layout"),n.params.newMessagesFirst&&n.container.addClass("messages-new-first"),n.pageContainer=n.container.parents(".page").eq(0),n.pageContent=n.pageContainer.find(".page-content"),n.template=Template7.compile(n.params.messageTemplate),n.layout=function(){n.container.hasClass("messages-auto-layout")||n.container.addClass("messages-auto-layout"),n.container.find(".message").each(function(){var e=s(this);if(e.find(".message-text img").length>0){for(var t=e.find(".message-text")[0].childNodes,i=!0,a=0;a<t.length;a++)1===t[a].nodeType&&"img"!==t[a].nodeName.toLowerCase()&&(i=!1),3===t[a].nodeType&&""!==t[a].textContent.trim()&&(i=!1);i?e.addClass("message-pic"):e.removeClass("message-pic")}e.find(".message-avatar").length>0&&e.addClass("message-with-avatar")}),n.container.find(".message").each(function(){var e=s(this),t=e.hasClass("message-sent"),i=e.next(".message-"+(t?"sent":"received")),a=e.prev(".message-"+(t?"sent":"received"));0===i.length?e.addClass("message-last message-with-tail"):e.removeClass("message-last message-with-tail"),0===a.length?e.addClass("message-first"):e.removeClass("message-first"),a.length>0&&a.find(".message-name").length>0&&e.find(".message-name").length>0&&a.find(".message-name").text()!==e.find(".message-name").text()&&(a.addClass("message-last message-with-tail"),e.addClass("message-first"))})},n.appendMessage=function(e,t){return n.addMessage(e,"append",t)},n.prependMessage=function(e,t){return n.addMessage(e,"prepend",t)},n.addMessage=function(e,t,i){return n.addMessages([e],t,i)},n.addMessages=function(e,t,i){void 0===i&&(i=!0),void 0===t&&(t=n.params.newMessagesFirst?"prepend":"append");var a,o="";for(a=0;a<e.length;a++){var s=e[a]||{};s.type=s.type||"sent",s.text&&(s.hasImage=s.text.indexOf("<img")>=0,!1===s.onlyImage&&(s.hasImage=!1),i&&(s.position="append"===t?"bottom":"top"),o+=n.template(s))}var r=n.pageContent[0].scrollHeight,l=n.pageContent[0].offsetHeight,c=n.pageContent[0].scrollTop;if(n.container[t](o),n.params.autoLayout&&n.layout(),"prepend"===t&&(n.pageContent[0].scrollTop=c+(n.pageContent[0].scrollHeight-r)),n.params.scrollMessages&&"append"===t&&!n.params.newMessagesFirst||"prepend"===t&&n.params.newMessagesFirst)if(n.params.scrollMessagesOnlyOnEdge){var d=!1;n.params.newMessagesFirst?0===c&&(d=!0):c-(r-l)>=-10&&(d=!0),d&&n.scrollMessages(i?void 0:0)}else n.scrollMessages(i?void 0:0);var p=n.container.find(".message");if(1===e.length)return"append"===t?p[p.length-1]:p[0];var u=[];if("append"===t)for(a=p.length-e.length;a<p.length;a++)u.push(p[a]);else for(a=0;a<e.length;a++)u.push(p[a]);return u},n.removeMessage=function(e){return e=s(e),0!==e.length&&(e.remove(),n.params.autoLayout&&n.layout(),!0)},n.removeMessages=function(e){n.removeMessage(e)},n.clean=function(){n.container.html("")},n.scrollMessages=function(e,t){void 0===e&&(e=400);var i,a=n.pageContent[0].scrollTop;if(void 0!==t)i=t;else if((i=n.params.newMessagesFirst?0:n.pageContent[0].scrollHeight-n.pageContent[0].offsetHeight)===a)return;n.pageContent.scrollTop(i,e)},n.init=function(){n.params.messages?n.addMessages(n.params.messages,void 0,!1):(n.params.autoLayout&&n.layout(),n.scrollMessages(0))},n.destroy=function(){n=null},n.init(),n.container[0].f7Messages=n,n};n.messages=function(e,t){return new m(e,t)},n.initPageMessages=function(e){function t(){a.destroy(),e.off("pageBeforeRemove",t)}e=s(e);var i=e.find(".messages");if(0!==i.length&&i.hasClass("messages-init")){var a=n.messages(i,i.dataset());e.hasClass("page")&&e.on("pageBeforeRemove",t)}},n.swipeoutOpenedEl=void 0,n.allowSwipeout=!0,n.initSwipeout=function(e){function t(e){n.allowSwipeout&&(r=!1,o=!0,l=void 0,I.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,I.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=(new Date).getTime())}function i(e){if(o){var t="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,i="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===l&&(l=!!(l||Math.abs(i-I.y)>Math.abs(t-I.x))),l)return void(o=!1);if(!r){if(s(".list-block.sortable-opened").length>0)return;p=s(this),u=p.find(".swipeout-content"),h=p.find(".swipeout-actions-right"),m=p.find(".swipeout-actions-left"),f=g=y=x=T=S=null,E=m.hasClass("swipeout-actions-no-fold")||n.params.swipeoutActionsNoFold,_=h.hasClass("swipeout-actions-no-fold")||n.params.swipeoutActionsNoFold,m.length>0&&(f=m.outerWidth(),y=m.children("a"),S=m.find(".swipeout-overswipe")),h.length>0&&(g=h.outerWidth(),x=h.children("a"),T=h.find(".swipeout-overswipe")),b=p.hasClass("swipeout-opened"),b&&(C=p.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),p.removeClass("transitioning"),n.params.swipeoutNoFollow||(p.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),p.removeClass("swipeout-opened"))}if(r=!0,e.preventDefault(),d=t-I.x,v=d,b&&("right"===C?v-=g:v+=f),v>0&&0===m.length||v<0&&0===h.length){if(!b)return o=r=!1,u.transform(""),x&&x.length>0&&x.transform(""),void(y&&y.length>0&&y.transform(""));v=0}w=v<0?"to-left":v>0?"to-right":w||"to-left";var a,c,M;if(e.f7PreventPanelSwipe=!0,n.params.swipeoutNoFollow)return b?("right"===C&&d>0&&n.swipeoutClose(p),"left"===C&&d<0&&n.swipeoutClose(p)):(d<0&&h.length>0&&n.swipeoutOpen(p,"right"),d>0&&m.length>0&&n.swipeoutOpen(p,"left")),o=!1,void(r=!1);k=!1,A=!1;var P;if(h.length>0)for(M=v/g,v<-g&&(v=-g-Math.pow(-v-g,.8),T.length>0&&(A=!0)),a=0;a<x.length;a++)void 0===x[a]._buttonOffset&&(x[a]._buttonOffset=x[a].offsetLeft),c=x[a]._buttonOffset,P=s(x[a]),T.length>0&&P.hasClass("swipeout-overswipe")&&(P.css({left:(A?-c:0)+"px"}),A?P.addClass("swipeout-overswipe-active"):P.removeClass("swipeout-overswipe-active")),P.transform("translate3d("+(v-c*(1+Math.max(M,-1)))+"px,0,0)");if(m.length>0)for(M=v/f,v>f&&(v=f+Math.pow(v-f,.8),S.length>0&&(k=!0)),a=0;a<y.length;a++)void 0===y[a]._buttonOffset&&(y[a]._buttonOffset=f-y[a].offsetLeft-y[a].offsetWidth),c=y[a]._buttonOffset,P=s(y[a]),S.length>0&&P.hasClass("swipeout-overswipe")&&(P.css({left:(k?c:0)+"px"}),k?P.addClass("swipeout-overswipe-active"):P.removeClass("swipeout-overswipe-active")),y.length>1&&P.css("z-index",y.length-a),P.transform("translate3d("+(v+c*(1-Math.min(M,1)))+"px,0,0)");u.transform("translate3d("+v+"px,0,0)")}}function a(e){if(!o||!r)return o=!1,void(r=!1);o=!1,r=!1;var t,i,a,l,C,S=(new Date).getTime()-c;if("to-left"===w?_:E,a="to-left"===w?h:m,i="to-left"===w?g:f,t=S<300&&(d<-10&&"to-left"===w||d>10&&"to-right"===w)||S>=300&&Math.abs(v)>i/2?"open":"close",S<300&&(0===Math.abs(v)&&(t="close"),Math.abs(v)===i&&(t="open")),"open"===t){n.swipeoutOpenedEl=p,p.trigger("open"),p.addClass("swipeout-opened transitioning");var T="to-left"===w?-i:i;if(u.transform("translate3d("+T+"px,0,0)"),a.addClass("swipeout-actions-opened"),l="to-left"===w?x:y)for(C=0;C<l.length;C++)s(l[C]).transform("translate3d("+T+"px,0,0)");A&&h.find(".swipeout-overswipe")[0].click(),k&&m.find(".swipeout-overswipe")[0].click()}else p.trigger("close"),n.swipeoutOpenedEl=void 0,p.addClass("transitioning").removeClass("swipeout-opened"),u.transform(""),a.removeClass("swipeout-actions-opened");var I;if(y&&y.length>0&&y!==l)for(C=0;C<y.length;C++)I=y[C]._buttonOffset,void 0===I&&(y[C]._buttonOffset=f-y[C].offsetLeft-y[C].offsetWidth),s(y[C]).transform("translate3d("+I+"px,0,0)");if(x&&x.length>0&&x!==l)for(C=0;C<x.length;C++)I=x[C]._buttonOffset,void 0===I&&(x[C]._buttonOffset=x[C].offsetLeft),s(x[C]).transform("translate3d("+-I+"px,0,0)");u.transitionEnd(function(e){b&&"open"===t||closed&&"close"===t||(p.trigger("open"===t?"opened":"closed"),b&&"close"===t&&(h.length>0&&x.transform(""),m.length>0&&y.transform("")))})}var o,r,l,c,d,p,u,h,m,f,g,v,b,C,y,x,w,S,T,k,A,E,_,I={};s(document).on(n.touchEvents.start,function(e){if(n.swipeoutOpenedEl){var t=s(e.target);n.swipeoutOpenedEl.is(t[0])||t.parents(".swipeout").is(n.swipeoutOpenedEl)||t.hasClass("modal-in")||t.hasClass("modal-overlay")||t.hasClass("actions-modal")||t.parents(".actions-modal.modal-in, .modal.modal-in").length>0||n.swipeoutClose(n.swipeoutOpenedEl)}}),e?(s(e).on(n.touchEvents.start,t),s(e).on(n.touchEvents.move,i),s(e).on(n.touchEvents.end,a)):(s(document).on(n.touchEvents.start,".list-block li.swipeout",t),s(document).on(n.touchEvents.move,".list-block li.swipeout",i),s(document).on(n.touchEvents.end,".list-block li.swipeout",a))},n.swipeoutOpen=function(e,t,i){if(e=s(e),2===arguments.length&&"function"==typeof arguments[1]&&(i=t),0!==e.length&&(e.length>1&&(e=s(e[0])),e.hasClass("swipeout")&&!e.hasClass("swipeout-opened"))){t||(t=e.find(".swipeout-actions-right").length>0?"right":"left");var a=e.find(".swipeout-actions-"+t);if(0!==a.length){a.hasClass("swipeout-actions-no-fold")||n.params.swipeoutActionsNoFold;e.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),a.addClass("swipeout-actions-opened");var o,r=a.children("a"),l=a.outerWidth(),c="right"===t?-l:l;if(r.length>1){for(o=0;o<r.length;o++)"right"===t?s(r[o]).transform("translate3d("+-r[o].offsetLeft+"px,0,0)"):s(r[o]).css("z-index",r.length-o).transform("translate3d("+(l-r[o].offsetWidth-r[o].offsetLeft)+"px,0,0)");r[1].clientLeft}for(e.addClass("transitioning"),o=0;o<r.length;o++)s(r[o]).transform("translate3d("+c+"px,0,0)");e.find(".swipeout-content").transform("translate3d("+c+"px,0,0)").transitionEnd(function(){e.trigger("opened"),i&&i.call(e[0])}),n.swipeoutOpenedEl=e}}},n.swipeoutClose=function(e,t){function i(){n.allowSwipeout=!0,e.hasClass("swipeout-opened")||(e.removeClass("transitioning"),r.transform(""),e.trigger("closed"),t&&t.call(e[0]),c&&clearTimeout(c))}if(e=s(e),0!==e.length&&e.hasClass("swipeout-opened")){var a=e.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",o=e.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),r=(o.hasClass("swipeout-actions-no-fold")||n.params.swipeoutActionsNoFold,o.children("a")),l=o.outerWidth();n.allowSwipeout=!1,e.trigger("close"),e.removeClass("swipeout-opened").addClass("transitioning");var c;e.find(".swipeout-content").transform("").transitionEnd(i),c=setTimeout(i,500);for(var d=0;d<r.length;d++)"right"===a?s(r[d]).transform("translate3d("+-r[d].offsetLeft+"px,0,0)"):s(r[d]).transform("translate3d("+(l-r[d].offsetWidth-r[d].offsetLeft)+"px,0,0)"),s(r[d]).css({left:"0px"}).removeClass("swipeout-overswipe-active");n.swipeoutOpenedEl&&n.swipeoutOpenedEl[0]===e[0]&&(n.swipeoutOpenedEl=void 0)}},n.swipeoutDelete=function(e,t){if(e=s(e),0!==e.length){e.length>1&&(e=s(e[0])),n.swipeoutOpenedEl=void 0,e.trigger("delete"),e.css({height:e.outerHeight()+"px"});e[0].clientLeft;e.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(e.trigger("deleted"),t&&t.call(e[0]),e.parents(".virtual-list").length>0){var i=e.parents(".virtual-list")[0].f7VirtualList,a=e[0].f7VirtualListIndex;i&&void 0!==a&&i.deleteItem(a)}else n.params.swipeoutRemoveWithTimeout?setTimeout(function(){e.remove()},0):e.remove()});e.find(".swipeout-content").transform("translate3d(-100%,0,0)")}},n.sortableToggle=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.toggleClass("sortable-opened"),e.hasClass("sortable-opened")?e.trigger("open"):e.trigger("close"),e},n.sortableOpen=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.addClass("sortable-opened"),e.trigger("open"),e},n.sortableClose=function(e){return e=s(e),0===e.length&&(e=s(".list-block.sortable")),e.removeClass("sortable-opened"),e.trigger("close"),e},n.initSortable=function(){function e(e){o=!1,a=!0,r="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,c=s(this).parent(),v=c.index(),p=c.parent().find("li"),g=c.parents(".sortable"),e.preventDefault(),n.allowPanelOpen=n.allowSwipeout=!1}function t(e){if(a&&c){var t=("touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);o||(c.addClass("sorting"),g.addClass("sortable-sorting"),u=c[0].offsetTop,h=c.parent().height()-c[0].offsetTop-c.height(),d=c[0].offsetHeight),o=!0,e.preventDefault(),e.f7PreventPanelSwipe=!0,l=t-r;var i=l;i<-u&&(i=-u),i>h&&(i=h),c.transform("translate3d(0,"+i+"px,0)"),f=m=void 0,p.each(function(){var e=s(this);if(e[0]!==c[0]){var t=e[0].offsetTop,a=e.height(),n=c[0].offsetTop+i;n>=t-a/2&&c.index()<e.index()?(e.transform("translate3d(0, "+-d+"px,0)"),m=e,f=void 0):n<=t+a/2&&c.index()>e.index()?(e.transform("translate3d(0, "+d+"px,0)"),m=void 0,f||(f=e)):s(this).transform("translate3d(0, 0%,0)")}})}}function i(e){if(n.allowPanelOpen=n.allowSwipeout=!0,!a||!o)return a=!1,void(o=!1);e.preventDefault(),p.transform(""),c.removeClass("sorting"),g.removeClass("sortable-sorting");var t,i,s;m&&(c.insertAfter(m),c.trigger("sort",{startIndex:v,newIndex:c.index()})),f&&(c.insertBefore(f),c.trigger("sort",{startIndex:v,newIndex:c.index()})),(m||f)&&g.hasClass("virtual-list")&&(t=g[0].f7VirtualList,i=c[0].f7VirtualListIndex,s=f?f[0].f7VirtualListIndex:m[0].f7VirtualListIndex,t&&t.moveItem(i,s)),m=f=void 0,a=!1,o=!1}var a,o,r,l,c,d,p,u,h,m,f,g,v;s(document).on(n.touchEvents.start,".list-block.sortable .sortable-handler",e),n.support.touch?(s(document).on(n.touchEvents.move,".list-block.sortable .sortable-handler",t),s(document).on(n.touchEvents.end,".list-block.sortable .sortable-handler",i)):(s(document).on(n.touchEvents.move,t),s(document).on(n.touchEvents.end,i))},n.initSmartSelects=function(e){e=s(e);var t;t=e.is(".smart-select")?e:e.find(".smart-select"),0!==t.length&&t.each(function(){var e=s(this),t=e.find("select");if(0!==t.length){var i=t[0];if(0!==i.length){for(var a=[],n=0;n<i.length;n++)i[n].selected&&a.push(i[n].textContent.trim());var o=e.find(".item-after");if(0===o.length)e.find(".item-inner").append('<div class="item-after">'+a.join(", ")+"</div>");else{var r=o.text();if(o.hasClass("smart-select-value"))for(n=0;n<i.length;n++)i[n].selected=i[n].textContent.trim()===r.trim();else o.text(a.join(", "))}t.on("change",function(){for(var t=[],a=0;a<i.length;a++)i[a].selected&&t.push(i[a].textContent.trim());e.find(".item-after").text(t.join(", "))})}}})},n.smartSelectAddOption=function(e,t,i){e=s(e);var a=e.parents(".smart-select");void 0===i?e.append(t):s(t).insertBefore(e.find("option").eq(i)),n.initSmartSelects(a);var o=a.find("select").attr("name");s('.page.smart-select-page[data-select-name="'+o+'"]').length>0&&n.smartSelectOpen(a,!0)},n.smartSelectOpen=function(e,t){function i(t){var i=!0;(t.target===e[0]||s(t.target).parents(e[0]).length>0)&&(i=!1),s(t.target).parents(".picker-modal").length>0&&(i=!1),i&&n.closeModal(".smart-select-picker.modal-in")}function a(e){S.selectedOptions.length>=H?e.find('input[type="checkbox"]').each(function(){this.checked?s(this).parents("li").removeClass("disabled"):s(this).parents("li").addClass("disabled")}):e.find(".disabled").removeClass("disabled")}function o(t){if(t=s(t),C){var i=n.virtualList(t.find(".virtual-list"),{items:F,template:G,height:y||void 0,searchByItem:function(e,t,i){return i.text.toLowerCase().indexOf(e.trim().toLowerCase())>=0}});t.once("popup"===d||"picker"===d?"closed":"pageBeforeRemove",function(){i&&i.destroy&&i.destroy()})}H&&a(t),f&&t.find('input[type="radio"][name="'+z+'"]:checked').parents("label").once("click",function(){"popup"===d?n.closeModal(ae):"picker"===d?n.closeModal(ne):c.router.back()}),t.on("change",'input[name="'+z+'"]',function(){var i=this,o=i.value,s=[];if("checkbox"===i.type){for(var r=0;r<S.options.length;r++){var l=S.options[r];l.value===o&&(l.selected=i.checked),l.selected&&s.push(l.textContent.trim())}H&&a(t)}else s=[e.find('option[value="'+o+'"]').text()],S.value=o;T.trigger("change"),e.find(".item-after").text(s.join(", ")),f&&"radio"===U&&("popup"===d?n.closeModal(ae):"picker"===d?n.closeModal(ne):c.router.back())})}function l(e){var t=e.detail.page;t.name===te&&o(t.container)}if(e=s(e),0!==e.length){var c=e.parents("."+n.params.viewClass);if(0!==c.length){c=c[0].f7View;var d=e.attr("data-open-in")||n.params.smartSelectOpenIn;if("popup"===d){if(s(".popup.smart-select-popup").length>0)return}else if("picker"===d){if(s(".picker-modal.modal-in").length>0&&!t){if(e[0].f7SmartSelectPicker===s(".picker-modal.modal-in:not(.modal-out)")[0])return;n.closeModal(s(".picker-modal.modal-in:not(.modal-out)"))}}else if(!c)return;var p,u=e.dataset(),h=u.pageTitle||e.find(".item-title").text(),m=u.backText||n.params.smartSelectBackText;p="picker"===d?u.pickerCloseText||u.backText||n.params.smartSelectPickerCloseText:u.popupCloseText||u.backText||n.params.smartSelectPopupCloseText;var f=void 0!==u.backOnSelect?u.backOnSelect:n.params.smartSelectBackOnSelect,g=u.formTheme||n.params.smartSelectFormTheme,v=u.navbarTheme||n.params.smartSelectNavbarTheme,b=u.toolbarTheme||n.params.smartSelectToolbarTheme,C=u.virtualList,y=u.virtualListHeight,x=n.params.material,w=u.pickerHeight||n.params.smartSelectPickerHeight,S=e.find("select")[0],T=s(S),k=T.dataset();if(!(S.disabled||e.hasClass("disabled")||T.hasClass("disabled"))){for(var A,E,_,I,M,P,L,R,N,D,O,F=[],B=(new Date).getTime(),U=S.multiple?"checkbox":"radio",z=U+"-"+B,H=T.attr("maxlength"),V=S.name,j=0;j<S.length;j++)A=s(S[j]),O=A.dataset(),_=O.optionImage||k.optionImage||u.optionImage,I=O.optionIcon||k.optionIcon||u.optionIcon,E=_||I||"checkbox"===U,x&&(E=_||I),N=O.optionColor,D=O.optionClass,A[0].disabled&&(D+=" disabled"),M=A.parent("optgroup")[0],P=M&&M.label,L=!1,M&&M!==R&&(L=!0,R=M,F.push({groupLabel:P,isLabel:L})),F.push({value:A[0].value,text:A[0].textContent.trim(),selected:A[0].selected,group:M,groupLabel:P,image:_,icon:I,color:N,className:D,disabled:A[0].disabled,inputType:U,id:B,hasMedia:E,checkbox:"checkbox"===U,inputName:z,material:n.params.material});n._compiledTemplates.smartSelectItem||(n._compiledTemplates.smartSelectItem=r.compile(n.params.smartSelectItemTemplate||'{{#if isLabel}}<li class="item-divider">{{groupLabel}}</li>{{else}}<li{{#if className}} class="{{className}}"{{/if}}><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if material}}{{#if hasMedia}}<div class="item-media">{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div><div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div><div class="item-after"><i class="icon icon-form-{{inputType}}"></i></div>{{else}}<div class="item-media"><i class="icon icon-form-{{inputType}}"></i></div><div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div>{{/if}}{{else}}{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title{{#if color}} color-{{color}}{{/if}}">{{text}}</div></div>{{/if}}</label></li>{{/if}}'));var G=n._compiledTemplates.smartSelectItem,q="";if(!C)for(var W=0;W<F.length;W++)q+=G(F[W]);var $,X,Y="",K="",J="",Q="";"picker"===d?(n._compiledTemplates.smartSelectToolbar||(n._compiledTemplates.smartSelectToolbar=r.compile(n.params.smartSelectToolbarTemplate||'<div class="toolbar {{#if toolbarTheme}}theme-{{toolbarTheme}}{{/if}}"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker"><span>{{closeText}}</span></a></div></div></div>')),Y=n._compiledTemplates.smartSelectToolbar({pageTitle:h,closeText:p,openIn:d,toolbarTheme:b,inPicker:"picker"===d})):(n._compiledTemplates.smartSelectNavbar||(n._compiledTemplates.smartSelectNavbar=r.compile(n.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>')),$=n._compiledTemplates.smartSelectNavbar({pageTitle:h,backText:m,closeText:p,openIn:d,navbarTheme:v,inPopup:"popup"===d,inPage:"page"===d,leftTemplate:"popup"===d?(n.params.smartSelectPopupCloseTemplate||(x?'<div class="left"><a href="#" class="link close-popup icon-only"><i class="icon icon-back"></i></a></div>':'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>')).replace(/{{closeText}}/g,p):(n.params.smartSelectBackTemplate||(x?'<div class="left"><a href="#" class="back link icon-only"><i class="icon icon-back"></i></a></div>':'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>')).replace(/{{backText}}/g,m)}),"page"===d?(X="static",e.parents(".navbar-through").length>0&&(X="through"),e.parents(".navbar-fixed").length>0&&(X="fixed"),J=e.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",K=e.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+X,Q=e.parents(".page").hasClass("no-tabbar")?"no-tabbar":""):X="fixed");var Z,ee,te="smart-select-"+z,ie=void 0===e.data("searchbar")?n.params.smartSelectSearchbar:"true"===e.data("searchbar");ie&&(Z=e.data("searchbar-placeholder")||"Search",ee=e.data("searchbar-cancel")||"Cancel");var ae,ne,oe='<form class="searchbar searchbar-init" data-search-list=".smart-select-list-'+B+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+Z+'"><a href="#" class="searchbar-clear"></a></div>'+(x?"":'<a href="#" class="searchbar-cancel">'+ee+"</a>")+'</form><div class="searchbar-overlay"></div>',se=("picker"!==d&&"through"===X?$:"")+'<div class="pages">  <div data-page="'+te+'" data-select-name="'+V+'" class="page smart-select-page '+K+" "+J+" "+Q+'">'+("picker"!==d&&"fixed"===X?$:"")+(ie?oe:"")+'    <div class="page-content">'+("picker"!==d&&"static"===X?$:"")+'      <div class="list-block '+(C?"virtual-list":"")+" smart-select-list-"+B+" "+(g?"theme-"+g:"")+'">        <ul>'+(C?"":q)+"        </ul>      </div>    </div>  </div></div>";"popup"===d?(t?(ae=s(".popup.smart-select-popup .view"),ae.html(se)):(ae=n.popup('<div class="popup smart-select-popup smart-select-popup-'+z+'"><div class="view navbar-fixed">'+se+"</div></div>"),ae=s(ae)),n.initPage(ae.find(".page")),o(ae)):"picker"===d?(t?(ne=s(".picker-modal.smart-select-picker .view"),ne.html(se)):(ne=n.pickerModal('<div class="picker-modal smart-select-picker smart-select-picker-'+z+'"'+(w?' style="height:'+w+'"':"")+">"+Y+'<div class="picker-modal-inner"><div class="view">'+se+"</div></div></div>"),ne=s(ne),function(){var t=e.parents(".page-content");if(0!==t.length){var i,a=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10),o=t[0].offsetHeight-a-ne.height(),s=t[0].scrollHeight-a-ne.height(),r=e.offset().top-a+e[0].offsetHeight;if(r>o){var l=t.scrollTop()+r-o;l+o>s&&(i=l+o-s+n,o===s&&(i=ne.height()),t.css({
"padding-bottom":i+"px"})),t.scrollTop(l,300)}}}(),s("html").on("click",i),ne.once("close",function(){e[0].f7SmartSelectPicker=void 0,s("html").off("click",i),e.parents(".page-content").css({paddingBottom:""})}),e[0].f7SmartSelectPicker=ne[0]),n.initPage(ne.find(".page")),o(ne)):(s(document).once("pageInit",".smart-select-page",l),c.router.load({content:se,reload:!!t||void 0}))}}}};var f=function(e,t){var i={cols:1,height:n.params.material?48:44,cache:!0,dynamicHeightBufferSize:1,showFilteredItemsOnly:!1};t=t||{};for(var a in i)void 0===t[a]&&(t[a]=i[a]);var o=this;o.listBlock=s(e),o.params=t,o.items=o.params.items,o.params.showFilteredItemsOnly&&(o.filteredItems=[]),o.params.template&&("string"==typeof o.params.template?o.template=r.compile(o.params.template):"function"==typeof o.params.template&&(o.template=o.params.template)),o.pageContent=o.listBlock.parents(".page-content");var l;void 0!==o.params.updatableScroll?l=o.params.updatableScroll:(l=!0,n.device.ios&&n.device.osVersion.split(".")[0]<8&&(l=!1)),o.ul=o.params.ul?s(o.params.ul):o.listBlock.children("ul"),0===o.ul.length&&(o.listBlock.append("<ul></ul>"),o.ul=o.listBlock.children("ul")),o.domCache={},o.displayDomCache={},o.tempDomElement=document.createElement("ul"),o.lastRepaintY=null,o.fragment=document.createDocumentFragment(),o.filterItems=function(e,t){o.filteredItems=[];for(var i=(e[0],e[e.length-1],0);i<e.length;i++)o.filteredItems.push(o.items[e[i]]);void 0===t&&(t=!0),t&&(o.pageContent[0].scrollTop=0),o.update()},o.resetFilter=function(){o.params.showFilteredItemsOnly?o.filteredItems=[]:(o.filteredItems=null,delete o.filteredItems),o.update()};var c,d,p,u,h,m,f=0,g="function"==typeof o.params.height;return o.setListSize=function(){var e=o.filteredItems||o.items;if(c=o.pageContent[0].offsetHeight,g){m=0,o.heights=[];for(var t=0;t<e.length;t++){var i=o.params.height(e[t]);m+=i,o.heights.push(i)}}else m=Math.ceil(e.length/o.params.cols)*o.params.height,d=Math.ceil(c/o.params.height),p=o.params.rowsBefore||2*d,u=o.params.rowsAfter||d,h=d+p+u,f=p/2*o.params.height;l&&o.ul.css({height:m+"px"})},o.render=function(e,t){e&&(o.lastRepaintY=null);var i=-(o.listBlock[0].getBoundingClientRect().top-o.pageContent[0].getBoundingClientRect().top);if(void 0!==t&&(i=t),null===o.lastRepaintY||Math.abs(i-o.lastRepaintY)>f||!l&&o.pageContent[0].scrollTop+c>=o.pageContent[0].scrollHeight){o.lastRepaintY=i;var a,n,s=o.filteredItems||o.items,r=0,d=0;if(g){var u,m,v=0;for(f=c,u=0;u<o.heights.length;u++)m=o.heights[u],void 0===a&&(v+m>=i-2*c*o.params.dynamicHeightBufferSize?a=u:r+=m),void 0===n&&((v+m>=i+2*c*o.params.dynamicHeightBufferSize||u===o.heights.length-1)&&(n=u+1),d+=m),v+=m;n=Math.min(n,s.length)}else a=(parseInt(i/o.params.height)-p)*o.params.cols,a<0&&(a=0),n=Math.min(a+h*o.params.cols,s.length);var b;o.reachEnd=!1;for(var C=a;C<n;C++){var y,x;x=o.items.indexOf(s[C]),C===a&&(o.currentFromIndex=x),C===n-1&&(o.currentToIndex=x),x===o.items.length-1&&(o.reachEnd=!0),o.domCache[x]?y=o.domCache[x]:(o.template?o.tempDomElement.innerHTML=o.template(s[C],{index:x}).trim():o.params.renderItem?o.tempDomElement.innerHTML=o.params.renderItem(x,s[C]).trim():o.tempDomElement.innerHTML=s[C].trim(),y=o.tempDomElement.childNodes[0],o.params.cache&&(o.domCache[x]=y)),y.f7VirtualListIndex=x,C===a&&(b=g?r:C*o.params.height/o.params.cols),y.style.top=b+"px",o.params.onItemBeforeInsert&&o.params.onItemBeforeInsert(o,y),o.fragment.appendChild(y)}l||(o.ul[0].style.height=g?d+"px":C*o.params.height/o.params.cols+"px"),o.params.onBeforeClear&&o.params.onBeforeClear(o,o.fragment),o.ul[0].innerHTML="",o.params.onItemsBeforeInsert&&o.params.onItemsBeforeInsert(o,o.fragment),o.ul[0].appendChild(o.fragment),o.params.onItemsAfterInsert&&o.params.onItemsAfterInsert(o,o.fragment),void 0!==t&&e&&o.pageContent.scrollTop(t,0)}},o.scrollToItem=function(e){if(e>o.items.length)return!1;var t,i=0;if(g)for(var a=0;a<e;a++)i+=o.heights[a];else i=e*o.params.height;return t=o.listBlock[0].offsetTop,o.render(!0,t+i-parseInt(o.pageContent.css("padding-top"),10)),!0},o.handleScroll=function(e){o.render()},o._isVisible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},o.handleResize=function(e){o._isVisible(o.listBlock[0])&&(o.setListSize(),o.render(!0))},o.attachEvents=function(e){var t=e?"off":"on";o.pageContent[t]("scroll",o.handleScroll),o.listBlock.parents(".tab").eq(0)[t]("show",o.handleResize),s(window)[t]("resize",o.handleResize)},o.init=function(){o.attachEvents(),o.setListSize(),o.render()},o.appendItems=function(e){for(var t=0;t<e.length;t++)o.items.push(e[t]);o.update()},o.appendItem=function(e){o.appendItems([e])},o.replaceAllItems=function(e){o.items=e,delete o.filteredItems,o.domCache={},o.update()},o.replaceItem=function(e,t){o.items[e]=t,o.params.cache&&delete o.domCache[e],o.update()},o.prependItems=function(e){for(var t=e.length-1;t>=0;t--)o.items.unshift(e[t]);if(o.params.cache){var i={};for(var a in o.domCache)i[parseInt(a,10)+e.length]=o.domCache[a];o.domCache=i}o.update()},o.prependItem=function(e){o.prependItems([e])},o.moveItem=function(e,t){if(e!==t){var i=o.items.splice(e,1)[0];if(t>=o.items.length?(o.items.push(i),t=o.items.length-1):o.items.splice(t,0,i),o.params.cache){var a={};for(var n in o.domCache){var s=parseInt(n,10),r=e<t?e:t,l=e<t?t:e,c=e<t?-1:1;(s<r||s>l)&&(a[s]=o.domCache[s]),s===r&&(a[l]=o.domCache[s]),s>r&&s<=l&&(a[s+c]=o.domCache[s])}o.domCache=a}o.update()}},o.insertItemBefore=function(e,t){if(0===e)return void o.prependItem(t);if(e>=o.items.length)return void o.appendItem(t);if(o.items.splice(e,0,t),o.params.cache){var i={};for(var a in o.domCache){var n=parseInt(a,10);n>=e&&(i[n+1]=o.domCache[n])}o.domCache=i}o.update()},o.deleteItems=function(e){for(var t,i=0,a=0;a<e.length;a++){var n=e[a];void 0!==t&&n>t&&(i=-a),n+=i,t=e[a];var s=o.items.splice(n,1)[0];if(o.filteredItems&&o.filteredItems.indexOf(s)>=0&&o.filteredItems.splice(o.filteredItems.indexOf(s),1),o.params.cache){var r={};for(var l in o.domCache){var c=parseInt(l,10);c===n?delete o.domCache[n]:parseInt(l,10)>n?r[c-1]=o.domCache[l]:r[c]=o.domCache[l]}o.domCache=r}}o.update()},o.deleteAllItems=function(){o.items=[],delete o.filteredItems,o.params.cache&&(o.domCache={}),o.update()},o.deleteItem=function(e){o.deleteItems([e])},o.clearCache=function(){o.domCache={}},o.update=function(){o.setListSize(),o.render(!0)},o.destroy=function(){o.attachEvents(!0),delete o.items,delete o.domCache},o.init(),o.listBlock[0].f7VirtualList=o,o};n.virtualList=function(e,t){return new f(e,t)},n.reinitVirtualList=function(e){var t=s(e),i=t.find(".virtual-list");if(0!==i.length)for(var a=0;a<i.length;a++){var n=i[a].f7VirtualList;n&&n.update()}},n.initPullToRefresh=function(e){function t(e){if(d){if("android"!==n.device.os)return;if("targetTouches"in e&&e.targetTouches.length>1)return}f=s(this),f.hasClass("refreshing")||(p=!1,x=!1,d=!0,u=void 0,b=void 0,"touchstart"===e.type&&(c=e.targetTouches[0].identifier),w.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,w.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,m=(new Date).getTime())}function i(e){if(d){var t,i,a;if("touchmove"===e.type){if(c&&e.touches)for(var o=0;o<e.touches.length;o++)e.touches[o].identifier===c&&(a=e.touches[o]);a||(a=e.targetTouches[0]),t=a.pageX,i=a.pageY}else t=e.pageX,i=e.pageY;if(t&&i){if(void 0===u&&(u=!!(u||Math.abs(i-w.y)>Math.abs(t-w.x))),!u)return void(d=!1);if(v=f[0].scrollTop,void 0===b&&0!==v&&(b=!0),!p){if(f.removeClass("transitioning"),v>f[0].offsetHeight)return void(d=!1);y&&(C=f.attr("data-ptr-distance"),C.indexOf("%")>=0&&(C=f[0].offsetHeight*parseInt(C,10)/100)),k=f.hasClass("refreshing")?C:0,T=f[0].scrollHeight===f[0].offsetHeight||"ios"!==n.device.os}if(p=!0,!((h=i-w.y)>0&&v<=0||v<0))return x=!1,f.removeClass("pull-up pull-down"),void(S=!1);"ios"===n.device.os&&parseInt(n.device.osVersion.split(".")[0],10)>7&&0===v&&!b&&(T=!0),T&&(e.preventDefault(),g=Math.pow(h,.85)+k,f.transform("translate3d(0,"+g+"px,0)")),T&&Math.pow(h,.85)>C||!T&&h>=2*C?(S=!0,f.addClass("pull-up").removeClass("pull-down")):(S=!1,f.removeClass("pull-up").addClass("pull-down")),x||(f.trigger("pullstart"),x=!0),f.trigger("pullmove",{event:e,scrollTop:v,translate:g,touchesDiff:h})}}}function a(e){if(!("touchend"===e.type&&e.changedTouches&&e.changedTouches.length>0&&c&&e.changedTouches[0].identifier!==c)){if(!d||!p)return d=!1,void(p=!1);g&&(f.addClass("transitioning"),g=0),f.transform(""),S?(f.addClass("refreshing"),f.trigger("refresh",{done:function(){n.pullToRefreshDone(f)}})):f.removeClass("pull-down"),d=!1,p=!1,x&&f.trigger("pullend")}}function o(){l.off(n.touchEvents.start,t),l.off(n.touchEvents.move,i),l.off(n.touchEvents.end,a)}function r(){o(),A.off("pageBeforeRemove",r)}var l=s(e);if(l.hasClass("pull-to-refresh-content")||(l=l.find(".pull-to-refresh-content")),l&&0!==l.length){var c,d,p,u,h,m,f,g,v,b,C,y,x,w={},S=!1,T=!1,k=0,A=l.hasClass("page")?l:l.parents(".page"),E=!1;(A.find(".navbar").length>0||A.parents(".navbar-fixed, .navbar-through").length>0||A.hasClass("navbar-fixed")||A.hasClass("navbar-through"))&&(E=!0),A.hasClass("no-navbar")&&(E=!1),E||l.addClass("pull-to-refresh-no-navbar"),f=l,f.attr("data-ptr-distance")?y=!0:C=44;var _=!("touchstart"!==n.touchEvents.start||!n.support.passiveListener)&&{passive:!0,capture:!1};l.on(n.touchEvents.start,t,_),l.on(n.touchEvents.move,i),l.on(n.touchEvents.end,a,_),0!==A.length&&(l[0].f7DestroyPullToRefresh=o,A.on("pageBeforeRemove",r))}},n.pullToRefreshDone=function(e){e=s(e),0===e.length&&(e=s(".pull-to-refresh-content.refreshing")),e.removeClass("refreshing").addClass("transitioning"),e.transitionEnd(function(){e.removeClass("transitioning pull-up pull-down"),e.trigger("refreshdone")})},n.pullToRefreshTrigger=function(e){e=s(e),0===e.length&&(e=s(".pull-to-refresh-content")),e.hasClass("refreshing")||(e.addClass("transitioning refreshing"),e.trigger("refresh",{done:function(){n.pullToRefreshDone(e)}}))},n.destroyPullToRefresh=function(e){e=s(e);var t=e.hasClass("pull-to-refresh-content")?e:e.find(".pull-to-refresh-content");0!==t.length&&t[0].f7DestroyPullToRefresh&&t[0].f7DestroyPullToRefresh()},n.attachInfiniteScroll=function(e){s(e).on("scroll",i)},n.detachInfiniteScroll=function(e){s(e).off("scroll",i)},n.initPageInfiniteScroll=function(e){function t(){n.detachInfiniteScroll(i),e.off("pageBeforeRemove",t)}e=s(e);var i=e.find(".infinite-scroll");0!==i.length&&(n.attachInfiniteScroll(i),e.on("pageBeforeRemove",t))},n.initPageScrollToolbars=function(e){function t(t){e.hasClass("page-on-left")||(h=i[0].scrollTop,v=i[0].scrollHeight,b=i[0].offsetHeight,C=h+b>=v-A,x=d.hasClass("navbar-hidden"),w=p.hasClass("toolbar-hidden"),S=c&&c.hasClass("toolbar-hidden"),C?n.params.showBarsOnPageScrollEnd&&(y="show"):y=u>h?n.params.showBarsOnPageScrollTop||h<=44?"show":"hide":h>44?"hide":"show","show"===y?(m&&a&&x&&(n.showNavbar(d),e.removeClass("no-navbar-by-scroll"),x=!1),f&&o&&w&&(n.showToolbar(p),e.removeClass("no-toolbar-by-scroll"),w=!1),g&&r&&S&&(n.showToolbar(c),e.removeClass("no-tabbar-by-scroll"),S=!1)):(m&&a&&!x&&(n.hideNavbar(d),e.addClass("no-navbar-by-scroll"),x=!0),f&&o&&!w&&(n.hideToolbar(p),e.addClass("no-toolbar-by-scroll"),w=!0),g&&r&&!S&&(n.hideToolbar(c),e.addClass("no-tabbar-by-scroll"),S=!0)),u=h)}e=s(e);var i=e.find(".page-content");if(0!==i.length){var a=(n.params.hideNavbarOnPageScroll||i.hasClass("hide-navbar-on-scroll")||i.hasClass("hide-bars-on-scroll"))&&!(i.hasClass("keep-navbar-on-scroll")||i.hasClass("keep-bars-on-scroll")),o=(n.params.hideToolbarOnPageScroll||i.hasClass("hide-toolbar-on-scroll")||i.hasClass("hide-bars-on-scroll"))&&!(i.hasClass("keep-toolbar-on-scroll")||i.hasClass("keep-bars-on-scroll")),r=(n.params.hideTabbarOnPageScroll||i.hasClass("hide-tabbar-on-scroll"))&&!i.hasClass("keep-tabbar-on-scroll");if(a||o||r){var l=i.parents("."+n.params.viewClass);if(0!==l.length){var c,d=l.find(".navbar"),p=l.find(".toolbar");r&&(c=l.find(".tabbar"),0===c.length&&(c=l.parents("."+n.params.viewsClass).find(".tabbar")));var u,h,m=d.length>0,f=p.length>0,g=c&&c.length>0;u=h=i[0].scrollTop;var v,b,C,y,x,w,S,T=f&&o?p[0].offsetHeight:0,k=g&&r?c[0].offsetHeight:0,A=k||T;i.on("scroll",t),i[0].f7ScrollToolbarsHandler=t}}}},n.destroyScrollToolbars=function(e){e=s(e);var t=e.find(".page-content");if(0!==t.length){t[0].f7ScrollToolbarsHandler&&t.off("scroll",t[0].f7ScrollToolbarsHandler)}},n.materialTabbarSetHighlight=function(e,t){e=s(e),t=t||e.find(".tab-link.active");var i,a;e.hasClass("tabbar-scrollable")?(i=t[0].offsetWidth+"px",a=(n.rtl?-t[0].offsetLeft:t[0].offsetLeft)+"px"):(i=1/e.find(".tab-link").length*100+"%",a=100*(n.rtl?-t.index():t.index())+"%"),e.find(".tab-link-highlight").css({width:i}).transform("translate3d("+a+",0,0)")},n.initPageMaterialTabbar=function(e){function t(){n.materialTabbarSetHighlight(i)}e=s(e);var i=s(e).find(".tabbar");i.length>0&&(0===i.find(".tab-link-highlight").length&&i.find(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),t(),s(window).on("resize",t),e.once("pageBeforeRemove",function(){s(window).off("resize",t)}))},n.showTab=function(e,t,i){var a=s(e);if(2===arguments.length&&"boolean"==typeof t&&(i=t),0===a.length)return!1;if(a.hasClass("active"))return i&&a.trigger("show"),!1;var o=a.parent(".tabs");if(0===o.length)return!1;n.allowSwipeout=!0;var r=o.parent().hasClass("tabs-animated-wrap");if(r){var l=100*(n.rtl?a.index():-a.index());o.transform("translate3d("+l+"%,0,0)")}var c,d=o.parent().hasClass("tabs-swipeable-wrap");d&&(c=o.parent()[0].swiper,c.activeIndex!==a.index()&&c.slideTo(a.index(),void 0,!1));var p=o.children(".tab.active").removeClass("active").trigger("hide");if(a.addClass("active"),a.trigger("show"),!r&&!d&&a.find(".navbar").length>0){var u;u=a.hasClass(n.params.viewClass)?a[0]:a.parents("."+n.params.viewClass)[0],n.sizeNavbars(u)}if(t?t=s(t):(!(t=s("string"==typeof e?'.tab-link[href="'+e+'"]':'.tab-link[href="#'+a.attr("id")+'"]'))||t&&0===t.length)&&s("[data-tab]").each(function(){a.is(s(this).attr("data-tab"))&&(t=s(this))}),0!==t.length){var h;if(p&&p.length>0){var m=p.attr("id");m&&(h=s('.tab-link[href="#'+m+'"]')),(!h||h&&0===h.length)&&s("[data-tab]").each(function(){p.is(s(this).attr("data-tab"))&&(h=s(this))})}if(t&&t.length>0&&(t.addClass("active"),n.params.material)){var f=t.parents(".tabbar");f.length>0&&(0===f.find(".tab-link-highlight").length&&f.find(".toolbar-inner").append('<span class="tab-link-highlight"></span>'),n.materialTabbarSetHighlight(f,t))}return h&&h.length>0&&h.removeClass("active"),!0}},n.accordionToggle=function(e){e=s(e),0!==e.length&&(e.hasClass("accordion-item-expanded")?n.accordionClose(e):n.accordionOpen(e))},n.accordionOpen=function(e){e=s(e);var t=e.parents(".accordion-list").eq(0),i=e.children(".accordion-item-content");0===i.length&&(i=e.find(".accordion-item-content"));var a=t.length>0&&e.parent().children(".accordion-item-expanded");a.length>0&&n.accordionClose(a),i.css("height",i[0].scrollHeight+"px").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){i.transition(0),i.css("height","auto");i[0].clientLeft;i.transition(""),e.trigger("opened")}else i.css("height",""),e.trigger("closed")}),e.trigger("open"),e.addClass("accordion-item-expanded")},n.accordionClose=function(e){e=s(e);var t=e.children(".accordion-item-content");0===t.length&&(t=e.find(".accordion-item-content")),e.removeClass("accordion-item-expanded"),t.transition(0),t.css("height",t[0].scrollHeight+"px");t[0].clientLeft;t.transition(""),t.css("height","").transitionEnd(function(){if(e.hasClass("accordion-item-expanded")){t.transition(0),t.css("height","auto");t[0].clientLeft;t.transition(""),e.trigger("opened")}else t.css("height",""),e.trigger("closed")}),e.trigger("close")},n.initFastClicks=function(){function e(e){var t,i=s(e),a=i.parents(n.params.activeStateElements);return i.is(n.params.activeStateElements)&&(t=i),a.length>0&&(t=t?t.add(a):a),t||i}function t(e){var t=e.parents(".page-content, .panel");return 0!==t.length&&("yes"!==t.prop("scrollHandlerSet")&&(t.on("scroll",function(){clearTimeout(B),clearTimeout(G)}),t.prop("scrollHandlerSet","yes")),!0)}function i(){F&&F.addClass("active-state")}function a(e){F&&(F.removeClass("active-state"),F=null)}function o(e){var t="input select textarea label".split(" ");return!!(e.nodeName&&t.indexOf(e.nodeName.toLowerCase())>=0)}function r(e){var t="button input textarea select".split(" ");return!(!document.activeElement||e===document.activeElement||document.activeElement===document.body)&&!(t.indexOf(e.nodeName.toLowerCase())>=0)}function l(e){var t=s(e);return("input"!==e.nodeName.toLowerCase()||"file"!==e.type)&&(("select"!==e.nodeName.toLowerCase()||!n.device.android)&&(!(t.hasClass("no-fastclick")||t.parents(".no-fastclick").length>0)&&(!n.params.fastClicksExclude||!t.is(n.params.fastClicksExclude))))}function c(e){if(document.activeElement===e)return!1;var t=e.nodeName.toLowerCase(),i="button checkbox file image radio submit".split(" ");return!e.disabled&&!e.readOnly&&("textarea"===t||("select"===t?!n.device.android:"input"===t&&i.indexOf(e.type)<0||void 0))}function d(e){e=s(e);var t=!0;return(e.is("label")||e.parents("label").length>0)&&(t=!n.device.android&&!(!n.device.ios||!e.is("input"))),t}function p(t){e(t.target).addClass("active-state"),"which"in t&&3===t.which&&setTimeout(function(){s(".active-state").removeClass("active-state")},0),n.params.material&&n.params.materialRipple&&(A=t.pageX,E=t.pageY,v(t.target,t.pageX,t.pageY))}function u(e){s(".active-state").removeClass("active-state"),n.params.material&&n.params.materialRipple&&b()}function h(e){s(".active-state").removeClass("active-state"),n.params.material&&n.params.materialRipple&&C()}function m(e){var t=n.params.materialRippleElements,i=s(e);if(i.is(t))return!i.hasClass("no-ripple")&&i;if(i.parents(t).length>0){var a=i.parents(t).eq(0);return!a.hasClass("no-ripple")&&a}return!1}function f(e,t,i){var a=i[0].getBoundingClientRect(),n={x:e-a.left,y:t-a.top},o=a.height,r=a.width,l=Math.max(Math.pow(Math.pow(o,2)+Math.pow(r,2),.5),48);H=s('<div class="ripple-wave" style="width: '+l+"px; height: "+l+"px; margin-top:-"+l/2+"px; margin-left:-"+l/2+"px; left:"+n.x+"px; top:"+n.y+'px;"></div>'),i.prepend(H);H[0].clientLeft;j="translate3d("+(r/2-n.x)+"px, "+(o/2-n.y)+"px, 0) scale(1)",H.transform(j)}function g(){if(H){var e=H,t=setTimeout(function(){e.remove()},400);H.addClass("ripple-wave-fill").transform(j.replace("scale(1)","scale(1.01)")).transitionEnd(function(){clearTimeout(t);var e=s(this).addClass("ripple-wave-out").transform(j.replace("scale(1)","scale(1.01)"));t=setTimeout(function(){e.remove()},700),setTimeout(function(){e.transitionEnd(function(){clearTimeout(t),s(this).remove()})},0)}),H=V=void 0}}function v(e,i,a){if(!(V=m(e))||0===V.length)return void(V=void 0);t(V)?G=setTimeout(function(){f(A,E,V)},80):f(A,E,V)}function b(){clearTimeout(G),g()}function C(){H?g():V&&!N?(clearTimeout(G),f(A,E,V),setTimeout(g,0)):g()}function y(e){var t=e.changedTouches[0],i=document.createEvent("MouseEvents"),a="click";n.device.android&&"select"===I.nodeName.toLowerCase()&&(a="mousedown"),i.initMouseEvent(a,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,I.dispatchEvent(i)}function x(o){if(N=!1,D=!1,o.targetTouches.length>1)return F&&a(),!0;if(o.touches.length>1&&F&&a(),n.params.tapHold&&(O&&clearTimeout(O),O=setTimeout(function(){o&&o.touches&&o.touches.length>1||(D=!0,o.preventDefault(),s(o.target).trigger("taphold"))},n.params.tapHoldDelay)),z&&clearTimeout(z),!(U=l(o.target)))return M=!1,!0;if(n.device.ios||n.device.android&&"getSelection"in window){var c=window.getSelection();if(c.rangeCount&&c.focusNode!==document.body&&(!c.isCollapsed||document.activeElement===c.focusNode))return P=!0,!0;P=!1}n.device.android&&r(o.target)&&document.activeElement.blur(),M=!0,I=o.target,_=(new Date).getTime(),A=o.targetTouches[0].pageX,E=o.targetTouches[0].pageY,n.device.ios&&(L=void 0,s(I).parents().each(function(){var e=this;e.scrollHeight>e.offsetHeight&&!L&&(L=e,L.f7ScrollTop=L.scrollTop)})),o.timeStamp-R<n.params.fastClicksDelayBetweenClicks&&o.preventDefault(),n.params.activeState&&(F=e(I),t(F)?B=setTimeout(i,80):i()),n.params.material&&n.params.materialRipple&&v(I,A,E)}function w(e){if(M){var t=!1,i=n.params.fastClicksDistanceThreshold;if(i){var o=e.targetTouches[0].pageX,s=e.targetTouches[0].pageY;(Math.abs(o-A)>i||Math.abs(s-E)>i)&&(t=!0)}else t=!0;t&&(M=!1,I=null,N=!0,n.params.tapHold&&clearTimeout(O),n.params.activeState&&(clearTimeout(B),a()),n.params.material&&n.params.materialRipple&&b())}}function S(e){if(clearTimeout(B),clearTimeout(O),!M)return!P&&U&&(n.device.android&&!e.cancelable||e.preventDefault()),!0;if(document.activeElement===e.target)return n.params.activeState&&a(),n.params.material&&n.params.materialRipple&&C(),!0;if(P||e.preventDefault(),e.timeStamp-R<n.params.fastClicksDelayBetweenClicks)return setTimeout(a,0),!0;if(R=e.timeStamp,M=!1,n.device.ios&&L&&L.scrollTop!==L.f7ScrollTop)return!1;if(n.params.activeState&&(i(),setTimeout(a,0)),n.params.material&&n.params.materialRipple&&C(),c(I)){if(n.device.ios&&n.device.webView)return event.timeStamp-_>159?(I=null,!1):(I.focus(),!1);I.focus()}return document.activeElement&&I!==document.activeElement&&document.activeElement!==document.body&&"label"!==I.nodeName.toLowerCase()&&document.activeElement.blur(),e.preventDefault(),y(e),!1}function T(e){M=!1,I=null,clearTimeout(B),clearTimeout(O),n.params.activeState&&a(),n.params.material&&n.params.materialRipple&&C()}function k(e){var t=!1;return M?(I=null,M=!1,!0):"submit"===e.target.type&&0===e.detail||(I||o(e.target)||(t=!0),U||(t=!0),document.activeElement===I&&(t=!0),e.forwardedTouchEvent&&(t=!0),e.cancelable||(t=!0),n.params.tapHold&&n.params.tapHoldPreventClicks&&D&&(t=!1),t||(e.stopImmediatePropagation(),e.stopPropagation(),I?(d(I)||N)&&e.preventDefault():e.preventDefault(),I=null),z=setTimeout(function(){U=!1},n.device.ios||n.device.androidChrome?100:400),n.params.tapHold&&(O=setTimeout(function(){D=!1},n.device.ios||n.device.androidChrome?100:400)),t)}n.params.activeState&&s("html").addClass("watch-active-state"),n.device.ios&&n.device.webView&&window.addEventListener("touchstart",function(){});var A,E,_,I,M,P,L,R,N,D,O,F,B,U,z,H,V,j,G;n.support.touch?(document.addEventListener("click",k,!0),document.addEventListener("touchstart",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",S),document.addEventListener("touchcancel",T)):n.params.activeState&&(document.addEventListener("mousedown",p),document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)),n.params.material&&n.params.materialRipple&&document.addEventListener("contextmenu",function(e){F&&a(),C()})},n.initClickEvents=function(){function e(e){var t=s(this),i=s(e.target);if(!("a"===t[0].nodeName.toLowerCase()||t.parents("a").length>0||"a"===i[0].nodeName.toLowerCase()||i.parents("a").length>0)){var a;if(n.params.scrollTopOnNavbarClick&&t.is(".navbar .center")){var o=t.parents(".navbar");a=o.parents(".page-content"),0===a.length&&(o.parents(".page").length>0&&(a=o.parents(".page").find(".page-content")),0===a.length&&o.nextAll(".pages").length>0&&(a=o.nextAll(".pages").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")))}n.params.scrollTopOnStatusbarClick&&t.is(".statusbar-overlay")&&(a=s(".popup.modal-in").length>0?s(".popup.modal-in").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):s(".panel.active").length>0?s(".panel.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):s(".views > .view.active").length>0?s(".views > .view.active").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content"):s(".views").find(".page:not(.page-on-left):not(.page-on-right):not(.cached)").find(".page-content")),a&&a.length>0&&(a.hasClass("tab")&&(a=a.parent(".tabs").children(".page-content.active")),a.length>0&&a.scrollTop(0,300))}}function t(e){var t=s(this),i=t.attr("href"),a="a"===t[0].nodeName.toLowerCase();if(a&&(t.is(n.params.externalLinks)||i&&i.indexOf("javascript:")>=0))return void(i&&"_system"===t.attr("target")&&(e.preventDefault(),window.open(i,"_system")));var o=t.dataset();if(t.hasClass("smart-select")&&n.smartSelectOpen&&n.smartSelectOpen(t),t.hasClass("open-panel")&&(1===s(".panel").length?s(".panel").hasClass("panel-left")?n.openPanel("left"):n.openPanel("right"):"right"===o.panel?n.openPanel("right"):n.openPanel("left")),t.hasClass("close-panel")&&n.closePanel(),t.hasClass("panel-overlay")&&n.params.panelsCloseByOutside&&n.closePanel(),t.hasClass("open-popover")){var c;c=o.popover?o.popover:".popover",n.popover(c,t)}t.hasClass("close-popover")&&n.closeModal(".popover.modal-in");var d;t.hasClass("open-popup")&&(d=o.popup?o.popup:".popup",n.popup(d)),t.hasClass("close-popup")&&(d=o.popup?o.popup:".popup.modal-in",n.closeModal(d));var p;if(t.hasClass("open-login-screen")&&(p=o.loginScreen?o.loginScreen:".login-screen",n.loginScreen(p)),t.hasClass("close-login-screen")&&n.closeModal(".login-screen.modal-in"),t.hasClass("modal-overlay")&&(s(".modal.modal-in").length>0&&n.params.modalCloseByOutside&&n.closeModal(".modal.modal-in"),s(".actions-modal.modal-in").length>0&&n.params.actionsCloseByOutside&&n.closeModal(".actions-modal.modal-in"),s(".popover.modal-in").length>0&&n.closeModal(".popover.modal-in")),t.hasClass("popup-overlay")&&s(".popup.modal-in").length>0&&n.params.popupCloseByOutside&&n.closeModal(".popup.modal-in"),t.hasClass("picker-modal-overlay")&&s(".picker-modal.modal-in").length>0&&n.closeModal(".picker-modal.modal-in"),t.hasClass("close-picker")){var u=s(".picker-modal.modal-in");u.length>0?n.closeModal(u):(u=s(".popover.modal-in .picker-modal"),u.length>0&&n.closeModal(u.parents(".popover")))}if(t.hasClass("open-picker")){var h;h=o.picker?o.picker:".picker-modal",n.pickerModal(h,t)}var m;if(t.hasClass("tab-link")&&(m=!0,n.showTab(o.tab||t.attr("href"),t)),t.hasClass("swipeout-close")&&n.swipeoutClose(t.parents(".swipeout-opened")),t.hasClass("swipeout-delete"))if(o.confirm){var f=o.confirm,g=o.confirmTitle;g?n.confirm(f,g,function(){n.swipeoutDelete(t.parents(".swipeout"))},function(){o.closeOnCancel&&n.swipeoutClose(t.parents(".swipeout"))}):n.confirm(f,function(){n.swipeoutDelete(t.parents(".swipeout"))},function(){o.closeOnCancel&&n.swipeoutClose(t.parents(".swipeout"))})}else n.swipeoutDelete(t.parents(".swipeout"));if(t.hasClass("toggle-sortable")&&n.sortableToggle(o.sortable),t.hasClass("open-sortable")&&n.sortableOpen(o.sortable),t.hasClass("close-sortable")&&n.sortableClose(o.sortable),t.hasClass("accordion-item-toggle")||t.hasClass("item-link")&&t.parent().hasClass("accordion-item")){var v=t.parent(".accordion-item");0===v.length&&(v=t.parents(".accordion-item")),0===v.length&&(v=t.parents("li")),n.accordionToggle(v)}if(t.hasClass("floating-button")&&t.parent().hasClass("speed-dial")&&t.parent().toggleClass("speed-dial-opened"),t.hasClass("close-speed-dial")&&s(".speed-dial-opened").removeClass("speed-dial-opened"),(!n.params.ajaxLinks||t.is(n.params.ajaxLinks))&&a&&n.params.router){a&&e.preventDefault();var b=i&&i.length>0&&"#"!==i&&!m,C=o.template;if(b||t.hasClass("back")||C){var y;if(o.view?y=s(o.view)[0].f7View:(y=t.parents("."+n.params.viewClass)[0]&&t.parents("."+n.params.viewClass)[0].f7View)&&y.params.linksView&&("string"==typeof y.params.linksView?y=s(y.params.linksView)[0].f7View:y.params.linksView instanceof l&&(y=y.params.linksView)),y||n.mainView&&(y=n.mainView),!y)return;var x;if(C)i=void 0;else{if(i&&0===i.indexOf("#")&&"#"!==i){if(!y.params.domCache)return;x=i.split("#")[1]}if("#"===i&&!t.hasClass("back"))return}var w;void 0!==o.animatePages?w=o.animatePages:(t.hasClass("with-animation")&&(w=!0),t.hasClass("no-animation")&&(w=!1));var S={animatePages:w,ignoreCache:o.ignoreCache,force:o.force,reload:o.reload,reloadPrevious:o.reloadPrevious,pageName:x,pushState:o.pushState,url:i};if(n.params.template7Pages){S.contextName=o.contextName;var T=o.context;T&&(S.context=JSON.parse(T))}C&&C in r.templates&&(S.template=r.templates[C]),t.hasClass("back")?y.router.back(S):y.router.load(S)}}}function i(e){e.preventDefault()}s(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker, .picker-modal-overlay",t),(n.params.scrollTopOnNavbarClick||n.params.scrollTopOnStatusbarClick)&&s(document).on("click",".statusbar-overlay, .navbar .center",e),n.support.touch&&!n.device.android&&s(document).on(n.params.fastClicks?"touchstart":"touchmove",".panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay",i)},n.initResize=function(){s(window).on("resize",n.resize),s(window).on("orientationchange",n.orientationchange)},n.resize=function(){n.sizeNavbars&&n.sizeNavbars(),a()},n.orientationchange=function(){n.device&&n.device.minimalUi&&(90!==window.orientation&&-90!==window.orientation||(document.body.scrollTop=0)),a()},n.formsData={},n.formStoreData=function(e,t){n.formsData[e]=t,n.ls["f7form-"+e]=JSON.stringify(t)},n.formDeleteData=function(e){n.formsData[e]&&(n.formsData[e]="",delete n.formsData[e]),n.ls["f7form-"+e]&&(n.ls["f7form-"+e]="",n.ls.removeItem("f7form-"+e))},n.formGetData=function(e){return n.ls["f7form-"+e]?JSON.parse(n.ls["f7form-"+e]):n.formsData[e]?n.formsData[e]:void 0},n.formToData=function(e){if(e=s(e),1!==e.length)return!1;var t={},i=["submit","image","button","file"],a=[];return e.find("input, select, textarea").each(function(){var n=s(this),o=n.attr("name"),r=n.attr("type"),l=this.nodeName.toLowerCase();if(!(i.indexOf(r)>=0)&&!(a.indexOf(o)>=0)&&o)if("select"===l&&n.prop("multiple"))a.push(o),t[o]=[],e.find('select[name="'+o+'"] option').each(function(){this.selected&&t[o].push(this.value)});else switch(r){case"checkbox":a.push(o),t[o]=[],e.find('input[name="'+o+'"]').each(function(){this.checked&&t[o].push(this.value)});break;case"radio":a.push(o),e.find('input[name="'+o+'"]').each(function(){this.checked&&(t[o]=this.value)});break;default:t[o]=n.val()}}),e.trigger("formToJSON formToData",{formData:t}),t},n.formToJSON=n.formToData,n.formFromData=function(e,t){if(e=s(e),1!==e.length)return!1;var i=["submit","image","button","file"],a=[];e.find("input, select, textarea").each(function(){var n=s(this),o=n.attr("name"),r=n.attr("type"),l=this.nodeName.toLowerCase();if(t[o]&&!(i.indexOf(r)>=0)&&!(a.indexOf(o)>=0)&&o){if("select"===l&&n.prop("multiple"))a.push(o),e.find('select[name="'+o+'"] option').each(function(){t[o].indexOf(this.value)>=0?this.selected=!0:this.selected=!1});else switch(r){case"checkbox":a.push(o),e.find('input[name="'+o+'"]').each(function(){t[o].indexOf(this.value)>=0?this.checked=!0:this.checked=!1});break;case"radio":a.push(o),e.find('input[name="'+o+'"]').each(function(){t[o]===this.value?this.checked=!0:this.checked=!1});break;default:n.val(t[o])}"select"===l&&n.parents(".smart-select").length>0&&n.trigger("change")}}),e.trigger("formFromJSON formFromData",{formData:t})},n.formFromJSON=n.formFromData,n.initFormsStorage=function(e){function t(){var e=s(this),t=e[0].id;if(t){var i=n.formToData(e);i&&(n.formStoreData(t,i),e.trigger("store",{data:i}))}}function i(){a.off("change submit",t),e.off("pageBeforeRemove",i)}e=s(e);var a=e.find("form.store-data");0!==a.length&&(a.each(function(){var e=this.getAttribute("id");if(e){var t=n.formGetData(e);t&&n.formFromData(this,t)}}),a.on("change submit",t),e.on("pageBeforeRemove",i))},s(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(e){var t=s(this);if("change"!==e.type||t.hasClass("ajax-submit-onchange")){"submit"===e.type&&e.preventDefault()
;var i=(t.attr("method")||"GET").toUpperCase(),a=t.prop("enctype")||t.attr("enctype"),o=t.attr("action");if(o){var r;r="POST"===i?new FormData(t[0]):s.serializeObject(n.formToJSON(t[0]));var l=s.ajax({method:i,url:o,contentType:a,data:r,beforeSend:function(e){t.trigger("beforeSubmit",{data:r,xhr:e})},error:function(e){t.trigger("submitError",{data:r,xhr:e})},success:function(e){t.trigger("submitted",{data:e,xhr:l})}})}}}),n.resizeTextarea=function(e){if(e=s(e),e.hasClass("resizable")){e.css({height:""});var t=e[0].offsetHeight,i=t-e[0].clientHeight,a=e[0].scrollHeight;if(a+i>t){var n=a+i;e.css("height",n+"px")}}},n.resizableTextarea=function(e){function t(){clearTimeout(i),i=setTimeout(function(){n.resizeTextarea(e)},0)}if(e=s(e),0!==e.length){var i;return e[0].f7DestroyResizableTextarea=function(){e.off("change keydown keypress keyup paste cut",t)},e.on("change keydown keypress keyup paste cut",t)}},n.destroyResizableTextarea=function(e){e=s(e),e.length>0&&e.is("textarea")&&e[0].f7DestroyResizableTextarea?e[0].f7DestroyResizableTextarea():e.length>0&&e.find("textarea.resiable").each(function(){var e=this;e.f7DestroyResizableTextarea&&e.f7DestroyResizableTextarea()})},n.initPageResizableTextarea=function(e){e=s(e),e.find("textarea.resizable").each(function(){n.resizableTextarea(this)})},n.initPageMaterialInputs=function(e){e=s(e);e.find("textarea.resizable");e.find(".item-input").each(function(){var e=s(this),t=["checkbox","button","submit","range","radio","image"];e.find("input, select, textarea").each(function(){var i=s(this);t.indexOf(i.attr("type"))<0&&(e.addClass("item-input-field"),""!==i.val().trim()&&i.parents(".item-input, .input-field").add(i.parents(".item-inner")).addClass("not-empty-state"))}),e.parents(".input-item, .inputs-list").length>0||e.parents(".list-block").eq(0).addClass("inputs-list")})},n.initMaterialWatchInputs=function(){function e(e){var t=s(this),i=t.attr("type");if(!(a.indexOf(i)>=0)){t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0)).addClass("focus-state")}}function t(e){var t=s(this),i=t.val(),n=t.attr("type");if(!(a.indexOf(n)>=0)){var o=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));o.removeClass("focus-state"),i&&""!==i.trim()?o.addClass("not-empty-state"):o.removeClass("not-empty-state")}}function i(e){var t=s(this),i=t.val(),n=t.attr("type");if(!(a.indexOf(n)>=0)){var o=t.add(t.parents(".item-input, .input-field")).add(t.parents(".item-inner").eq(0));i&&""!==i.trim()?o.addClass("not-empty-state"):o.removeClass("not-empty-state")}}var a=["checkbox","button","submit","range","radio","image"];s(document).on("change",".item-input input, .item-input select, .item-input textarea, input, textarea, select",i,!0),s(document).on("focus",".item-input input, .item-input select, .item-input textarea, input, textarea, select",e,!0),s(document).on("blur",".item-input input, .item-input select, .item-input textarea, input, textarea, select",t,!0)},n.pushStateQueue=[],n.pushStateClearQueue=function(){if(0!==n.pushStateQueue.length){var e,t=n.pushStateQueue.pop();!0===n.params.pushStateNoAnimation&&(e=!1),"back"===t.action&&n.router.back(t.view,{animatePages:e}),"loadPage"===t.action&&n.router.load(t.view,{url:t.stateUrl,animatePages:e,pushState:!1}),"loadContent"===t.action&&n.router.load(t.view,{content:t.stateContent,animatePages:e,pushState:!1}),"loadPageName"===t.action&&n.router.load(t.view,{pageName:t.statePageName,url:t.stateUrl,animatePages:e,pushState:!1})}},n.initPushState=function(){function e(e){if(!t){var i=n.mainView;if(i){var a=e.state;if(a||(a={viewIndex:n.views.indexOf(i),url:i.history[0]}),!(a.viewIndex<0)){var o,s=n.views[a.viewIndex],r=a&&a.url||void 0,l=a&&a.content||void 0,c=a&&a.pageName||void 0;!0===n.params.pushStateNoAnimation&&(o=!1),r!==s.url&&(s.history.indexOf(r)>=0?s.allowPageChange?n.router.back(s,{url:void 0,animatePages:o,pushState:!1,preloadOnly:!1}):n.pushStateQueue.push({action:"back",view:s}):l?s.allowPageChange?n.router.load(s,{content:l,animatePages:o,pushState:!1}):n.pushStateQueue.unshift({action:"loadContent",stateContent:l,view:s}):c?s.allowPageChange?n.router.load(s,{pageName:c,url:r,animatePages:o,pushState:!1}):n.pushStateQueue.unshift({action:"loadPageName",statePageName:c,view:s}):s.allowPageChange?n.router.load(s,{url:r,animatePages:o,pushState:!1}):n.pushStateQueue.unshift({action:"loadPage",stateUrl:r,view:s}))}}}}var t=!0;s(window).on("load",function(){setTimeout(function(){t=!1},0)}),document.readyState&&"complete"===document.readyState&&(t=!1),s(window).on("popstate",e)},n.swiper=function(e,t){return new Swiper(e,t)},n.initPageSwiper=function(e){function t(t){function i(){t.destroy(),e.off("pageBeforeRemove",i)}e.on("pageBeforeRemove",i)}e=s(e);var i=e.find(".swiper-init, .tabs-swipeable-wrap");0!==i.length&&i.each(function(){var e,i,a=s(this);a.hasClass("tabs-swipeable-wrap")&&(a.addClass("swiper-container").children(".tabs").addClass("swiper-wrapper").children(".tab").addClass("swiper-slide"),e=a.children(".tabs").children(".tab.active").index()),i=a.data("swiper")?JSON.parse(a.data("swiper")):a.dataset(),void 0===i.initialSlide&&void 0!==e&&(i.initialSlide=e),a.hasClass("tabs-swipeable-wrap")&&(i.onSlideChangeStart=function(e){n.showTab(e.slides.eq(e.activeIndex))}),t(n.swiper(a[0],i))})},n.reinitPageSwiper=function(e){e=s(e);var t=e.find(".swiper-init, .tabs-swipeable-wrap");if(0!==t.length)for(var i=0;i<t.length;i++){var a=t[0].swiper;a&&a.update(!0)}};var g=function(e){var t=this,i={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,zoomMax:3,zoomMin:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,material:n.params.material,materialPreloaderSvg:n.params.materialPreloaderSvg,materialPreloaderHtml:n.params.materialPreloaderHtml};e=e||{},!e.backLinkText&&n.params.material&&(i.backLinkText="");for(var a in i)void 0===e[a]&&(e[a]=i[a]);e.maxZoom&&(e.zoomMax=e.maxZoom),e.minZoom&&(e.zoomMin=e.minZoom),t.params=e,t.params.iconsColorClass=t.params.iconsColor?"color-"+t.params.iconsColor:"dark"===t.params.theme?"color-white":"",t.params.preloaderColorClass="dark"===t.params.theme?"preloader-white":"";var o=t.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="swiper-zoom-container"><img src="{{js "this.url || this"}}"></span></div>',l=t.params.lazyPhotoTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader {{@root.preloaderColorClass}}">{{#if @root.material}}{{@root.materialPreloaderHtml}}{{/if}}</div><span class="swiper-zoom-container"><img data-src="{{js "this.url || this"}}" class="swiper-lazy"></span></div>',c=t.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{js "this.html || this"}}</div>',d=t.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{@index}}">{{caption}}</div>',p=t.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("popup"===e.type?"close-popup":"photo-browser-close-link")+' {{#unless backLinkText}}icon-only{{/unless}} {{js "this.type === \'page\' ? \'back\' : \'\'"}}"><i class="icon icon-back {{iconsColorClass}}"></i>{{#if backLinkText}}<span>{{backLinkText}}</span>{{/if}}</a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">{{ofText}}</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',u=t.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-prev {{iconsColorClass}}"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-next {{iconsColorClass}}"></i></a></div></div>',h=r.compile('<div class="photo-browser photo-browser-{{theme}}"><div class="view navbar-fixed toolbar-fixed">{{#unless material}}{{#if navbar}}'+p+'{{/if}}{{/unless}}<div class="page no-toolbar {{#unless navbar}}no-navbar{{/unless}} toolbar-fixed navbar-fixed" data-page="photo-browser-slides">{{#if material}}{{#if navbar}}'+p+"{{/if}}{{/if}}{{#if toolbar}}"+u+'{{/if}}<div class="photo-browser-captions photo-browser-captions-{{js "this.captionsTheme || this.theme"}}">{{#each photos}}{{#if caption}}'+d+"{{/if}}{{/each}}</div><div class=\"photo-browser-swiper-container swiper-container\"><div class=\"photo-browser-swiper-wrapper swiper-wrapper\">{{#each photos}}{{#js_compare \"this.html || ((typeof this === 'string' || this instanceof String) && (this.indexOf('<') >= 0 || this.indexOf('>') >= 0))\"}}"+c+"{{else}}{{#if @root.lazyLoading}}"+l+"{{else}}"+o+"{{/if}}{{/js_compare}}{{/each}}</div></div></div></div></div>")(t.params);t.activeIndex=t.params.initialSlide,t.openIndex=t.activeIndex,t.opened=!1,t.open=function(e){return void 0===e&&(e=t.activeIndex),e=parseInt(e,10),t.opened&&t.swiper?void t.swiper.slideTo(e):(t.opened=!0,t.openIndex=e,"standalone"===t.params.type&&n.root.append(h),"popup"===t.params.type&&(t.popup=n.popup('<div class="popup photo-browser-popup">'+h+"</div>"),s(t.popup).on("closed",t.onPopupClose)),"page"===t.params.type?(s(document).on("pageBeforeInit",t.onPageBeforeInit),s(document).on("pageBeforeRemove",t.onPageBeforeRemove),t.params.view||(t.params.view=n.mainView),void t.params.view.loadContent(h)):(t.layout(t.openIndex),void(t.params.onOpen&&t.params.onOpen(t))))},t.close=function(){t.opened=!1,t.swiperContainer&&0!==t.swiperContainer.length&&(t.params.onClose&&t.params.onClose(t),t.attachEvents(!0),"standalone"===t.params.type&&t.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){t.container.remove()}),t.swiper.destroy(),t.swiper=t.swiperContainer=t.swiperWrapper=t.slides=void 0)},t.onPopupClose=function(e){t.close(),s(t.popup).off("pageBeforeInit",t.onPopupClose)},t.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&t.layout(t.openIndex),s(document).off("pageBeforeInit",t.onPageBeforeInit)},t.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&t.close(),s(document).off("pageBeforeRemove",t.onPageBeforeRemove)},t.onSliderTransitionStart=function(e){t.activeIndex=e.activeIndex;var i=e.activeIndex+1,a=e.slides.length;if(t.params.loop&&(a-=2,i-=e.loopedSlides,i<1&&(i=a+i),i>a&&(i-=a)),t.container.find(".photo-browser-current").text(i),t.container.find(".photo-browser-total").text(a),s(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),e.isBeginning&&!t.params.loop&&s(".photo-browser-prev").addClass("photo-browser-link-inactive"),e.isEnd&&!t.params.loop&&s(".photo-browser-next").addClass("photo-browser-link-inactive"),t.captions.length>0){t.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var n=t.params.loop?e.slides.eq(e.activeIndex).attr("data-swiper-slide-index"):t.activeIndex;t.captionsContainer.find('[data-caption-index="'+n+'"]').addClass("photo-browser-caption-active")}var o=e.slides.eq(e.previousIndex).find("video");o.length>0&&"pause"in o[0]&&o[0].pause(),t.params.onTransitionStart&&t.params.onTransitionStart(e)},t.onSliderTransitionEnd=function(e){t.params.onTransitionEnd&&t.params.onTransitionEnd(e)},t.layout=function(e){"page"===t.params.type?t.container=s(".photo-browser-swiper-container").parents(".view"):t.container=s(".photo-browser"),"standalone"===t.params.type&&(t.container.addClass("photo-browser-in"),n.sizeNavbars(t.container)),t.swiperContainer=t.container.find(".photo-browser-swiper-container"),t.swiperWrapper=t.container.find(".photo-browser-swiper-wrapper"),t.slides=t.container.find(".photo-browser-slide"),t.captionsContainer=t.container.find(".photo-browser-captions"),t.captions=t.container.find(".photo-browser-caption");var i={nextButton:t.params.nextButton||".photo-browser-next",prevButton:t.params.prevButton||".photo-browser-prev",indexButton:t.params.indexButton,initialSlide:e,spaceBetween:t.params.spaceBetween,speed:t.params.speed,loop:t.params.loop,lazyLoading:t.params.lazyLoading,lazyLoadingInPrevNext:t.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:t.params.lazyLoadingOnTransitionStart,preloadImages:!t.params.lazyLoading,zoom:t.params.zoom,zoomMax:t.params.zoomMax,zoomMin:t.params.zoomMin,onTap:function(e,i){t.params.onTap&&t.params.onTap(e,i)},onClick:function(e,i){t.params.exposition&&t.toggleExposition(),t.params.onClick&&t.params.onClick(e,i)},onDoubleTap:function(e,i){t.params.onDoubleTap&&t.params.onDoubleTap(e,i)},onTransitionStart:function(e){t.onSliderTransitionStart(e)},onTransitionEnd:function(e){t.onSliderTransitionEnd(e)},onSlideChangeStart:t.params.onSlideChangeStart,onSlideChangeEnd:t.params.onSlideChangeEnd,onLazyImageLoad:function(e,i,a){t.params.onLazyImageLoad&&t.params.onLazyImageLoad(t,i,a)},onLazyImageReady:function(e,i,a){s(i).removeClass("photo-browser-slide-lazy"),t.params.onLazyImageReady&&t.params.onLazyImageReady(t,i,a)}};t.params.swipeToClose&&"page"!==t.params.type&&(i.onTouchStart=t.swipeCloseTouchStart,i.onTouchMoveOpposite=t.swipeCloseTouchMove,i.onTouchEnd=t.swipeCloseTouchEnd),t.swiper=n.swiper(t.swiperContainer,i),0===e&&t.onSliderTransitionStart(t.swiper),t.attachEvents()},t.attachEvents=function(e){var i=e?"off":"on";t.container.find(".photo-browser-close-link")[i]("click",t.close)},t.exposed=!1,t.toggleExposition=function(){t.container&&t.container.toggleClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.toggleClass("photo-browser-captions-exposed"),t.exposed=!t.exposed},t.enableExposition=function(){t.container&&t.container.addClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.addClass("photo-browser-captions-exposed"),t.exposed=!0},t.disableExposition=function(){t.container&&t.container.removeClass("photo-browser-exposed"),t.params.expositionHideCaptions&&t.captionsContainer.removeClass("photo-browser-captions-exposed"),t.exposed=!1};var m,f,g,v,b,C=!1,y=!0,x=!1;return t.swipeCloseTouchStart=function(e,t){y&&(C=!0)},t.swipeCloseTouchMove=function(e,i){if(C){x||(x=!0,f="touchmove"===i.type?i.targetTouches[0].pageY:i.pageY,v=t.swiper.slides.eq(t.swiper.activeIndex),b=(new Date).getTime()),i.preventDefault(),g="touchmove"===i.type?i.targetTouches[0].pageY:i.pageY,m=f-g;var a=1-Math.abs(m)/300;v.transform("translate3d(0,"+-m+"px,0)"),t.swiper.container.css("opacity",a).transition(0)}},t.swipeCloseTouchEnd=function(e,i){if(C=!1,!x)return void(x=!1);x=!1,y=!1;var a=Math.abs(m),o=(new Date).getTime()-b;if(o<300&&a>20||o>=300&&a>100)return void setTimeout(function(){"standalone"===t.params.type&&t.close(),"popup"===t.params.type&&n.closeModal(t.popup),t.params.onSwipeToClose&&t.params.onSwipeToClose(t),y=!0},0);0!==a?v.addClass("transitioning").transitionEnd(function(){y=!0,v.removeClass("transitioning")}):y=!0,t.swiper.container.css("opacity","").transition(""),v.transform("")},t};n.photoBrowser=function(e){return new g(e)};var v=function(e){function t(e){var t=o.input.val();o.params.source&&o.params.source(o,t,function(e){var i="",a=o.params.limit?Math.min(o.params.limit,e.length):e.length;o.items=e;var n,s=new RegExp("("+t+")","i");for(n=0;n<a;n++){var r="object"==typeof e[n]?e[n][o.params.valueProperty]:e[n];i+=o.dropdownItemTemplate({value:r,text:("object"!=typeof e[n]?e[n]:e[n][o.params.textProperty]).replace(s,"<b>$1</b>")})}""===i&&""===t&&o.params.dropdownPlaceholderText&&(i+=o.dropdownPlaceholderTemplate({text:o.params.dropdownPlaceholderText})),o.dropdown.find("ul").html(i)})}function i(e){for(var t,i=s(this),a=0;a<o.items.length;a++){var n="object"==typeof o.items[a]?o.items[a][o.params.valueProperty]:o.items[a],r=i.attr("data-value");n!==r&&1*n!=1*r||(t=o.items[a])}o.params.updateInputValueOnSelect&&(o.input.val("object"==typeof t?t[o.params.textProperty]:t),o.input.trigger("input change")),o.params.onChange&&o.params.onChange(o,t),o.close()}function a(e){var t=s(e.target);t.is(o.input[0])||o.dropdown&&t.parents(o.dropdown[0]).length>0||o.close()}var o=this,l={popupCloseText:"Close",backText:"Back",searchbarPlaceholderText:"Search...",searchbarCancelText:"Cancel",openIn:"page",backOnSelect:!1,notFoundText:"Nothing found",valueProperty:"id",textProperty:"text",updateInputValueOnSelect:!0,expandInput:!1,preloaderColor:!1,preloader:!1};e=e||{};for(var c in l)void 0===e[c]&&(e[c]=l[c]);o.params=e,o.params.opener&&(o.opener=s(o.params.opener));var d=o.params.view;if(!o.params.view&&o.opener&&o.opener.length){if(d=o.opener.parents("."+n.params.viewClass),0===d.length)return;d=d[0].f7View}if(!o.params.input||(o.input=s(o.params.input),0!==o.input.length||"dropdown"!==o.params.openIn)){o.value=o.params.value||[],o.id=(new Date).getTime(),o.inputType=o.params.multiple?"checkbox":"radio",o.inputName=o.inputType+"-"+o.id;var p=n.params.material,u=o.params.backOnSelect;if("dropdown"!==o.params.openIn){o.itemTemplate=r.compile(o.params.itemTemplate||'<li><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if material}}<div class="item-media"><i class="icon icon-form-{{inputType}}"></i></div><div class="item-inner"><div class="item-title">{{text}}</div></div>{{else}}{{#if checkbox}}<div class="item-media"><i class="icon icon-form-checkbox"></i></div>{{/if}}<div class="item-inner"><div class="item-title">{{text}}</div></div>{{/if}}</label></li>');var h=o.params.pageTitle||"";!h&&o.opener&&o.opener.length&&(h=o.opener.find(".item-title").text());var m,f,g="autocomplete-"+o.inputName,v=o.params.navbarTheme,b=o.params.formTheme,C="",y="";o.navbarTemplate=r.compile(o.params.navbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner"><div class="left sliding">{{#if material}}<a href="#" class="link {{#if inPopup}}close-popup{{else}}back{{/if}} icon-only"><i class="icon icon-back"></i></a>{{else}}<a href="#" class="link {{#if inPopup}}close-popup{{else}}back{{/if}}"><i class="icon icon-back"></i>{{#if inPopup}}<span>{{popupCloseText}}</span>{{else}}<span>{{backText}}</span>{{/if}}</a>{{/if}}</div><div class="center sliding">{{pageTitle}}</div>{{#if preloader}}<div class="right"><div class="autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}"></div></div>{{/if}}</div></div>'),m=o.navbarTemplate({pageTitle:h,backText:o.params.backText,popupCloseText:o.params.popupCloseText,openIn:o.params.openIn,navbarTheme:v,inPopup:"popup"===o.params.openIn,inPage:"page"===o.params.openIn,material:p,preloader:o.params.preloader,preloaderColor:o.params.preloaderColor}),"page"===o.params.openIn?(f="static",o.opener?(o.opener.parents(".navbar-through").length>0&&(f="through"),o.opener.parents(".navbar-fixed").length>0&&(f="fixed"),y=o.opener.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",C=o.opener.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+f):d.container&&((s(d.container).hasClass("navbar-through")||s(d.container).find(".navbar-through").length>0)&&(f="through"),(s(d.container).hasClass("navbar-fixed")||s(d.container).find(".navbar-fixed").length>0)&&(f="fixed"),y=s(d.activePage.container).hasClass("no-toolbar")?"no-toolbar":"",C=s(d.activePage.container).hasClass("no-navbar")?"no-navbar":"navbar-"+f)):f="fixed";var x='<form class="searchbar"><div class="searchbar-input"><input type="search" placeholder="'+o.params.searchbarPlaceholderText+'"><a href="#" class="searchbar-clear"></a></div>'+(p?"":'<a href="#" class="searchbar-cancel">'+o.params.searchbarCancelText+"</a>")+'</form><div class="searchbar-overlay"></div>',w=("through"===f?m:"")+'<div class="pages"><div data-page="'+g+'" class="page autocomplete-page '+C+" "+y+'">'+("fixed"===f?m:"")+x+'<div class="page-content">'+("static"===f?m:"")+'<div class="list-block autocomplete-found autocomplete-list-'+o.id+" "+(b?"theme-"+b:"")+'"><ul></ul></div><div class="list-block autocomplete-not-found"><ul><li class="item-content"><div class="item-inner"><div class="item-title">'+o.params.notFoundText+'</div></div></li></ul></div><div class="list-block autocomplete-values"><ul></ul></div></div></div></div>'}else o.dropdownItemTemplate=r.compile(o.params.dropdownItemTemplate||'<li><label class="{{#unless placeholder}}label-radio{{/unless}} item-content" data-value="{{value}}"><div class="item-inner"><div class="item-title">{{text}}</div></div></label></li>'),o.dropdownPlaceholderTemplate=r.compile(o.params.dropdownPlaceholderTemplate||'<li class="autocomplete-dropdown-placeholder"><div class="item-content"><div class="item-inner"><div class="item-title">{{text}}</div></div></label></li>'),o.dropdownTemplate=r.compile(o.params.dropdownTemplate||'<div class="autocomplete-dropdown"><div class="autocomplete-dropdown-inner"><div class="list-block"><ul></ul></div></div>{{#if preloader}}<div class="autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}">{{#if material}}{{materialPreloaderHtml}}{{/if}}</div>{{/if}}</div>');return o.popup=void 0,o.dropdown=void 0,o.positionDropDown=function(){var e=o.input.parents(".list-block"),t=o.input.parents(".page-content"),i=(parseInt(t.css("padding-top"),10),parseInt(t.css("padding-top"),10)),a=e.length>0?e.offset().left-e.parent().offset().left:0,n=o.input.offset().left-(e.length>0?e.offset().left:0),s=o.input.offset().top-(t.offset().top-t[0].scrollTop),r=t[0].scrollHeight-i-(s+t[0].scrollTop)-o.input[0].offsetHeight;o.dropdown.css({left:(e.length>0?a:n)+"px",top:s+t[0].scrollTop+o.input[0].offsetHeight+"px",width:(e.length>0?e[0].offsetWidth:o.input[0].offsetWidth)+"px"}),o.dropdown.children(".autocomplete-dropdown-inner").css({maxHeight:r+"px",paddingLeft:e.length>0&&!o.params.expandInput?n-(p?16:15)+"px":""})},o.pageInit=function(e){function t(){var e,t="";for(e=0;e<o.value.length;e++)t+=o.itemTemplate({value:"object"==typeof o.value[e]?o.value[e][o.params.valueProperty]:o.value[e],text:"object"==typeof o.value[e]?o.value[e][o.params.textProperty]:o.value[e],inputType:o.inputType,id:o.id,inputName:o.inputName+"-checked",checkbox:"checkbox"===o.inputType,material:p,selected:!0});a.find(".autocomplete-values ul").html(t)}var i=e.detail.page;if(o.page=s(i.container),o.pageData=i,i.name===g){var a=s(i.container),r=n.searchbar(a.find(".searchbar"),{customSearch:!0,onSearch:function(e,t){0===t.query.length&&e.active?e.overlay.addClass("searchbar-overlay-active"):e.overlay.removeClass("searchbar-overlay-active");var i,n;o.params.source&&o.params.source(o,t.query,function(e){var s="",r=o.params.limit?Math.min(o.params.limit,e.length):e.length;for(o.items=e,i=0;i<r;i++){var l=!1,c="object"==typeof e[i]?e[i][o.params.valueProperty]:e[i];for(n=0;n<o.value.length;n++){var d="object"==typeof o.value[n]?o.value[n][o.params.valueProperty]:o.value[n];d!==c&&1*d!=1*c||(l=!0)}s+=o.itemTemplate({value:c,text:"object"!=typeof e[i]?e[i]:e[i][o.params.textProperty],inputType:o.inputType,id:o.id,inputName:o.inputName,selected:l,checkbox:"checkbox"===o.inputType,material:p})}a.find(".autocomplete-found ul").html(s),0===e.length?0!==t.query.length?(a.find(".autocomplete-not-found").show(),a.find(".autocomplete-found, .autocomplete-values").hide()):(a.find(".autocomplete-values").show(),a.find(".autocomplete-found, .autocomplete-not-found").hide()):(a.find(".autocomplete-found").show(),a.find(".autocomplete-not-found, .autocomplete-values").hide())})}});o.searchbar=r,a.on("change",'input[type="radio"], input[type="checkbox"]',function(){var e,i,a,r,l=this,c=l.value,p=(s(l).parents("li").find(".item-title").text(),s(l).parents(".autocomplete-values").length>0);if(p){if("checkbox"===o.inputType&&!l.checked){for(e=0;e<o.value.length;e++)(r="string"==typeof o.value[e]?o.value[e]:o.value[e][o.params.valueProperty])!==c&&1*r!=1*c||o.value.splice(e,1);t(),o.params.onChange&&o.params.onChange(o,o.value)}}else{for(e=0;e<o.items.length;e++)(a="string"==typeof o.items[e]?o.items[e]:o.items[e][o.params.valueProperty])!==c&&1*a!=1*c||(i=o.items[e]);if("radio"===o.inputType)o.value=[i];else if(l.checked)o.value.push(i);else for(e=0;e<o.value.length;e++)(r="string"==typeof o.value[e]?o.value[e]:o.value[e][o.params.valueProperty])!==c&&1*r!=1*c||o.value.splice(e,1);t(),("radio"===o.inputType&&l.checked||"checkbox"===o.inputType)&&o.params.onChange&&o.params.onChange(o,o.value),u&&"radio"===o.inputType&&("popup"===o.params.openIn?n.closeModal(o.popup):d.router.back())}}),t(),o.params.onOpen&&o.params.onOpen(o)}},o.showPreloader=function(){"dropdown"===o.params.openIn?o.dropdown&&o.dropdown.find(".autocomplete-preloader").addClass("autocomplete-preloader-visible"):s(".autocomplete-preloader").addClass("autocomplete-preloader-visible")},o.hidePreloader=function(){"dropdown"===o.params.openIn?o.dropdown&&o.dropdown.find(".autocomplete-preloader").removeClass("autocomplete-preloader-visible"):s(".autocomplete-preloader").removeClass("autocomplete-preloader-visible")},o.open=function(){if(!o.opened)if(o.opened=!0,"dropdown"===o.params.openIn){o.dropdown||(o.dropdown=s(o.dropdownTemplate({preloader:o.params.preloader,preloaderColor:o.params.preloaderColor,material:p,materialPreloaderHtml:n.params.materialPreloaderHtml})),o.dropdown.on("click","label",i));var e=o.input.parents(".list-block");e.length&&o.input.parents(".item-content").length>0&&o.params.expandInput&&o.input.parents(".item-content").addClass("item-content-dropdown-expand"),o.positionDropDown(),o.input.parents(".page-content").append(o.dropdown),o.dropdown.addClass("autocomplete-dropdown-in"),o.input.trigger("input"),s(window).on("resize",o.positionDropDown),o.params.onOpen&&o.params.onOpen(o)}else s(document).once("pageInit",".autocomplete-page",o.pageInit),"popup"===o.params.openIn?(o.popup=n.popup('<div class="popup autocomplete-popup autocomplete-popup-'+o.inputName+'"><div class="view navbar-fixed">'+w+"</div></div>"),o.popup=s(o.popup),o.popup.once("closed",function(){o.popup=void 0,o.opened=!1,o.params.onClose&&o.params.onClose(o)})):(d.router.load({content:w}),s(document).once("pageBack",".autocomplete-page",function(){o.opened=!1,o.params.onClose&&o.params.onClose(o)}))},o.close=function(e){if(o.opened){if("dropdown"===o.params.openIn){if(e&&"blur"===e.type&&o.dropdown.find("label.active-state").length>0)return;o.dropdown.removeClass("autocomplete-dropdown-in").remove(),o.input.parents(".item-content-dropdown-expand").removeClass("item-content-dropdown-expand"),o.opened=!1,s(window).off("resize",o.positionDropDown),o.params.onClose&&o.params.onClose(o)}"popup"===o.params.openIn&&o.popup&&n.closeModal(o.popup)}},o.initEvents=function(e){var i=e?"off":"on";"dropdown"!==o.params.openIn&&o.opener&&o.opener[i]("click",o.open),"dropdown"===o.params.openIn&&o.input&&(o.input[i]("focus",o.open),o.input[i]("input",t),n.device.android?s("html")[i]("click",a):o.input[i]("blur",o.close)),e&&o.dropdown&&(o.dropdown=null)},o.init=function(){o.initEvents()},o.destroy=function(){o.initEvents(!0),o=null},o.init(),o}};n.autocomplete=function(e){return new v(e)};var b=function(e){function t(){var e=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?e=!0:n.device.ios?e=!!n.device.ipad:s(window).width()>=768&&(e=!0)),e):e}function i(){return!!(c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0)}function a(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function o(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!t())){var i=c.input.parents(".page-content");if(0===i.length)return;var a,n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10),s=i[0].offsetHeight-n-c.container.height(),r=i[0].scrollHeight-n-c.container.height(),l=c.input.offset().top-n+c.input[0].offsetHeight;if(l>s){var d=i.scrollTop()+l-s;d+s>r&&(a=d+s-r+o,s===r&&(a=c.container.height()),i.css({"padding-bottom":a+"px"})),i.scrollTop(d,300)}}}function r(e){i()||(c.input&&c.input.length>0?e.target!==c.input[0]&&0===s(e.target).parents(".picker-modal").length&&c.close():0===s(e.target).parents(".picker-modal").length&&c.close())}function l(){c.opened=!1,c.input&&c.input.length>0&&(c.input.parents(".page-content").css({"padding-bottom":""}),n.params.material&&c.input.trigger("blur")),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,d={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,closeByOutsideClick:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner"><div class="left"></div><div class="right"><a href="#" class="link close-picker">{{closeText}}</a></div></div></div>'};e=e||{};for(var p in d)void 0===e[p]&&(e[p]=d[p]);c.params=e,c.cols=[],c.initialized=!1,c.inline=!!c.params.container;var u=n.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!n.device.android;return c.setValue=function(e,t){var i=0;if(0===c.cols.length)return c.value=e,void c.updateValue(e);for(var a=0;a<c.cols.length;a++)c.cols[a]&&!c.cols[a].divider&&(c.cols[a].setValue(e[i],t),i++)},c.updateValue=function(e){for(var t=e||[],i=[],a=0;a<c.cols.length;a++)c.cols[a].divider||(t.push(c.cols[a].value),i.push(c.cols[a].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=i,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(s(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),s(c.input).trigger("change")))},c.initPickerCol=function(e,t){function i(){C=s.requestAnimationFrame(function(){h.updateItems(void 0,void 0,0),i()})}function a(e){x||y||(e.preventDefault(),y=!0,w=S="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,T=(new Date).getTime(),L=!0,A=_=s.getTranslate(h.wrapper[0],"y"))}function o(e){if(y){e.preventDefault(),L=!1,S="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,x||(s.cancelAnimationFrame(C),x=!0,A=_=s.getTranslate(h.wrapper[0],"y"),h.wrapper.transition(0));_=A+(S-w),E=void 0,_<v&&(_=v-Math.pow(v-_,.8),E="min"),_>b&&(_=b+Math.pow(_-b,.8),E="max"),h.wrapper.transform("translate3d(0,"+_+"px,0)"),h.updateItems(void 0,_,0,c.params.updateValuesOnTouchmove),M=_-I||_,P=(new Date).getTime(),I=_}}function r(e){if(!y||!x)return void(y=x=!1);y=x=!1,h.wrapper.transition(""),E&&("min"===E?h.wrapper.transform("translate3d(0,"+v+"px,0)"):h.wrapper.transform("translate3d(0,"+b+"px,0)")),k=(new Date).getTime();var t;k-T>300?t=_:(Math.abs(M/(k-P)),t=_+M*c.params.momentumRatio),t=Math.max(Math.min(t,b),v);var a=-Math.floor((t-b)/f);c.params.freeMode||(t=-a*f+b),h.wrapper.transform("translate3d(0,"+parseInt(t,10)+"px,0)"),h.updateItems(a,t,"",!0),c.params.updateValuesOnMomentum&&(i(),h.wrapper.transitionEnd(function(){s.cancelAnimationFrame(C)})),setTimeout(function(){L=!0},100)}function l(e){if(L){s.cancelAnimationFrame(C);var t=s(this).attr("data-picker-value");h.setValue(t)}}var d=s(e),p=d.index(),h=c.cols[p];if(!h.divider){h.container=d,h.wrapper=h.container.find(".picker-items-col-wrapper"),h.items=h.wrapper.find(".picker-item");var m,f,g,v,b;h.replaceValues=function(e,t){h.destroyEvents(),h.values=e,h.displayValues=t;var i=c.columnHTML(h,!0);h.wrapper.html(i),h.items=h.wrapper.find(".picker-item"),h.calcSize(),h.setValue(h.values[0],0,!0),h.initEvents()},h.calcSize=function(){c.params.rotateEffect&&(h.container.removeClass("picker-items-col-absolute"),h.width||h.container.css({width:""}));var e,t;e=0,t=h.container[0].offsetHeight,
m=h.wrapper[0].offsetHeight,f=h.items[0].offsetHeight,g=f*h.items.length,v=t/2-g+f/2,b=t/2-f/2,h.width&&(e=h.width,parseInt(e,10)===e&&(e+="px"),h.container.css({width:e})),c.params.rotateEffect&&(h.width||(h.items.each(function(){var t=s(this);t.css({width:"auto"}),e=Math.max(e,t[0].offsetWidth),t.css({width:""})}),h.container.css({width:e+2+"px"})),h.container.addClass("picker-items-col-absolute"))},h.calcSize(),h.wrapper.transform("translate3d(0,"+b+"px,0)").transition(0);var C;h.setValue=function(e,t,a){void 0===t&&(t="");var n=h.wrapper.find('.picker-item[data-picker-value="'+e+'"]').index();if(void 0!==n&&-1!==n){var o=-n*f+b;h.wrapper.transition(t),h.wrapper.transform("translate3d(0,"+o+"px,0)"),c.params.updateValuesOnMomentum&&h.activeIndex&&h.activeIndex!==n&&(s.cancelAnimationFrame(C),h.wrapper.transitionEnd(function(){s.cancelAnimationFrame(C)}),i()),h.updateItems(n,o,t,a)}},h.updateItems=function(e,t,i,a){void 0===t&&(t=s.getTranslate(h.wrapper[0],"y")),void 0===e&&(e=-Math.round((t-b)/f)),e<0&&(e=0),e>=h.items.length&&(e=h.items.length-1);var n=h.activeIndex;h.activeIndex=e,h.wrapper.find(".picker-selected").removeClass("picker-selected"),h.items.transition(i);var o=h.items.eq(e).addClass("picker-selected").transform("");if(c.params.rotateEffect){Math.floor((t-b)/f);h.items.each(function(){var e=s(this),i=e.index()*f,a=b-t,n=i-a,o=n/f,r=Math.ceil(h.height/f/2)+1,l=-18*o;l>180&&(l=180),l<-180&&(l=-180),Math.abs(o)>r?e.addClass("picker-item-far"):e.removeClass("picker-item-far"),e.transform("translate3d(0, "+(-t+b)+"px, "+(u?-110:0)+"px) rotateX("+l+"deg)")})}(a||void 0===a)&&(h.value=o.attr("data-picker-value"),h.displayValue=h.displayValues?h.displayValues[e]:h.value,n!==e&&(h.onChange&&h.onChange(c,h.value,h.displayValue),c.updateValue()))},t&&h.updateItems(0,b,0);var y,x,w,S,T,k,A,E,_,I,M,P,L=!0;h.initEvents=function(e){var t=e?"off":"on";h.container[t](n.touchEvents.start,a),h.container[t](n.touchEvents.move,o),h.container[t](n.touchEvents.end,r),h.items[t]("click",l)},h.destroyEvents=function(){h.initEvents(!0)},h.container[0].f7DestroyPickerCol=function(){h.destroyEvents()},h.initEvents()}},c.destroyPickerCol=function(e){e=s(e),"f7DestroyPickerCol"in e[0]&&e[0].f7DestroyPickerCol()},s(window).on("resize",a),c.columnHTML=function(e,t){var i="",a="";if(e.divider)a+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var n=0;n<e.values.length;n++)i+='<div class="picker-item" data-picker-value="'+e.values[n]+'">'+(e.displayValues?e.displayValues[n]:e.values[n])+"</div>";a+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+i+"</div></div>"}return t?i:a},c.layout=function(){var e,t="",i="";c.cols=[];var a="";for(e=0;e<c.params.cols.length;e++){var n=c.params.cols[e];a+=c.columnHTML(c.params.cols[e]),c.cols.push(n)}i="picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":""),t='<div class="'+i+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+a+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=s(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",o),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),!c.inline&&c.params.closeByOutsideClick&&s("html").on("click",r),c.opened=!1,c.open=function(){var e=t();c.opened||(c.layout(),e?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=n.popover(c.pickerHTML,c.params.input,!0),c.container=s(c.popover).find(".picker-modal"),s(c.popover).on("close",function(){l()})):c.inline?(c.container=s(c.pickerHTML),c.container.addClass("picker-modal-inline"),s(c.params.container).append(c.container)):(c.container=s(n.pickerModal(c.pickerHTML)),s(c.container).on("close",function(){l()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.value?c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0),c.input&&c.input.length>0&&n.params.material&&c.input.trigger("focus")),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(){if(c.opened&&!c.inline)return i()?void n.closeModal(c.popover):void n.closeModal(c.container)},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",o),s("html").off("click",r),s(window).off("resize",a)},c.inline?c.open():!c.initialized&&c.params.value&&c.setValue(c.params.value),c};n.picker=function(e){return new b(e)};var C=function(e){function t(){var e=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?e=!0:n.device.ios?e=!!n.device.ipad:s(window).width()>=768&&(e=!0)),e):e}function i(){return!!(c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0)}function a(e){e=new Date(e);var t=e.getFullYear(),i=e.getMonth(),a=i+1,n=e.getDate(),o=e.getDay();return c.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,a<10?"0"+a:a).replace(/m(\W+)/g,a+"$1").replace(/MM/g,c.params.monthNames[i]).replace(/M(\W+)/g,c.params.monthNamesShort[i]+"$1").replace(/dd/g,n<10?"0"+n:n).replace(/d(\W+)/g,n+"$1").replace(/DD/g,c.params.dayNames[o]).replace(/D(\W+)/g,c.params.dayNamesShort[o]+"$1")}function o(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!t()&&!n.params.material)){var i=c.input.parents(".page-content");if(0===i.length)return;var a,o=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10),r=i[0].offsetHeight-o-c.container.height(),l=i[0].scrollHeight-o-c.container.height(),d=c.input.offset().top-o+c.input[0].offsetHeight;if(d>r){var p=i.scrollTop()+d-r;p+r>l&&(a=p+r-l+s,r===l&&(a=c.container.height()),i.css({"padding-bottom":a+"px"})),i.scrollTop(p,300)}}}function r(e){i()||(c.input&&c.input.length>0?e.target!==c.input[0]&&0===s(e.target).parents(".picker-modal").length&&c.close():0===s(e.target).parents(".picker-modal").length&&c.close())}function l(){c.opened=!1,c.input&&c.input.length>0&&(c.input.parents(".page-content").css({"padding-bottom":""}),n.params.material&&c.input.trigger("blur")),c.params.onClose&&c.params.onClose(c),c.destroyCalendarEvents()}var c=this,d={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,rangePicker:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,disabled:null,events:null,rangesClasses:null,touchMove:!0,animate:!0,closeOnSelect:!1,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><span class="current-month-value"></span><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,closeByOutsideClick:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",headerPlaceholder:"Select date",header:n.params.material,footer:n.params.material,toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>',headerTemplate:'<div class="picker-header"><div class="picker-calendar-selected-date">{{placeholder}}</div></div>',footerTemplate:'<div class="picker-footer"><a href="#" class="button close-picker">{{closeText}}</a></div>'};e=e||{};for(var p in d)void 0===e[p]&&(e[p]=d[p]);c.params=e,c.initialized=!1,c.inline=!!c.params.container,c.isH="horizontal"===c.params.direction;var u=c.isH&&n.rtl?-1:1;return c.animating=!1,c.addValue=function(e){if(c.params.multiple){c.value||(c.value=[]);for(var t,i=0;i<c.value.length;i++)new Date(e).getTime()===new Date(c.value[i]).getTime()&&(t=i);void 0===t?c.value.push(e):c.value.splice(t,1),c.updateValue()}else c.params.rangePicker?(c.value||(c.value=[]),2!==c.value.length&&0!==c.value.length||(c.value=[]),c.value[0]!==e?c.value.push(e):c.value=[],c.value.sort(function(e,t){return e-t}),c.updateValue()):(c.value=[e],c.updateValue())},c.setValue=function(e){c.value=e,c.updateValue()},c.updateValue=function(e){var t,i;if(c.container&&c.container.length>0){c.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var o;if(c.params.rangePicker&&2===c.value.length)for(t=c.value[0];t<=c.value[1];t+=864e5)o=new Date(t),c.wrapper.find('.picker-calendar-day[data-date="'+o.getFullYear()+"-"+o.getMonth()+"-"+o.getDate()+'"]').addClass("picker-calendar-day-selected");else for(t=0;t<c.value.length;t++)o=new Date(c.value[t]),c.wrapper.find('.picker-calendar-day[data-date="'+o.getFullYear()+"-"+o.getMonth()+"-"+o.getDate()+'"]').addClass("picker-calendar-day-selected")}if(c.params.onChange&&c.params.onChange(c,c.value),c.input&&c.input.length>0||n.params.material&&c.params.header){if(c.params.formatValue)i=c.params.formatValue(c,c.value);else{for(i=[],t=0;t<c.value.length;t++)i.push(a(c.value[t]));i=i.join(c.params.rangePicker?" - ":", ")}n.params.material&&c.params.header&&c.container&&c.container.length>0&&c.container.find(".picker-calendar-selected-date").text(i),c.input&&c.input.length>0&&!e&&(s(c.input).val(i),s(c.input).trigger("change"))}},c.initCalendarEvents=function(){function e(e){r||o||(o=!0,l=h="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,d=h="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,m=(new Date).getTime(),y=0,S=!0,w=void 0,g=v=c.monthsTranslate)}function t(e){if(o){if(p="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,h="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,void 0===w&&(w=!!(w||Math.abs(h-d)>Math.abs(p-l))),c.isH&&w)return void(o=!1);if(e.preventDefault(),c.animating)return void(o=!1);S=!1,r||(r=!0,b=c.wrapper[0].offsetWidth,C=c.wrapper[0].offsetHeight,c.wrapper.transition(0)),x=c.isH?p-l:h-d,y=x/(c.isH?b:C),v=100*(c.monthsTranslate*u+y),c.wrapper.transform("translate3d("+(c.isH?v:0)+"%, "+(c.isH?0:v)+"%, 0)")}}function i(e){if(!o||!r)return void(o=r=!1);o=r=!1,f=(new Date).getTime(),f-m<300?Math.abs(x)<10?c.resetMonth():x>=10?n.rtl?c.nextMonth():c.prevMonth():n.rtl?c.prevMonth():c.nextMonth():y<=-.5?n.rtl?c.prevMonth():c.nextMonth():y>=.5?n.rtl?c.nextMonth():c.prevMonth():c.resetMonth(),setTimeout(function(){S=!0},100)}function a(e){if(S){var t=s(e.target).parents(".picker-calendar-day");if(0===t.length&&s(e.target).hasClass("picker-calendar-day")&&(t=s(e.target)),0!==t.length&&(!t.hasClass("picker-calendar-day-selected")||c.params.multiple||c.params.rangePicker)&&!t.hasClass("picker-calendar-day-disabled")){c.params.rangePicker||(t.hasClass("picker-calendar-day-next")&&c.nextMonth(),t.hasClass("picker-calendar-day-prev")&&c.prevMonth());var i=t.attr("data-year"),a=t.attr("data-month"),n=t.attr("data-day");c.params.onDayClick&&c.params.onDayClick(c,t[0],i,a,n),c.addValue(new Date(i,a,n).getTime()),c.params.closeOnSelect&&(c.params.rangePicker&&2===c.value.length||!c.params.rangePicker)&&c.close()}}}var o,r,l,d,p,h,m,f,g,v,b,C,y,x,w,S=!0;c.container.find(".picker-calendar-prev-month").on("click",c.prevMonth),c.container.find(".picker-calendar-next-month").on("click",c.nextMonth),c.container.find(".picker-calendar-prev-year").on("click",c.prevYear),c.container.find(".picker-calendar-next-year").on("click",c.nextYear),c.wrapper.on("click",a);var T=!("touchstart"!==n.touchEvents.start||!n.support.passiveListener)&&{passive:!0,capture:!1};c.params.touchMove&&(c.wrapper.on(n.touchEvents.start,e,T),c.wrapper.on(n.touchEvents.move,t),c.wrapper.on(n.touchEvents.end,i,T)),c.container[0].f7DestroyCalendarEvents=function(){c.container.find(".picker-calendar-prev-month").off("click",c.prevMonth),c.container.find(".picker-calendar-next-month").off("click",c.nextMonth),c.container.find(".picker-calendar-prev-year").off("click",c.prevYear),c.container.find(".picker-calendar-next-year").off("click",c.nextYear),c.wrapper.off("click",a),c.params.touchMove&&(c.wrapper.off(n.touchEvents.start,e,T),c.wrapper.off(n.touchEvents.move,t),c.wrapper.off(n.touchEvents.end,i,T))}},c.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in c.container[0]&&c.container[0].f7DestroyCalendarEvents()},c.dateInRange=function(e,t){var i,a=!1;if(!t)return!1;if(s.isArray(t))for(i=0;i<t.length;i++)t[i].from||t[i].to?t[i].from&&t[i].to?e<=new Date(t[i].to).getTime()&&e>=new Date(t[i].from).getTime()&&(a=!0):t[i].from?e>=new Date(t[i].from).getTime()&&(a=!0):t[i].to&&e<=new Date(t[i].to).getTime()&&(a=!0):e===new Date(t[i]).getTime()&&(a=!0);else t.from||t.to?t.from&&t.to?e<=new Date(t.to).getTime()&&e>=new Date(t.from).getTime()&&(a=!0):t.from?e>=new Date(t.from).getTime()&&(a=!0):t.to&&e<=new Date(t.to).getTime()&&(a=!0):"function"==typeof t&&(a=t(new Date(e)));return a},c.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},c.monthHTML=function(e,t){e=new Date(e);var i=e.getFullYear(),a=e.getMonth();e.getDate();"next"===t&&(e=11===a?new Date(i+1,0):new Date(i,a+1,1)),"prev"===t&&(e=0===a?new Date(i-1,11):new Date(i,a-1,1)),"next"!==t&&"prev"!==t||(a=e.getMonth(),i=e.getFullYear());var n=c.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),o=c.daysInMonth(e),s=new Date(e.getFullYear(),e.getMonth()).getDay();0===s&&(s=7);var r,l,d,p,u,h,m=[],f="",g=c.params.firstDay-1+0,v=(new Date).setHours(0,0,0,0),b=c.params.minDate?new Date(c.params.minDate).getTime():null,C=c.params.maxDate?new Date(c.params.maxDate).getTime():null;if(c.value&&c.value.length)for(l=0;l<c.value.length;l++)m.push(new Date(c.value[l]).setHours(0,0,0,0));for(l=1;l<=6;l++){var y="";for(d=1;d<=7;d++){var x=d;g++;var w=g-s,S=x-1+c.params.firstDay>6?x-1-7+c.params.firstDay:x-1+c.params.firstDay,T="";if(w<0?(w=n+w+1,T+=" picker-calendar-day-prev",r=new Date(a-1<0?i-1:i,a-1<0?11:a-1,w).getTime()):(w+=1,w>o?(w-=o,T+=" picker-calendar-day-next",r=new Date(a+1>11?i+1:i,a+1>11?0:a+1,w).getTime()):r=new Date(i,a,w).getTime()),r===v&&(T+=" picker-calendar-day-today"),c.params.rangePicker&&2===m.length?r>=m[0]&&r<=m[1]&&(T+=" picker-calendar-day-selected"):m.indexOf(r)>=0&&(T+=" picker-calendar-day-selected"),c.params.weekendDays.indexOf(S)>=0&&(T+=" picker-calendar-day-weekend"),h=!1,c.params.events&&c.dateInRange(r,c.params.events)&&(h=!0),h&&(T+=" picker-calendar-day-has-events"),c.params.rangesClasses)for(p=0;p<c.params.rangesClasses.length;p++)c.dateInRange(r,c.params.rangesClasses[p].range)&&(T+=" "+c.params.rangesClasses[p].cssClass);u=!1,(b&&r<b||C&&r>C)&&(u=!0),c.params.disabled&&c.dateInRange(r,c.params.disabled)&&(u=!0),u&&(T+=" picker-calendar-day-disabled"),r=new Date(r);var k=r.getFullYear(),A=r.getMonth();y+='<div data-year="'+k+'" data-month="'+A+'" data-day="'+w+'" class="picker-calendar-day'+T+'" data-date="'+k+"-"+A+"-"+w+'"><span>'+w+"</span></div>"}f+='<div class="picker-calendar-row">'+y+"</div>"}return f='<div class="picker-calendar-month" data-year="'+i+'" data-month="'+a+'">'+f+"</div>"},c.animating=!1,c.updateCurrentMonthYear=function(e){void 0===e?(c.currentMonth=parseInt(c.months.eq(1).attr("data-month"),10),c.currentYear=parseInt(c.months.eq(1).attr("data-year"),10)):(c.currentMonth=parseInt(c.months.eq("next"===e?c.months.length-1:0).attr("data-month"),10),c.currentYear=parseInt(c.months.eq("next"===e?c.months.length-1:0).attr("data-year"),10)),c.container.find(".current-month-value").text(c.params.monthNames[c.currentMonth]),c.container.find(".current-year-value").text(c.currentYear)},c.onMonthChangeStart=function(e){c.updateCurrentMonthYear(e),c.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?c.months.length-1:0;c.months.eq(t).addClass("picker-calendar-month-current"),c.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),c.params.onMonthYearChangeStart&&c.params.onMonthYearChangeStart(c,c.currentYear,c.currentMonth)},c.onMonthChangeEnd=function(e,t){c.animating=!1;var i,a,n;c.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),void 0===e&&(e="next",t=!0),t?(c.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),a=c.monthHTML(new Date(c.currentYear,c.currentMonth),"prev"),i=c.monthHTML(new Date(c.currentYear,c.currentMonth),"next")):n=c.monthHTML(new Date(c.currentYear,c.currentMonth),e),("next"===e||t)&&c.wrapper.append(n||i),("prev"===e||t)&&c.wrapper.prepend(n||a),c.months=c.wrapper.find(".picker-calendar-month"),c.setMonthsTranslate(c.monthsTranslate),c.params.onMonthAdd&&c.params.onMonthAdd(c,"next"===e?c.months.eq(c.months.length-1)[0]:c.months.eq(0)[0]),c.params.onMonthYearChangeEnd&&c.params.onMonthYearChangeEnd(c,c.currentYear,c.currentMonth)},c.setMonthsTranslate=function(e){e=e||c.monthsTranslate||0,void 0===c.monthsTranslate&&(c.monthsTranslate=e),c.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*u,i=100*-e*u,a=100*-(e-1)*u;c.months.eq(0).transform("translate3d("+(c.isH?t:0)+"%, "+(c.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),c.months.eq(1).transform("translate3d("+(c.isH?i:0)+"%, "+(c.isH?0:i)+"%, 0)").addClass("picker-calendar-month-current"),c.months.eq(2).transform("translate3d("+(c.isH?a:0)+"%, "+(c.isH?0:a)+"%, 0)").addClass("picker-calendar-month-next")},c.nextMonth=function(e){void 0!==e&&"object"!=typeof e||(e="",c.params.animate||(e=0));var t=parseInt(c.months.eq(c.months.length-1).attr("data-month"),10),i=parseInt(c.months.eq(c.months.length-1).attr("data-year"),10),a=new Date(i,t),n=a.getTime(),o=!c.animating;if(c.params.maxDate&&n>new Date(c.params.maxDate).getTime())return c.resetMonth();if(c.monthsTranslate--,t===c.currentMonth){var r=100*-c.monthsTranslate*u,l=s(c.monthHTML(n,"next")).transform("translate3d("+(c.isH?r:0)+"%, "+(c.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next");c.wrapper.append(l[0]),c.months=c.wrapper.find(".picker-calendar-month"),c.params.onMonthAdd&&c.params.onMonthAdd(c,c.months.eq(c.months.length-1)[0])}c.animating=!0,c.onMonthChangeStart("next");var d=100*c.monthsTranslate*u;c.wrapper.transition(e).transform("translate3d("+(c.isH?d:0)+"%, "+(c.isH?0:d)+"%, 0)"),o&&c.wrapper.transitionEnd(function(){c.onMonthChangeEnd("next")}),c.params.animate||c.onMonthChangeEnd("next")},c.prevMonth=function(e){void 0!==e&&"object"!=typeof e||(e="",c.params.animate||(e=0));var t=parseInt(c.months.eq(0).attr("data-month"),10),i=parseInt(c.months.eq(0).attr("data-year"),10),a=new Date(i,t+1,-1),n=a.getTime(),o=!c.animating;if(c.params.minDate&&n<new Date(c.params.minDate).getTime())return c.resetMonth();if(c.monthsTranslate++,t===c.currentMonth){var r=100*-c.monthsTranslate*u,l=s(c.monthHTML(n,"prev")).transform("translate3d("+(c.isH?r:0)+"%, "+(c.isH?0:r)+"%, 0)").addClass("picker-calendar-month-prev");c.wrapper.prepend(l[0]),c.months=c.wrapper.find(".picker-calendar-month"),c.params.onMonthAdd&&c.params.onMonthAdd(c,c.months.eq(0)[0])}c.animating=!0,c.onMonthChangeStart("prev");var d=100*c.monthsTranslate*u;c.wrapper.transition(e).transform("translate3d("+(c.isH?d:0)+"%, "+(c.isH?0:d)+"%, 0)"),o&&c.wrapper.transitionEnd(function(){c.onMonthChangeEnd("prev")}),c.params.animate||c.onMonthChangeEnd("prev")},c.resetMonth=function(e){void 0===e&&(e="");var t=100*c.monthsTranslate*u;c.wrapper.transition(e).transform("translate3d("+(c.isH?t:0)+"%, "+(c.isH?0:t)+"%, 0)")},c.setYearMonth=function(e,t,i){void 0===e&&(e=c.currentYear),void 0===t&&(t=c.currentMonth),void 0!==i&&"object"!=typeof i||(i="",c.params.animate||(i=0));var a;if(a=e<c.currentYear?new Date(e,t+1,-1).getTime():new Date(e,t).getTime(),c.params.maxDate&&a>new Date(c.params.maxDate).getTime())return!1;if(c.params.minDate&&a<new Date(c.params.minDate).getTime())return!1;var n=new Date(c.currentYear,c.currentMonth).getTime(),o=a>n?"next":"prev",s=c.monthHTML(new Date(e,t));c.monthsTranslate=c.monthsTranslate||0;var r,l,d=c.monthsTranslate,p=!c.animating;a>n?(c.monthsTranslate--,c.animating||c.months.eq(c.months.length-1).remove(),c.wrapper.append(s),c.months=c.wrapper.find(".picker-calendar-month"),r=100*-(d-1)*u,c.months.eq(c.months.length-1).transform("translate3d("+(c.isH?r:0)+"%, "+(c.isH?0:r)+"%, 0)").addClass("picker-calendar-month-next")):(c.monthsTranslate++,c.animating||c.months.eq(0).remove(),c.wrapper.prepend(s),c.months=c.wrapper.find(".picker-calendar-month"),r=100*-(d+1)*u,c.months.eq(0).transform("translate3d("+(c.isH?r:0)+"%, "+(c.isH?0:r)+"%, 0)").addClass("picker-calendar-month-prev")),c.params.onMonthAdd&&c.params.onMonthAdd(c,"next"===o?c.months.eq(c.months.length-1)[0]:c.months.eq(0)[0]),c.animating=!0,c.onMonthChangeStart(o),l=100*c.monthsTranslate*u,c.wrapper.transition(i).transform("translate3d("+(c.isH?l:0)+"%, "+(c.isH?0:l)+"%, 0)"),p&&c.wrapper.transitionEnd(function(){c.onMonthChangeEnd(o,!0)}),c.params.animate||c.onMonthChangeEnd(o)},c.nextYear=function(){c.setYearMonth(c.currentYear+1)},c.prevYear=function(){c.setYearMonth(c.currentYear-1)},c.layout=function(){var e,t="",i="",a=c.value&&c.value.length?c.value[0]:(new Date).setHours(0,0,0,0),n=c.monthHTML(a,"prev"),o=c.monthHTML(a),s=c.monthHTML(a,"next"),r='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(n+o+s)+"</div></div>",l="";if(c.params.weekHeader){for(e=0;e<7;e++){var d=e+c.params.firstDay>6?e-7+c.params.firstDay:e+c.params.firstDay,p=c.params.dayNamesShort[d];l+='<div class="picker-calendar-week-day '+(c.params.weekendDays.indexOf(d)>=0?"picker-calendar-week-day-weekend":"")+'"> '+p+"</div>"}l='<div class="picker-calendar-week-days">'+l+"</div>"}i="picker-modal picker-calendar"+(c.params.rangePicker?" picker-calendar-range":"")+(c.params.cssClass?" "+c.params.cssClass:"");var u=c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"";c.params.toolbar&&(u=c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{monthPicker}}/g,c.params.monthPicker?c.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,c.params.yearPicker?c.params.yearPickerTemplate:"")),t='<div class="'+i+'">'+(c.params.header?c.params.headerTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{placeholder}}/g,c.params.headerPlaceholder):"")+(c.params.footer?c.params.footerTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText):"")+u+'<div class="picker-modal-inner">'+l+r+"</div></div>",c.pickerHTML=t},c.params.input&&(c.input=s(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",o),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),!c.inline&&c.params.closeByOutsideClick&&s("html").on("click",r),c.opened=!1,c.open=function(){var e=t(),i=!1;c.opened||(c.value||c.params.value&&(c.value=c.params.value,i=!0),c.layout(),e?(c.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=n.popover(c.pickerHTML,c.params.input,!0),c.container=s(c.popover).find(".picker-modal"),s(c.popover).on("close",function(){l()})):c.inline?(c.container=s(c.pickerHTML),c.container.addClass("picker-modal-inline"),s(c.params.container).append(c.container)):(c.container=s(n.pickerModal(c.pickerHTML)),s(c.container).on("close",function(){l()})),c.container[0].f7Calendar=c,c.wrapper=c.container.find(".picker-calendar-months-wrapper"),c.months=c.wrapper.find(".picker-calendar-month"),c.updateCurrentMonthYear(),c.monthsTranslate=0,c.setMonthsTranslate(),c.initCalendarEvents(),i?c.updateValue():n.params.material&&c.value&&c.updateValue(!0),c.input&&c.input.length>0&&n.params.material&&c.input.trigger("focus")),c.opened=!0,c.initialized=!0,c.params.onMonthAdd&&c.months.each(function(){c.params.onMonthAdd(c,this)}),c.params.onOpen&&c.params.onOpen(c)},c.close=function(){if(c.opened&&!c.inline)return i()?void n.closeModal(c.popover):void n.closeModal(c.container)},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&c.input.off("click focus",o),s("html").off("click",r)},c.inline?c.open():!c.initialized&&c.params.value&&c.setValue(c.params.value),c};n.calendar=function(e){return new C(e)};var y;n.addNotification=function(e){if(e){void 0===e.media&&(e.media=n.params.notificationMedia),void 0===e.title&&(e.title=n.params.notificationTitle),void 0===e.subtitle&&(e.subtitle=n.params.notificationSubtitle),void 0===e.closeIcon&&(e.closeIcon=n.params.notificationCloseIcon),void 0===e.hold&&(e.hold=n.params.notificationHold),void 0===e.closeOnClick&&(e.closeOnClick=n.params.notificationCloseOnClick),void 0===e.button&&(e.button=n.params.notificationCloseButtonText&&{text:n.params.notificationCloseButtonText,close:!0}),y||(y=document.createElement("div")),e.material=n.params.material;var t=s(".notifications");0===t.length&&(n.root.append('<div class="notifications list-block'+(e.material?"":" media-list")+'"><ul></ul></div>'),t=s(".notifications"));var i=t.children("ul"),a=n.params.notificationTemplate||'{{#if custom}}<li>{{custom}}</li>{{else}}<li class="notification-item notification-hidden"><div class="item-content">{{#if material}}<div class="item-inner"><div class="item-title">{{js "this.message || this.title || this.subtitle"}}</div>{{#if ../button}}{{#button}}<div class="item-after"><a href="#" class="button {{#if color}}color-{{color}}{{/if}} {{#js_compare "this.close !== false"}}close-notification{{/js_compare}}">{{text}}</a></div>{{/button}}{{/if}}</div>{{else}}{{#if media}}<div class="item-media">{{media}}</div>{{/if}}<div class="item-inner"><div class="item-title-row">{{#if title}}<div class="item-title">{{title}}</div>{{/if}}{{#if closeIcon}}<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>{{/if}}</div>{{#if subtitle}}<div class="item-subtitle">{{subtitle}}</div>{{/if}}{{#if message}}<div class="item-text">{{message}}</div></div>{{/if}}{{/if}}</div></li>{{/if}}';n._compiledTemplates.notification||(n._compiledTemplates.notification=r.compile(a)),y.innerHTML=n._compiledTemplates.notification(e);var o=s(y).children();o.on("click",function(t){var i=!1,a=s(t.target);e.material&&a.hasClass("button")&&e.button&&e.button.onClick&&e.button.onClick.call(a[0],t,o[0]),a.is(".close-notification")||s(t.target).parents(".close-notification").length>0?i=!0:(e.onClick&&e.onClick(t,o[0]),e.closeOnClick&&(i=!0)),i&&n.closeNotification(o[0])}),e.onClose&&o.data("f7NotificationOnClose",function(){e.onClose(o[0])}),e.additionalClass&&o.addClass(e.additionalClass),e.hold&&setTimeout(function(){o.length>0&&n.closeNotification(o[0])},e.hold),n.params.material||n.closeNotification(i.children("li.notification-item:last-child")),i.append(o[0]),t.show();var l=o.outerHeight();return e.material?(t.transform("translate3d(0, "+l+"px, 0)"),t.transition(0),o[0].clientLeft,t.transform("translate3d(0, 0, 0)"),t.transition("")):(o.transform("translate3d(0,"+-l+"px,0)"),o.transition(0),o[0].clientLeft,o.transition(""),o.transform("translate3d(0,0px,0)")),t.transform("translate3d(0, 0,0)"),o.removeClass("notification-hidden"),o[0]}},n.closeNotification=function(e){if(e=s(e),0!==e.length&&!e.hasClass("notification-item-removing")){var t=s(".notifications"),i=e.outerHeight();e.css("height",i+"px").transition(0).addClass("notification-item-removing");e[0].clientLeft;e.css({height:"0px",marginBottom:"0px"}).transition(""),e.data("f7NotificationOnClose")&&e.data("f7NotificationOnClose")(),0===t.find(".notification-item:not(.notification-item-removing)").length&&t.transform(""),e.addClass("notification-hidden").transitionEnd(function(){e.remove(),0===t.find(".notification-item").length&&t.hide()})}},n.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||n.params.templates||{},Template7.data=Template7.data||n.params.template7Data||{},Template7.cache=Template7.cache||{},n.templates=Template7.templates,n.template7Data=Template7.data,n.template7Cache=Template7.cache,n.params.precompileTemplates&&s('script[type="text/template7"]').each(function(){var e=s(this).attr("id");e&&(Template7.templates[e]=Template7.compile(s(this).html()))}))};var x=[];return n.initPlugins=function(){for(var e in n.plugins){var t=n.plugins[e](n,n.params[e]);t&&x.push(t)}},n.pluginHook=function(e){for(var t=0;t<x.length;t++)x[t].hooks&&e in x[t].hooks&&x[t].hooks[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},n.pluginPrevent=function(e){for(var t=!1,i=0;i<x.length;i++)x[i].prevents&&e in x[i].prevents&&x[i].prevents[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(t=!0);return t},n.pluginProcess=function(e,t){for(var i=t,a=0;a<x.length;a++)x[a].preprocess&&e in x[a].preprocess&&(i=x[a].preprocess[e](t,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return i},n.init=function(){n.initTemplate7Templates&&n.initTemplate7Templates(),n.initPlugins&&n.initPlugins(),n.getDeviceInfo&&n.getDeviceInfo(),n.initFastClicks&&n.params.fastClicks&&n.initFastClicks(),n.initClickEvents&&n.initClickEvents(),s(".page:not(.cached)").each(function(){n.initPageWithCallback(this)}),s(".navbar:not(.cached)").each(function(){n.initNavbarWithCallback(this)}),n.initResize&&n.initResize(),n.initPushState&&n.params.pushState&&n.initPushState(),n.initSwipeout&&n.params.swipeout&&n.initSwipeout(),n.initSortable&&n.params.sortable&&n.initSortable(),n.initSwipePanels&&(n.params.swipePanel||n.params.swipePanelOnlyClose)&&n.initSwipePanels(),n.params.material&&n.initMaterialWatchInputs&&n.initMaterialWatchInputs(),n.params.onAppInit&&n.params.onAppInit(),n.pluginHook("appInit")},n.params.init&&n.init(),n};var e=function(){var e=function(e){var t=this,i=0;for(i=0;i<e.length;i++)t[i]=e[i];return t.length=e.length,this},t=function(t,i){var a=[],n=0;if(t&&!i&&t instanceof e)return t;if(t)if("string"==typeof t){var o,s,r;if(t=r=t.trim(),r.indexOf("<")>=0&&r.indexOf(">")>=0){var l="div";for(0===r.indexOf("<li")&&(l="ul"),0===r.indexOf("<tr")&&(l="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(l="tr"),0===r.indexOf("<tbody")&&(l="table"),0===r.indexOf("<option")&&(l="select"),s=document.createElement(l),s.innerHTML=r,n=0;n<s.childNodes.length;n++)a.push(s.childNodes[n])}else for(o=i||"#"!==t[0]||t.match(/[ .<>:~]/)?(i||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],n=0;n<o.length;n++)o[n]&&a.push(o[n])}else if(t.nodeType||t===window||t===document)a.push(t);else if(t.length>0&&t[0].nodeType)for(n=0;n<t.length;n++)a.push(t[n]);return new e(a)};e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),i=0;i<t.length;i++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&this[a].classList.add(t[i]);return this},removeClass:function(e){
for(var t=e.split(" "),i=0;i<t.length;i++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&this[a].classList.remove(t[i]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var a=0;a<this.length;a++)void 0!==this[a].classList&&this[a].classList.toggle(t[i]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(e,t);else for(var a in e)this[i][a]=e[a],this[i].setAttribute(a,e[a]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i][e]=t;else for(var a in e)this[i][a]=e[a];return this},data:function(e,t){if(void 0!==t){for(var i=0;i<this.length;i++){var a=this[i];a.dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t}return this}if(this[0]){if(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[e];var n=this[0].getAttribute("data-"+e);return n||void 0}},removeData:function(e){for(var t=0;t<this.length;t++){var i=this[t];i.dom7ElementDataStorage&&i.dom7ElementDataStorage[e]&&(i.dom7ElementDataStorage[e]=null,delete i.dom7ElementDataStorage[e])}},dataset:function(){var e=this[0];if(e){var i={};if(e.dataset)for(var a in e.dataset)i[a]=e.dataset[a];else for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];o.name.indexOf("data-")>=0&&(i[t.toCamelCase(o.name.split("data-")[1])]=o.value)}for(var s in i)"false"===i[s]?i[s]=!1:"true"===i[s]?i[s]=!0:parseFloat(i[s])===1*i[s]&&(i[s]=1*i[s]);return i}},val:function(e){if(void 0===e)return this[0]?this[0].value:void 0;for(var t=0;t<this.length;t++)this[t].value=e;return this},transform:function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this},on:function(e,i,a,n){function o(e){var n=e.target;if(t(n).is(i))a.call(n,e);else for(var o=t(n).parents(),s=0;s<o.length;s++)t(o[s]).is(i)&&a.call(o[s],e)}var s,r,l=e.split(" ");for(s=0;s<this.length;s++)if("function"==typeof i||!1===i)for("function"==typeof i&&(a=arguments[1],n=arguments[2]||!1),r=0;r<l.length;r++)this[s].addEventListener(l[r],a,n);else for(r=0;r<l.length;r++)this[s].dom7LiveListeners||(this[s].dom7LiveListeners=[]),this[s].dom7LiveListeners.push({listener:a,liveListener:o}),this[s].addEventListener(l[r],o,n);return this},off:function(e,t,i,a){for(var n=e.split(" "),o=0;o<n.length;o++)for(var s=0;s<this.length;s++)if("function"==typeof t||!1===t)"function"==typeof t&&(i=arguments[1],a=arguments[2]||!1),this[s].removeEventListener(n[o],i,a);else if(this[s].dom7LiveListeners)for(var r=0;r<this[s].dom7LiveListeners.length;r++)this[s].dom7LiveListeners[r].listener===i&&this[s].removeEventListener(n[o],this[s].dom7LiveListeners[r].liveListener,a);return this},once:function(e,t,i,a){function n(s){i.call(s.target,s),o.off(e,t,n,a)}var o=this;return"function"==typeof t&&(i=arguments[1],a=arguments[2],t=!1),o.on(e,t,n,a)},trigger:function(e,t){for(var i=e.split(" "),a=0;a<i.length;a++)for(var n=0;n<this.length;n++){var o;try{o=new CustomEvent(i[a],{detail:t,bubbles:!0,cancelable:!0})}catch(e){o=document.createEvent("Event"),o.initEvent(i[a],!0,!0),o.detail=t}this[n].dispatchEvent(o)}return this},transitionEnd:function(e){function t(o){if(o.target===this)for(e.call(this,o),i=0;i<a.length;i++)n.off(a[i],t)}var i,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(i=0;i<a.length;i++)n.on(a[i],t);return this},animationEnd:function(e){function t(o){for(e(o),i=0;i<a.length;i++)n.off(a[i],t)}var i,a=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],n=this;if(e)for(i=0;i<a.length;i++)n.on(a[i],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),i=document.body,a=e.clientTop||i.clientTop||0,n=e.clientLeft||i.clientLeft||0,o=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return{top:t.top+o-a,left:t.left+s-n}}return null},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)this[e].style.display="block";return this},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i++)for(var a in e)this[i].style[a]=e[a];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i++)this[i].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},filter:function(t){for(var i=[],a=this,n=0;n<a.length;n++)t.call(a[n],n,a[n])&&i.push(a[n]);return new e(i)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(i){if(!this[0]||void 0===i)return!1;var a,n;if("string"==typeof i){var o=this[0];if(o===document)return i===document;if(o===window)return i===window;if(o.matches)return o.matches(i);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(i);if(o.mozMatchesSelector)return o.mozMatchesSelector(i);if(o.msMatchesSelector)return o.msMatchesSelector(i);for(a=t(i),n=0;n<a.length;n++)if(a[n]===this[0])return!0;return!1}if(i===document)return this[0]===document;if(i===window)return this[0]===window;if(i.nodeType||i instanceof e){for(a=i.nodeType?[i]:i,n=0;n<a.length;n++)if(a[n]===this[0])return!0;return!1}return!1},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var i,a=this.length;return t>a-1?new e([]):t<0?(i=a+t,new e(i<0?[]:[this[i]])):new e([this[t]])},append:function(t){var i,a;for(i=0;i<this.length;i++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)this[i].appendChild(n.firstChild)}else if(t instanceof e)for(a=0;a<t.length;a++)this[i].appendChild(t[a]);else this[i].appendChild(t);return this},appendTo:function(e){return t(e).append(this),this},prepend:function(t){var i,a;for(i=0;i<this.length;i++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t,a=n.childNodes.length-1;a>=0;a--)this[i].insertBefore(n.childNodes[a],this[i].childNodes[0])}else if(t instanceof e)for(a=0;a<t.length;a++)this[i].insertBefore(t[a],this[i].childNodes[0]);else this[i].insertBefore(t,this[i].childNodes[0]);return this},prependTo:function(e){return t(e).prepend(this),this},insertBefore:function(e){for(var i=t(e),a=0;a<this.length;a++)if(1===i.length)i[0].parentNode.insertBefore(this[a],i[0]);else if(i.length>1)for(var n=0;n<i.length;n++)i[n].parentNode.insertBefore(this[a].cloneNode(!0),i[n])},insertAfter:function(e){for(var i=t(e),a=0;a<this.length;a++)if(1===i.length)i[0].parentNode.insertBefore(this[a],i[0].nextSibling);else if(i.length>1)for(var n=0;n<i.length;n++)i[n].parentNode.insertBefore(this[a].cloneNode(!0),i[n].nextSibling)},next:function(i){return new e(this.length>0?i?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(i)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(i){var a=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var o=n.nextElementSibling;i?t(o).is(i)&&a.push(o):a.push(o),n=o}return new e(a)},prev:function(i){return new e(this.length>0?i?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(i)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(i){var a=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var o=n.previousElementSibling;i?t(o).is(i)&&a.push(o):a.push(o),n=o}return new e(a)},siblings:function(e){return this.nextAll(e).add(this.prevAll(e))},parent:function(e){for(var i=[],a=0;a<this.length;a++)null!==this[a].parentNode&&(e?t(this[a].parentNode).is(e)&&i.push(this[a].parentNode):i.push(this[a].parentNode));return t(t.unique(i))},parents:function(e){for(var i=[],a=0;a<this.length;a++)for(var n=this[a].parentNode;n;)e?t(n).is(e)&&i.push(n):i.push(n),n=n.parentNode;return t(t.unique(i))},closest:function(t){var i=this;return void 0===t?new e([]):(i.is(t)||(i=i.parents(t).eq(0)),i)},find:function(t){for(var i=[],a=0;a<this.length;a++)for(var n=this[a].querySelectorAll(t),o=0;o<n.length;o++)i.push(n[o]);return new e(i)},children:function(i){for(var a=[],n=0;n<this.length;n++)for(var o=this[n].childNodes,s=0;s<o.length;s++)i?1===o[s].nodeType&&t(o[s]).is(i)&&a.push(o[s]):1===o[s].nodeType&&a.push(o[s]);return new e(t.unique(a))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},detach:function(){return this.remove()},add:function(){var e,i,a=this;for(e=0;e<arguments.length;e++){var n=t(arguments[e]);for(i=0;i<n.length;i++)a[a.length]=n[i],a.length++}return a},empty:function(){for(var e=0;e<this.length;e++){var t=this[e];if(1===t.nodeType){for(var i=0;i<t.childNodes.length;i++)t.childNodes[i].parentNode&&t.childNodes[i].parentNode.removeChild(t.childNodes[i]);t.textContent=""}}return this}},function(){for(var i="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),a="resize scroll".split(" "),n=0;n<i.length;n++)!function(i){e.prototype[i]=function(e,n,o){var s;if(void 0===e){for(s=0;s<this.length;s++)a.indexOf(i)<0&&(i in this[s]?this[s][i]():t(this[s]).trigger(i));return this}return this.on(i,e,n,o)}}(i[n])}();var i={};t.ajaxSetup=function(e){e.type&&(e.method=e.type),t.each(e,function(e,t){i[e]=t})};var a=0;t.ajax=function(e){function n(a,n,o){var s=arguments;a&&t(document).trigger(a,n),o&&(o in i&&i[o](s[3],s[4],s[5],s[6]),e[o]&&e[o](s[3],s[4],s[5],s[6]))}var o={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0},s=["beforeSend","error","complete","success","statusCode"];e.type&&(e.method=e.type),t.each(i,function(e,t){s.indexOf(e)<0&&(o[e]=t)}),t.each(o,function(t,i){t in e||(e[t]=i)}),e.url||(e.url=window.location.toString());var r=e.url.indexOf("?")>=0?"&":"?",l=e.method.toUpperCase();if(("GET"===l||"HEAD"===l||"OPTIONS"===l||"DELETE"===l)&&e.data){var c;c="string"==typeof e.data?e.data.indexOf("?")>=0?e.data.split("?")[1]:e.data:t.serializeObject(e.data),c.length&&(e.url+=r+c,"?"===r&&(r="&"))}if("json"===e.dataType&&e.url.indexOf("callback=")>=0){var d,p="f7jsonp_"+Date.now()+a++,u=e.url.split("callback="),h=u[0]+"callback="+p;if(u[1].indexOf("&")>=0){var m=u[1].split("&").filter(function(e){return e.indexOf("=")>0}).join("&");m.length>0&&(h+="&"+m)}var f=document.createElement("script");return f.type="text/javascript",f.onerror=function(){clearTimeout(d),n(void 0,void 0,"error",null,"scripterror")},f.src=h,window[p]=function(e){clearTimeout(d),n(void 0,void 0,"success",e),f.parentNode.removeChild(f),f=null,delete window[p]},document.querySelector("head").appendChild(f),void(e.timeout>0&&(d=setTimeout(function(){f.parentNode.removeChild(f),f=null,n(void 0,void 0,"error",null,"timeout")},e.timeout)))}"GET"!==l&&"HEAD"!==l&&"OPTIONS"!==l&&"DELETE"!==l||!1===e.cache&&(e.url+=r+"_nocache="+Date.now());var g=new XMLHttpRequest;g.requestUrl=e.url,g.requestParameters=e,g.open(l,e.url,e.async,e.user,e.password);var v=null;if(("POST"===l||"PUT"===l||"PATCH"===l)&&e.data)if(e.processData){var b=[ArrayBuffer,Blob,Document,FormData];if(b.indexOf(e.data.constructor)>=0)v=e.data;else{var C="---------------------------"+Date.now().toString(16);"multipart/form-data"===e.contentType?g.setRequestHeader("Content-Type","multipart/form-data; boundary="+C):g.setRequestHeader("Content-Type",e.contentType),v="";var y=t.serializeObject(e.data);if("multipart/form-data"===e.contentType){C="---------------------------"+Date.now().toString(16),y=y.split("&");for(var x=[],w=0;w<y.length;w++)x.push('Content-Disposition: form-data; name="'+y[w].split("=")[0]+'"\r\n\r\n'+y[w].split("=")[1]+"\r\n");v="--"+C+"\r\n"+x.join("--"+C+"\r\n")+"--"+C+"--\r\n"}else v="application/x-www-form-urlencoded"===e.contentType?y:y.replace(/&/g,"\r\n")}}else v=e.data;e.headers&&t.each(e.headers,function(e,t){g.setRequestHeader(e,t)}),void 0===e.crossDomain&&(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!==window.location.host),e.crossDomain||g.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.xhrFields&&t.each(e.xhrFields,function(e,t){g[e]=t});var S;return g.onload=function(t){if(S&&clearTimeout(S),g.status>=200&&g.status<300||0===g.status){var a;if("json"===e.dataType)try{a=JSON.parse(g.responseText),n("ajaxSuccess",{xhr:g},"success",a,g.status,g)}catch(e){n("ajaxError",{xhr:g,parseerror:!0},"error",g,"parseerror")}else a="text"===g.responseType||""===g.responseType?g.responseText:g.response,n("ajaxSuccess",{xhr:g},"success",a,g.status,g)}else n("ajaxError",{xhr:g},"error",g,g.status);e.statusCode&&(i.statusCode&&i.statusCode[g.status]&&i.statusCode[g.status](g),e.statusCode[g.status]&&e.statusCode[g.status](g)),n("ajaxComplete",{xhr:g},"complete",g,g.status)},g.onerror=function(e){S&&clearTimeout(S),n("ajaxError",{xhr:g},"error",g,g.status)},n("ajaxStart",{xhr:g},"start",g),n(void 0,void 0,"beforeSend",g),e.timeout>0&&(g.onabort=function(){S&&clearTimeout(S)},S=setTimeout(function(){g.abort(),n("ajaxError",{xhr:g,timeout:!0},"error",g,"timeout"),n("ajaxComplete",{xhr:g,timeout:!0},"complete",g,"timeout")},e.timeout)),g.send(v),g},function(){for(var e="get post getJSON".split(" "),i=0;i<e.length;i++)!function(e){t[e]=function(i,a,n,o){return t.ajax({url:i,method:"post"===e?"POST":"GET",data:"function"==typeof a?void 0:a,success:"function"==typeof a?a:n,error:"function"==typeof a?n:o,dataType:"getJSON"===e?"json":void 0})}}(e[i])}(),t.parseUrlQuery=function(e){var t,i,a,e=e||location.href,n={};if("string"==typeof e&&e.length){if(e=e.indexOf("#")>-1?e.split("#")[0]:e,!(e.indexOf("?")>-1))return n;for(e=e.split("?")[1],i=e.split("&"),t=0;t<i.length;t++)a=i[t].split("="),n[a[0]]=a[1]}return n},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},t.each=function(i,a){if("object"==typeof i&&a){var n,o;if(t.isArray(i)||i instanceof e)for(n=0;n<i.length;n++)a(n,i[n]);else for(o in i)i.hasOwnProperty(o)&&a(o,i[o])}},t.unique=function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t},t.serializeObject=t.param=function(e,i){function a(e){if(i.length>0){for(var t="",a=0;a<i.length;a++)t+=0===a?i[a]:"["+encodeURIComponent(i[a])+"]";return t+"["+encodeURIComponent(e)+"]"}return encodeURIComponent(e)}function n(e){return encodeURIComponent(e)}if("string"==typeof e)return e;var o=[];i=i||[];var s;for(var r in e)if(e.hasOwnProperty(r)){var l;if(t.isArray(e[r])){l=[];for(var c=0;c<e[r].length;c++)t.isArray(e[r][c])||"object"!=typeof e[r][c]?l.push(a(r)+"[]="+n(e[r][c])):(s=i.slice(),s.push(r),s.push(c+""),l.push(t.serializeObject(e[r][c],s)));l.length>0&&o.push(l.join("&"))}else null===e[r]?o.push(a(r)+"="):"object"==typeof e[r]?(s=i.slice(),s.push(r),""!==(l=t.serializeObject(e[r],s))&&o.push(l)):void 0!==e[r]&&""!==e[r]&&o.push(a(r)+"="+n(e[r]))}return o.join("&")},t.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t.dataset=function(e){return t(e).dataset()},t.getTranslate=function(e,t){var i,a,n,o;return void 0===t&&(t="x"),n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(a=n.transform||n.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new WebKitCSSMatrix("none"===a?"":a)):(o=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(a=window.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),a||0},t.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},t.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);for(var n=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],o={},s=0;s<n.length;s++)for(var r=n[s].letters,l=0;l<r.length;l++)o[r[l]]=n[s].base;return t.removeDiacritics=function(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return o[e]||e})},t.fn=e.prototype,t.fn.scrollTo=function(e,i,a,n,o){return 4===arguments.length&&"function"==typeof n&&(o=n,n=void 0),this.each(function(){function s(e){void 0===e&&(e=(new Date).getTime()),null===b&&(b=e);var i,c=Math.max(Math.min((e-b)/a,1),0),d="linear"===n?c:.5-Math.cos(c*Math.PI)/2;if(g&&(h=r+d*(p-r)),v&&(m=l+d*(u-l)),g&&p>r&&h>=p&&(f.scrollTop=p,i=!0),g&&p<r&&h<=p&&(f.scrollTop=p,i=!0),v&&u>l&&m>=u&&(f.scrollLeft=u,i=!0),v&&u<l&&m<=u&&(f.scrollLeft=u,i=!0),i)return void(o&&o());g&&(f.scrollTop=h),v&&(f.scrollLeft=m),t.requestAnimationFrame(s)}var r,l,c,d,p,u,h,m,f=this,g=i>0||0===i,v=e>0||0===e;if(void 0===n&&(n="swing"),g&&(r=f.scrollTop,a||(f.scrollTop=i)),v&&(l=f.scrollLeft,a||(f.scrollLeft=e)),a){g&&(c=f.scrollHeight-f.offsetHeight,p=Math.max(Math.min(i,c),0)),v&&(d=f.scrollWidth-f.offsetWidth,u=Math.max(Math.min(e,d),0));var b=null;g&&p===r&&(g=!1),v&&u===l&&(v=!1),t.requestAnimationFrame(s)}})},t.fn.scrollTop=function(e,t,i,a){3===arguments.length&&"function"==typeof i&&(a=i,i=void 0);var n=this;return void 0===e?n.length>0?n[0].scrollTop:null:n.scrollTo(void 0,e,t,i,a)},t.fn.scrollLeft=function(e,t,i,a){3===arguments.length&&"function"==typeof i&&(a=i,i=void 0);var n=this;return void 0===e?n.length>0?n[0].scrollLeft:null:n.scrollTo(e,void 0,t,i,a)},t}();Framework7.$=e;var t=e;window.Dom7=e;var a=function(e,i,a){i=i||{},a=a||{};var n={duration:300,easing:"swing"};for(var o in n)void 0===a[o]&&(a[o]=n[o]);var s=this;if(s.params=a,s.props=i,s.elements=t(e),0===s.elements.length)return s;s.easingProgress=function(e,t){return"swing"===e?.5-Math.cos(t*Math.PI)/2:"function"==typeof e?e(t):t},s.stop=function(){s.frameId&&t.cancelAnimationFrame(s.frameId),s.animating=!1,s.elements.each(function(e,t){delete t.animate7Instance}),s.que=[]},s.done=function(t){if(s.animating=!1,s.elements.each(function(e,t){delete t.animate7Instance}),t&&t(e),s.que.length>0){var i=s.que.shift();s.animate(i[0],i[1])}},s.animating=!1,s.que=[],s.animate=function(i,a){function n(){r=(new Date).getTime();var h,m,f;u||(u=!0,a.begin&&a.begin(e)),null===c&&(c=r),a.progress&&a.progress(s.elements,Math.max(Math.min((r-c)/a.duration,1),0),c+a.duration-r<0?0:c+a.duration-r,c);for(var g=0;g<o.length;g++)if(!l&&(f=o[g],!f.done))for(var v in i){if(h=Math.max(Math.min((r-c)/a.duration,1),0),m=s.easingProgress(a.easing,h),f[v].currentValue=f[v].initialValue+m*(f[v].finalValue-f[v].initialValue),(f[v].finalValue>f[v].initialValue&&f[v].currentValue>=f[v].finalValue||f[v].finalValue<f[v].initialValue&&f[v].currentValue<=f[v].finalValue)&&(f._container.style[v]=f[v].finalValue+f[v].unit,p++,p===Object.keys(i).length&&(f.done=!0,d++),d===o.length&&(l=!0)),l)return s.done(a.complete),s;f._container.style[v]=f[v].currentValue+f[v].unit}s.frameId=t.requestAnimationFrame(n)}if(s.animating)return s.que.push([i,a]),s;s.params=a;var o=[];s.elements.each(function(e,t){var a,n,s,r,l;o[e]={_container:t};for(var c in i)a=window.getComputedStyle(t,null).getPropertyValue(c).replace(",","."),n=parseFloat(a),s=a.replace(n,""),r=i[c],l=i[c]+s,o[e][c]={initialFullValue:a,initialValue:n,unit:s,finalValue:r,finalFullValue:l,currentValue:n}});var r,l,c=null,d=0,p=0,u=!1;return s.animating=!0,s.frameId=t.requestAnimationFrame(n),s};for(var r,l=0;l<s.elements.length;l++)s.elements[l].animate7Instance?r=s.elements[l].animate7Instance:s.elements[l].animate7Instance=s;return r?r.animate(i,a):(s.animate(i,a),s)};window.Animate7=function(e,t,i){return new a(e,t,i)},e.fn.animate=function(e,t){return new a(this,e,t),this},Framework7.prototype.support=function(){return{touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}()}}(),Framework7.prototype.device=function(){var t={},i=navigator.userAgent,a=e,n=i.match(/(Android);?[\s\/]+([\d.]+)?/),o=i.match(/(iPad).*OS\s([\d_]+)/),s=i.match(/(iPod)(.*OS\s([\d_]+))?/),r=!o&&i.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,n&&(t.os="android",t.osVersion=n[2],t.android=!0,t.androidChrome=i.toLowerCase().indexOf("chrome")>=0),(o||r||s)&&(t.os="ios",t.ios=!0),r&&!s&&(t.osVersion=r[2].replace(/_/g,"."),t.iphone=!0),o&&(t.osVersion=o[2].replace(/_/g,"."),t.ipad=!0),s&&(t.osVersion=s[3]?s[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&i.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=i.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(r||o||s)&&i.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var l=t.osVersion.split(".");t.minimalUi=!t.webView&&(s||r)&&(1*l[0]==7?1*l[1]>=1:1*l[0]>7)&&a('meta[name="viewport"]').length>0&&a('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=a(window).width(),d=a(window).height();t.statusBar=!1,t.webView&&c*d==screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var p=[];if(t.pixelRatio=window.devicePixelRatio||1,p.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&p.push("retina"),t.os&&(p.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var u=parseInt(t.osVersion.split(".")[0],10),h=u-1;h>=6;h--)p.push("ios-gt-"+h);return t.statusBar?p.push("with-statusbar-overlay"):a("html").removeClass("with-statusbar-overlay"),p.length>0&&a("html").addClass(p.join(" ")),t}(),Framework7.prototype.plugins={},window.Template7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function i(e){return"undefined"!=typeof window&&window.escape?window.escape(e):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function a(e){var t,i,a,n=e.replace(/[{}#}]/g,"").split(" "),r=[];for(i=0;i<n.length;i++){var l,c,d=n[i];if(0===i)r.push(d);else if(0===d.indexOf('"')||0===d.indexOf("'"))if(l=0===d.indexOf('"')?s:o,c=0===d.indexOf('"')?'"':"'",2===d.match(l).length)r.push(d);else{for(t=0,a=i+1;a<n.length;a++)if(d+=" "+n[a],n[a].indexOf(c)>=0){t=a,r.push(d);break}t&&(i=t)}else if(d.indexOf("=")>0){var p=d.split("="),u=p[0],h=p[1];if(2!==h.match(l).length){for(t=0,a=i+1;a<n.length;a++)if(h+=" "+n[a],n[a].indexOf(c)>=0){t=a;break}t&&(i=t)}var m=[u,h.replace(l,"")];r.push(m)}else r.push(d)}return r}function n(t){var i,n,o=[];if(!t)return[];var s=t.split(/({{[^{^}]*}})/);for(i=0;i<s.length;i++){var r=s[i];if(""!==r)if(r.indexOf("{{")<0)o.push({type:"plain",content:r});else{if(r.indexOf("{/")>=0)continue;if(r.indexOf("{#")<0&&r.indexOf(" ")<0&&r.indexOf("else")<0){o.push({type:"variable",contextName:r.replace(/[{}]/g,"")});continue}var l=a(r),c=l[0],d=">"===c,p=[],u={};for(n=1;n<l.length;n++){var h=l[n];e(h)?u[h[0]]="false"!==h[1]&&h[1]:p.push(h)}if(r.indexOf("{#")>=0){var m,f="",g="",v=0,b=!1,C=!1,y=0;for(n=i+1;n<s.length;n++)if(s[n].indexOf("{{#")>=0&&y++,s[n].indexOf("{{/")>=0&&y--,s[n].indexOf("{{#"+c)>=0)f+=s[n],C&&(g+=s[n]),v++;else if(s[n].indexOf("{{/"+c)>=0){if(!(v>0)){m=n,b=!0;break}v--,f+=s[n],C&&(g+=s[n])}else s[n].indexOf("else")>=0&&0===y?C=!0:(C||(f+=s[n]),C&&(g+=s[n]));b&&(m&&(i=m),o.push({type:"helper",helperName:c,contextName:p,content:f,inverseContent:g,hash:u}))}else r.indexOf(" ")>0&&(d&&(c="_partial",p[0]&&(p[0]='"'+p[0].replace(/"|'/g,"")+'"')),o.push({type:"helper",helperName:c,contextName:p,hash:u}))}}return o}var o=new RegExp("'","g"),s=new RegExp('"',"g"),r=function(e,t){function i(e,t){return e.content?r(e.content,t):function(){return""}}function a(e,t){return e.inverseContent?r(e.inverseContent,t):function(){return""}}function o(e,t){var i,a,n=0;if(0===e.indexOf("../")){n=e.split("../").length-1;var o=t.split("_")[1]-n;t="ctx_"+(o>=1?o:1),a=e.split("../")[n].split(".")}else 0===e.indexOf("@global")?(t="Template7.global",a=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="root",a=e.split("@root.")[1].split(".")):a=e.split(".");i=t;for(var s=0;s<a.length;s++){var r=a[s];0===r.indexOf("@")?s>0?i+="[(data && data."+r.replace("@","")+")]":i="(data && data."+e.replace("@","")+")":isFinite(r)?i+="["+r+"]":"this"===r||r.indexOf("this.")>=0||r.indexOf("this[")>=0||r.indexOf("this(")>=0?i=r.replace("this",t):i+="."+r}return i}function s(e,t){for(var i=[],a=0;a<e.length;a++)/^['"]/.test(e[a])?i.push(e[a]):/^(true|false|\d+)$/.test(e[a])?i.push(e[a]):i.push(o(e[a],t));return i.join(", ")}function r(e,t){if(t=t||1,"string"!=typeof(e=e||l.template))throw new Error("Template7: Template must be a string");var r=n(e);if(0===r.length)return function(){return""};var c="ctx_"+t,d="";d+=1===t?"(function ("+c+", data, root) {\n":"(function ("+c+", data) {\n",1===t&&(d+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",d+="function isFunction(func){return (typeof func === 'function');}\n",d+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',d+="root = root || ctx_1 || {};\n"),d+="var r = '';\n";var p;for(p=0;p<r.length;p++){var u=r[p];if("plain"!==u.type){var h,m;if("variable"===u.type&&(h=o(u.contextName,c),d+="r += c("+h+", "+c+");"),"helper"===u.type)if(u.helperName in l.helpers)m=s(u.contextName,c),d+="r += (Template7.helpers."+u.helperName+").call("+c+", "+(m&&m+", ")+"{hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+i(u,t+1)+", inverse: "+a(u,t+1)+", root: root});";else{if(u.contextName.length>0)throw new Error('Template7: Missing helper: "'+u.helperName+'"');h=o(u.helperName,c),d+="if ("+h+") {",d+="if (isArray("+h+")) {",d+="r += (Template7.helpers.each).call("+c+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+i(u,t+1)+", inverse: "+a(u,t+1)+", root: root});",d+="}else {",d+="r += (Template7.helpers.with).call("+c+", "+h+", {hash:"+JSON.stringify(u.hash)+", data: data || {}, fn: "+i(u,t+1)+", inverse: "+a(u,t+1)+", root: root});",d+="}}"}}else d+="r +='"+u.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return d+="\nreturn r;})",eval.call(window,d)}var l=this;l.template=e,l.compile=function(e){return l.compiled||(l.compiled=r(e)),l.compiled}};r.prototype={options:{},partials:{},helpers:{_partial:function(e,t){var i=r.prototype.partials[e];if(!i||i&&!i.template)return"";i.compiled||(i.compiled=new r(i.template).compile());var a=this;for(var n in t.hash)a[n]=t.hash[n];return i.compiled(a,t.data,t.root)},escape:function(e,t){
if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return i(e)},if:function(e,i){return t(e)&&(e=e.call(this)),e?i.fn(this,i.data):i.inverse(this,i.data)},unless:function(e,i){return t(e)&&(e=e.call(this)),e?i.inverse(this,i.data):i.fn(this,i.data)},each:function(i,a){var n="",o=0;if(t(i)&&(i=i.call(this)),e(i)){for(a.hash.reverse&&(i=i.reverse()),o=0;o<i.length;o++)n+=a.fn(i[o],{first:0===o,last:o===i.length-1,index:o});a.hash.reverse&&(i=i.reverse())}else for(var s in i)o++,n+=a.fn(i[s],{key:s});return o>0?n:a.inverse(this)},with:function(e,i){return t(e)&&(e=e.call(this)),i.fn(e)},join:function(e,i){return t(e)&&(e=e.call(this)),e.join(i.hash.delimiter||i.hash.delimeter)},js:function(e,t){var i;return i=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,i).call(this)},js_compare:function(e,t){var i;return i=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,i).call(this)?t.fn(this,t.data):t.inverse(this,t.data)}}};var l=function(e,t){if(2===arguments.length){var i=new r(e),a=i.compile()(t);return i=null,a}return new r(e)};return l.registerHelper=function(e,t){r.prototype.helpers[e]=t},l.unregisterHelper=function(e){r.prototype.helpers[e]=void 0,delete r.prototype.helpers[e]},l.registerPartial=function(e,t){r.prototype.partials[e]={template:t}},l.unregisterPartial=function(e,t){r.prototype.partials[e]&&(r.prototype.partials[e]=void 0,delete r.prototype.partials[e])},l.compile=function(e,t){return new r(e,t).compile()},l.options=r.prototype.options,l.helpers=r.prototype.helpers,l.partials=r.prototype.partials,l}(),window.Swiper=function(a,n){function o(e){return Math.floor(e)}function s(){var e=b.params.autoplay,t=b.slides.eq(b.activeIndex);t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||b.params.autoplay),b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext(),b.emit("onAutoplay",b)):b.isEnd?n.autoplayStopOnLast?b.stopAutoplay():(b._slideTo(0),b.emit("onAutoplay",b)):(b._slideNext(),b.emit("onAutoplay",b))},e)}function r(e,i){var a=t(e.target);if(!a.is(i))if("string"==typeof i)a=a.parents(i);else if(i.nodeType){var n;return a.parents().each(function(e,t){t===i&&(n=i)}),n?i:void 0}if(0!==a.length)return a[0]}function l(e,t){t=t||{};var i=window.MutationObserver||window.WebkitMutationObserver,a=new i(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});a.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),b.observers.push(a)}function c(e,i){e=t(e);var a,n,o,s=b.rtl?-1:1;a=e.attr("data-swiper-parallax")||"0",n=e.attr("data-swiper-parallax-x"),o=e.attr("data-swiper-parallax-y"),n||o?(n=n||"0",o=o||"0"):b.isHorizontal()?(n=a,o="0"):(o=a,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*i*s+"%":n*i*s+"px",o=o.indexOf("%")>=0?parseInt(o,10)*i+"%":o*i+"px",e.transform("translate3d("+n+", "+o+",0px)")}function d(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof Swiper))return new Swiper(a,n);var p={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},u=n&&n.virtualTranslate;n=n||{};var h={};for(var m in n)if("object"!=typeof n[m]||null===n[m]||(n[m].nodeType||n[m]===window||n[m]===document||void 0!==e&&n[m]instanceof e||"undefined"!=typeof jQuery&&n[m]instanceof jQuery))h[m]=n[m];else{h[m]={};for(var f in n[m])h[m][f]=n[m][f]}for(var g in p)if(void 0===n[g])n[g]=p[g];else if("object"==typeof n[g])for(var v in p[g])void 0===n[g][v]&&(n[g][v]=p[g][v]);var b=this;if(b.params=n,b.originalParams=h,b.classNames=[],void 0!==t&&void 0!==e&&(t=e),(void 0!==t||(t=void 0===e?window.Dom7||window.Zepto||window.jQuery:e))&&(b.$=t,b.currentBreakpoint=void 0,b.getActiveBreakpoint=function(){if(!b.params.breakpoints)return!1;var e,t=!1,i=[];for(e in b.params.breakpoints)b.params.breakpoints.hasOwnProperty(e)&&i.push(e);i.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var a=0;a<i.length;a++)(e=i[a])>=window.innerWidth&&!t&&(t=e);return t||"max"},b.setBreakpoint=function(){var e=b.getActiveBreakpoint();if(e&&b.currentBreakpoint!==e){var t=e in b.params.breakpoints?b.params.breakpoints[e]:b.originalParams,i=b.params.loop&&t.slidesPerView!==b.params.slidesPerView;for(var a in t)b.params[a]=t[a];b.currentBreakpoint=e,i&&b.destroyLoop&&b.reLoop(!0)}},b.params.breakpoints&&b.setBreakpoint(),b.container=t(a),0!==b.container.length)){if(b.container.length>1){var C=[];return b.container.each(function(){C.push(new Swiper(this,n))}),C}b.container[0].swiper=b,b.container.data("swiper",b),b.classNames.push(b.params.containerModifierClass+b.params.direction),b.params.freeMode&&b.classNames.push(b.params.containerModifierClass+"free-mode"),b.support.flexbox||(b.classNames.push(b.params.containerModifierClass+"no-flexbox"),b.params.slidesPerColumn=1),b.params.autoHeight&&b.classNames.push(b.params.containerModifierClass+"autoheight"),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),b.params.touchReleaseOnEdges&&(b.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(b.params.effect)>=0&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push(b.params.containerModifierClass+"3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push(b.params.containerModifierClass+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0,b.params.setWrapperSize=!1),"fade"!==b.params.effect&&"flip"!==b.params.effect||(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,b.params.spaceBetween=0,b.params.setWrapperSize=!1,void 0===u&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=t(b.params.pagination),b.params.uniqueNavElements&&"string"==typeof b.params.pagination&&b.paginationContainer.length>1&&1===b.container.find(b.params.pagination).length&&(b.paginationContainer=b.container.find(b.params.pagination)),"bullets"===b.params.paginationType&&b.params.paginationClickable?b.paginationContainer.addClass(b.params.paginationModifierClass+"clickable"):b.params.paginationClickable=!1,b.paginationContainer.addClass(b.params.paginationModifierClass+b.params.paginationType)),(b.params.nextButton||b.params.prevButton)&&(b.params.nextButton&&(b.nextButton=t(b.params.nextButton),b.params.uniqueNavElements&&"string"==typeof b.params.nextButton&&b.nextButton.length>1&&1===b.container.find(b.params.nextButton).length&&(b.nextButton=b.container.find(b.params.nextButton))),b.params.prevButton&&(b.prevButton=t(b.params.prevButton),b.params.uniqueNavElements&&"string"==typeof b.params.prevButton&&b.prevButton.length>1&&1===b.container.find(b.params.prevButton).length&&(b.prevButton=b.container.find(b.params.prevButton)))),b.isHorizontal=function(){return"horizontal"===b.params.direction},b.rtl=b.isHorizontal()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push(b.params.containerModifierClass+"rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),b.params.slidesPerColumn>1&&b.classNames.push(b.params.containerModifierClass+"multirow"),b.device.android&&b.classNames.push(b.params.containerModifierClass+"android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1,!1===b.params.allowSwipeToPrev&&b.params.grabCursor&&b.unsetGrabCursor()},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1,!1===b.params.allowSwipeToNext&&b.params.grabCursor&&b.unsetGrabCursor()},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1,b.params.grabCursor&&b.unsetGrabCursor()},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0,!0===b.params.allowSwipeToPrev&&b.params.grabCursor&&b.setGrabCursor()},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0,!0===b.params.allowSwipeToNext&&b.params.grabCursor&&b.setGrabCursor()},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0,b.params.grabCursor&&b.setGrabCursor()},b.setGrabCursor=function(e){b.container[0].style.cursor="move",b.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",b.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",b.container[0].style.cursor=e?"grabbing":"grab"},b.unsetGrabCursor=function(){b.container[0].style.cursor=""},b.params.grabCursor&&b.setGrabCursor(),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,t,i,a,n,o){function s(){o&&o()}var r;e.complete&&n?s():t?(r=new window.Image,r.onload=s,r.onerror=s,a&&(r.sizes=a),i&&(r.srcset=i),t&&(r.src=t)):s()},b.preloadImages=function(){function e(){void 0!==b&&null!==b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var t=0;t<b.imagesToLoad.length;t++)b.loadImage(b.imagesToLoad[t],b.imagesToLoad[t].currentSrc||b.imagesToLoad[t].getAttribute("src"),b.imagesToLoad[t].srcset||b.imagesToLoad[t].getAttribute("srcset"),b.imagesToLoad[t].sizes||b.imagesToLoad[t].getAttribute("sizes"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return void 0===b.autoplayTimeoutId&&(!!b.params.autoplay&&(!b.autoplaying&&(b.autoplaying=!0,b.emit("onAutoplayStart",b),void s())))},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,s()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?s():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateAutoHeight=function(){var e=[],t=0;if("auto"!==b.params.slidesPerView&&b.params.slidesPerView>1)for(i=0;i<Math.ceil(b.params.slidesPerView);i++){var a=b.activeIndex+i;if(a>b.slides.length)break;e.push(b.slides.eq(a)[0])}else e.push(b.slides.eq(b.activeIndex)[0]);for(i=0;i<e.length;i++)if(void 0!==e[i]){var n=e[i].offsetHeight;t=n>t?n:t}t&&b.wrapper.css("height",t+"px")},b.updateContainerSize=function(){var e,t;e=void 0!==b.params.width?b.params.width:b.container[0].clientWidth,t=void 0!==b.params.height?b.params.height:b.container[0].clientHeight,0===e&&b.isHorizontal()||0===t&&!b.isHorizontal()||(e=e-parseInt(b.container.css("padding-left"),10)-parseInt(b.container.css("padding-right"),10),t=t-parseInt(b.container.css("padding-top"),10)-parseInt(b.container.css("padding-bottom"),10),b.width=e,b.height=t,b.size=b.isHorizontal()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e,t=b.params.spaceBetween,i=-b.params.slidesOffsetBefore,a=0,n=0;if(void 0!==b.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*b.size),b.virtualSize=-t,b.rtl?b.slides.css({marginLeft:"",marginTop:""}):b.slides.css({marginRight:"",marginBottom:""});var s;b.params.slidesPerColumn>1&&(s=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn,"auto"!==b.params.slidesPerView&&"row"===b.params.slidesPerColumnFill&&(s=Math.max(s,b.params.slidesPerView*b.params.slidesPerColumn)));var r,l=b.params.slidesPerColumn,c=s/l,d=c-(b.params.slidesPerColumn*c-b.slides.length);for(e=0;e<b.slides.length;e++){r=0;var p=b.slides.eq(e);if(b.params.slidesPerColumn>1){var u,h,m;"column"===b.params.slidesPerColumnFill?(h=Math.floor(e/l),m=e-h*l,(h>d||h===d&&m===l-1)&&++m>=l&&(m=0,h++),u=h+m*s/l,p.css({"-webkit-box-ordinal-group":u,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})):(m=Math.floor(e/c),h=e-m*c),p.css("margin-"+(b.isHorizontal()?"top":"left"),0!==m&&b.params.spaceBetween&&b.params.spaceBetween+"px").attr("data-swiper-column",h).attr("data-swiper-row",m)}"none"!==p.css("display")&&("auto"===b.params.slidesPerView?(r=b.isHorizontal()?p.outerWidth(!0):p.outerHeight(!0),b.params.roundLengths&&(r=o(r))):(r=(b.size-(b.params.slidesPerView-1)*t)/b.params.slidesPerView,b.params.roundLengths&&(r=o(r)),b.isHorizontal()?b.slides[e].style.width=r+"px":b.slides[e].style.height=r+"px"),b.slides[e].swiperSlideSize=r,b.slidesSizesGrid.push(r),b.params.centeredSlides?(i=i+r/2+a/2+t,0===e&&(i=i-b.size/2-t),Math.abs(i)<.001&&(i=0),n%b.params.slidesPerGroup==0&&b.snapGrid.push(i),b.slidesGrid.push(i)):(n%b.params.slidesPerGroup==0&&b.snapGrid.push(i),b.slidesGrid.push(i),i=i+r+t),b.virtualSize+=r+t,a=r,n++)}b.virtualSize=Math.max(b.virtualSize,b.size)+b.params.slidesOffsetAfter;var f;if(b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.support.flexbox&&!b.params.setWrapperSize||(b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"})),b.params.slidesPerColumn>1&&(b.virtualSize=(r+b.params.spaceBetween)*s,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(f=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<b.virtualSize+b.snapGrid[0]&&f.push(b.snapGrid[e]);b.snapGrid=f}if(!b.params.centeredSlides){for(f=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<=b.virtualSize-b.size&&f.push(b.snapGrid[e]);b.snapGrid=f,Math.floor(b.virtualSize-b.size)-Math.floor(b.snapGrid[b.snapGrid.length-1])>1&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&(b.isHorizontal()?b.rtl?b.slides.css({marginLeft:t+"px"}):b.slides.css({marginRight:t+"px"}):b.slides.css({marginBottom:t+"px"})),b.params.watchSlidesProgress&&b.updateSlidesOffset()}},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=b.isHorizontal()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.updateSlidesProgress=function(e){if(void 0===e&&(e=b.translate||0),0!==b.slides.length){void 0===b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var t=-e;b.rtl&&(t=e),b.slides.removeClass(b.params.slideVisibleClass);for(var i=0;i<b.slides.length;i++){var a=b.slides[i],n=(t+(b.params.centeredSlides?b.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var o=-(t-a.swiperSlideOffset),s=o+b.slidesSizesGrid[i];(o>=0&&o<b.size||s>0&&s<=b.size||o<=0&&s>=b.size)&&b.slides.eq(i).addClass(b.params.slideVisibleClass)}a.progress=b.rtl?-n:n}}},b.updateProgress=function(e){void 0===e&&(e=b.translate||0);var t=b.maxTranslate()-b.minTranslate(),i=b.isBeginning,a=b.isEnd;0===t?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/t,b.isBeginning=b.progress<=0,b.isEnd=b.progress>=1),b.isBeginning&&!i&&b.emit("onReachBeginning",b),b.isEnd&&!a&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e,t,i,a=b.rtl?b.translate:-b.translate;for(t=0;t<b.slidesGrid.length;t++)void 0!==b.slidesGrid[t+1]?a>=b.slidesGrid[t]&&a<b.slidesGrid[t+1]-(b.slidesGrid[t+1]-b.slidesGrid[t])/2?e=t:a>=b.slidesGrid[t]&&a<b.slidesGrid[t+1]&&(e=t+1):a>=b.slidesGrid[t]&&(e=t);b.params.normalizeSlideIndex&&(e<0||void 0===e)&&(e=0),i=Math.floor(e/b.params.slidesPerGroup),i>=b.snapGrid.length&&(i=b.snapGrid.length-1),e!==b.activeIndex&&(b.snapIndex=i,b.previousIndex=b.activeIndex,b.activeIndex=e,b.updateClasses(),b.updateRealIndex())},b.updateRealIndex=function(){b.realIndex=b.slides.eq(b.activeIndex).attr("data-swiper-slide-index")||b.activeIndex},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass+" "+b.params.slideDuplicateActiveClass+" "+b.params.slideDuplicateNextClass+" "+b.params.slideDuplicatePrevClass);var e=b.slides.eq(b.activeIndex);e.addClass(b.params.slideActiveClass),n.loop&&(e.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+b.realIndex+'"]').addClass(b.params.slideDuplicateActiveClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+b.realIndex+'"]').addClass(b.params.slideDuplicateActiveClass));var i=e.next("."+b.params.slideClass).addClass(b.params.slideNextClass);b.params.loop&&0===i.length&&(i=b.slides.eq(0),i.addClass(b.params.slideNextClass));var a=e.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass);if(b.params.loop&&0===a.length&&(a=b.slides.eq(-1),a.addClass(b.params.slidePrevClass)),n.loop&&(i.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicateNextClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicateNextClass),a.hasClass(b.params.slideDuplicateClass)?b.wrapper.children("."+b.params.slideClass+":not(."+b.params.slideDuplicateClass+')[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicatePrevClass):b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+a.attr("data-swiper-slide-index")+'"]').addClass(b.params.slideDuplicatePrevClass)),b.paginationContainer&&b.paginationContainer.length>0){var o,s=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?(o=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup),o>b.slides.length-1-2*b.loopedSlides&&(o-=b.slides.length-2*b.loopedSlides),o>s-1&&(o-=s),o<0&&"bullets"!==b.params.paginationType&&(o=s+o)):o=void 0!==b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===b.params.paginationType&&b.bullets&&b.bullets.length>0&&(b.bullets.removeClass(b.params.bulletActiveClass),b.paginationContainer.length>1?b.bullets.each(function(){t(this).index()===o&&t(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(o).addClass(b.params.bulletActiveClass)),"fraction"===b.params.paginationType&&(b.paginationContainer.find("."+b.params.paginationCurrentClass).text(o+1),b.paginationContainer.find("."+b.params.paginationTotalClass).text(s)),"progress"===b.params.paginationType){var r=(o+1)/s,l=r,c=1;b.isHorizontal()||(c=r,l=1),b.paginationContainer.find("."+b.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+c+")").transition(b.params.speed)}"custom"===b.params.paginationType&&b.params.paginationCustomRender&&(b.paginationContainer.html(b.params.paginationCustomRender(b,o+1,s)),b.emit("onPaginationRendered",b,b.paginationContainer[0]))}b.params.loop||(b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.isBeginning?(b.prevButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.prevButton)):(b.prevButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.prevButton))),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.isEnd?(b.nextButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.nextButton)):(b.nextButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.nextButton))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&b.paginationContainer.length>0){var e="";if("bullets"===b.params.paginationType){for(var t=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,i=0;i<t;i++)b.params.paginationBulletRender?e+=b.params.paginationBulletRender(b,i,b.params.bulletClass):e+="<"+b.params.paginationElement+' class="'+b.params.bulletClass+'"></'+b.params.paginationElement+">";b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass),b.params.paginationClickable&&b.params.a11y&&b.a11y&&b.a11y.initPagination()}"fraction"===b.params.paginationType&&(e=b.params.paginationFractionRender?b.params.paginationFractionRender(b,b.params.paginationCurrentClass,b.params.paginationTotalClass):'<span class="'+b.params.paginationCurrentClass+'"></span> / <span class="'+b.params.paginationTotalClass+'"></span>',b.paginationContainer.html(e)),"progress"===b.params.paginationType&&(e=b.params.paginationProgressRender?b.params.paginationProgressRender(b,b.params.paginationProgressbarClass):'<span class="'+b.params.paginationProgressbarClass+'"></span>',b.paginationContainer.html(e)),"custom"!==b.params.paginationType&&b.emit("onPaginationRendered",b,b.paginationContainer[0])}},b.update=function(e){function t(){b.rtl,b.translate;i=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(i),b.updateActiveIndex(),b.updateClasses()}if(b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),e){var i;b.controller&&b.controller.spline&&(b.controller.spline=void 0),b.params.freeMode?(t(),b.params.autoHeight&&b.updateAutoHeight()):(("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0))||t()}else b.params.autoHeight&&b.updateAutoHeight()},b.onResize=function(e){b.params.breakpoints&&b.setBreakpoint();var t=b.params.allowSwipeToPrev,i=b.params.allowSwipeToNext;b.params.allowSwipeToPrev=b.params.allowSwipeToNext=!0,b.updateContainerSize(),b.updateSlidesSize(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.controller&&b.controller.spline&&(b.controller.spline=void 0);var a=!1;if(b.params.freeMode){var n=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(n),b.updateActiveIndex(),b.updateClasses(),b.params.autoHeight&&b.updateAutoHeight()}else b.updateClasses(),a=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0);b.params.lazyLoading&&!a&&b.lazy&&b.lazy.load(),b.params.allowSwipeToPrev=t,b.params.allowSwipeToNext=i},b.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?b.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(b.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":b.touchEventsDesktop.start,move:b.support.touch||!b.params.simulateTouch?"touchmove":b.touchEventsDesktop.move,end:b.support.touch||!b.params.simulateTouch?"touchend":b.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",a="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],o=b.support.touch?a:document,s=!!b.params.nested;if(b.browser.ie)a[i](b.touchEvents.start,b.onTouchStart,!1),o[i](b.touchEvents.move,b.onTouchMove,s),o[i](b.touchEvents.end,b.onTouchEnd,!1);else{if(b.support.touch){var r=!("touchstart"!==b.touchEvents.start||!b.support.passiveListener||!b.params.passiveListeners)&&{passive:!0,capture:!1};a[i](b.touchEvents.start,b.onTouchStart,r),a[i](b.touchEvents.move,b.onTouchMove,s),a[i](b.touchEvents.end,b.onTouchEnd,r)}(n.simulateTouch&&!b.device.ios&&!b.device.android||n.simulateTouch&&!b.support.touch&&b.device.ios)&&(a[i]("mousedown",b.onTouchStart,!1),document[i]("mousemove",b.onTouchMove,s),document[i]("mouseup",b.onTouchEnd,!1))}window[i]("resize",b.onResize),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.nextButton[t]("click",b.onClickNext),b.params.a11y&&b.a11y&&b.nextButton[t]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.prevButton[t]("click",b.onClickPrev),b.params.a11y&&b.a11y&&b.prevButton[t]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&(b.paginationContainer[t]("click","."+b.params.bulletClass,b.onClickIndex),b.params.a11y&&b.a11y&&b.paginationContainer[t]("keydown","."+b.params.bulletClass,b.a11y.onEnterKey)),(b.params.preventClicks||b.params.preventClicksPropagation)&&a[i]("click",b.preventClicks,!0)},b.attachEvents=function(){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&b.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),b.isEnd&&!b.params.loop||b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),b.isBeginning&&!b.params.loop||b.slidePrev()},b.onClickIndex=function(e){e.preventDefault();var i=t(this).index()*b.params.slidesPerGroup;b.params.loop&&(i+=b.loopedSlides),b.slideTo(i)},b.updateClickedSlide=function(e){var i=r(e,"."+b.params.slideClass),a=!1;if(i)for(var n=0;n<b.slides.length;n++)b.slides[n]===i&&(a=!0);if(!i||!a)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=i,b.clickedIndex=t(i).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var o,s=b.clickedIndex;if(b.params.loop){if(b.animating)return;o=t(b.clickedSlide).attr("data-swiper-slide-index"),b.params.centeredSlides?s<b.loopedSlides-b.params.slidesPerView/2||s>b.slides.length-b.loopedSlides+b.params.slidesPerView/2?(b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+b.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){b.slideTo(s)},0)):b.slideTo(s):s>b.slides.length-b.params.slidesPerView?(b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+b.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){b.slideTo(s)},0)):b.slideTo(s)}else b.slideTo(s)}};var y,x,w,S,T,k,A,E,_,I,M="input, select, textarea, button, video",P=Date.now(),L=[];b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var R,N;b.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),(R="touchstart"===e.type)||!("which"in e)||3!==e.which){if(b.params.noSwiping&&r(e,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||r(e,b.params.swipeHandler)){var i=b.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,a=b.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(b.device.ios&&b.params.iOSEdgeSwipeDetection&&i<=b.params.iOSEdgeSwipeThreshold)){if(y=!0,x=!1,w=!0,T=void 0,N=void 0,b.touches.startX=i,b.touches.startY=a,S=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,b.params.threshold>0&&(E=!1),"touchstart"!==e.type){var n=!0;t(e.target).is(M)&&(n=!1),document.activeElement&&t(document.activeElement).is(M)&&document.activeElement.blur(),n&&e.preventDefault()}b.emit("onTouchStart",b,e)}}}},b.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!R||"mousemove"!==e.type){
if(e.preventedByNestedSwiper)return b.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(b.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(b.params.onlyExternal)return b.allowClick=!1,void(y&&(b.touches.startX=b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.startY=b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,S=Date.now()));if(R&&b.params.touchReleaseOnEdges&&!b.params.loop)if(b.isHorizontal()){if(b.touches.currentX<b.touches.startX&&b.translate<=b.maxTranslate()||b.touches.currentX>b.touches.startX&&b.translate>=b.minTranslate())return}else if(b.touches.currentY<b.touches.startY&&b.translate<=b.maxTranslate()||b.touches.currentY>b.touches.startY&&b.translate>=b.minTranslate())return;if(R&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(M))return x=!0,void(b.allowClick=!1);if(w&&b.emit("onTouchMove",b,e),!(e.targetTouches&&e.targetTouches.length>1)){if(b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,void 0===T){var i;b.isHorizontal()&&b.touches.currentY===b.touches.startY||!b.isHorizontal()&&b.touches.currentX!==b.touches.startX?T=!1:(i=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI,T=b.isHorizontal()?i>b.params.touchAngle:90-i>b.params.touchAngle)}if(T&&b.emit("onTouchMoveOpposite",b,e),void 0===N&&b.browser.ieTouch&&(b.touches.currentX===b.touches.startX&&b.touches.currentY===b.touches.startY||(N=!0)),y){if(T)return void(y=!1);if(N||!b.browser.ieTouch){b.allowClick=!1,b.emit("onSliderMove",b,e),e.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&e.stopPropagation(),x||(n.loop&&b.fixLoop(),A=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),I=!1,!b.params.grabCursor||!0!==b.params.allowSwipeToNext&&!0!==b.params.allowSwipeToPrev||b.setGrabCursor(!0)),x=!0;var a=b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;a*=b.params.touchRatio,b.rtl&&(a=-a),b.swipeDirection=a>0?"prev":"next",k=a+A;var o=!0;if(a>0&&k>b.minTranslate()?(o=!1,b.params.resistance&&(k=b.minTranslate()-1+Math.pow(-b.minTranslate()+A+a,b.params.resistanceRatio))):a<0&&k<b.maxTranslate()&&(o=!1,b.params.resistance&&(k=b.maxTranslate()+1-Math.pow(b.maxTranslate()-A-a,b.params.resistanceRatio))),o&&(e.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&k<A&&(k=A),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&k>A&&(k=A),b.params.threshold>0){if(!(Math.abs(a)>b.params.threshold||E))return void(k=A);if(!E)return E=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,k=A,void(b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}b.params.followFinger&&((b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===L.length&&L.push({position:b.touches[b.isHorizontal()?"startX":"startY"],time:S}),L.push({position:b.touches[b.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(k),b.setWrapperTranslate(k))}}}}},b.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),w&&b.emit("onTouchEnd",b,e),w=!1,y){b.params.grabCursor&&x&&y&&(!0===b.params.allowSwipeToNext||!0===b.params.allowSwipeToPrev)&&b.setGrabCursor(!1);var i=Date.now(),a=i-S;if(b.allowClick&&(b.updateClickedSlide(e),b.emit("onTap",b,e),a<300&&i-P>300&&(_&&clearTimeout(_),_=setTimeout(function(){b&&(b.params.paginationHide&&b.paginationContainer.length>0&&!t(e.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,e))},300)),a<300&&i-P<300&&(_&&clearTimeout(_),b.emit("onDoubleTap",b,e))),P=Date.now(),setTimeout(function(){b&&(b.allowClick=!0)},0),!y||!x||!b.swipeDirection||0===b.touches.diff||k===A)return void(y=x=!1);y=x=!1;var n;if(n=b.params.followFinger?b.rtl?b.translate:-b.translate:-k,b.params.freeMode){if(n<-b.minTranslate())return void b.slideTo(b.activeIndex);if(n>-b.maxTranslate())return void(b.slides.length<b.snapGrid.length?b.slideTo(b.snapGrid.length-1):b.slideTo(b.slides.length-1));if(b.params.freeModeMomentum){if(L.length>1){var o=L.pop(),s=L.pop(),r=o.position-s.position,l=o.time-s.time;b.velocity=r/l,b.velocity=b.velocity/2,Math.abs(b.velocity)<b.params.freeModeMinimumVelocity&&(b.velocity=0),(l>150||(new window.Date).getTime()-o.time>300)&&(b.velocity=0)}else b.velocity=0;b.velocity=b.velocity*b.params.freeModeMomentumVelocityRatio,L.length=0;var c=1e3*b.params.freeModeMomentumRatio,d=b.velocity*c,p=b.translate+d;b.rtl&&(p=-p);var u,h=!1,m=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(p<b.maxTranslate())b.params.freeModeMomentumBounce?(p+b.maxTranslate()<-m&&(p=b.maxTranslate()-m),u=b.maxTranslate(),h=!0,I=!0):p=b.maxTranslate();else if(p>b.minTranslate())b.params.freeModeMomentumBounce?(p-b.minTranslate()>m&&(p=b.minTranslate()+m),u=b.minTranslate(),h=!0,I=!0):p=b.minTranslate();else if(b.params.freeModeSticky){var f,g=0;for(g=0;g<b.snapGrid.length;g+=1)if(b.snapGrid[g]>-p){f=g;break}p=Math.abs(b.snapGrid[f]-p)<Math.abs(b.snapGrid[f-1]-p)||"next"===b.swipeDirection?b.snapGrid[f]:b.snapGrid[f-1],b.rtl||(p=-p)}if(0!==b.velocity)c=b.rtl?Math.abs((-p-b.translate)/b.velocity):Math.abs((p-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&h?(b.updateProgress(u),b.setWrapperTransition(c),b.setWrapperTranslate(p),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&I&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(u),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(p),b.setWrapperTransition(c),b.setWrapperTranslate(p),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(p),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||a>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var v,C=0,T=b.slidesSizesGrid[0];for(v=0;v<b.slidesGrid.length;v+=b.params.slidesPerGroup)void 0!==b.slidesGrid[v+b.params.slidesPerGroup]?n>=b.slidesGrid[v]&&n<b.slidesGrid[v+b.params.slidesPerGroup]&&(C=v,T=b.slidesGrid[v+b.params.slidesPerGroup]-b.slidesGrid[v]):n>=b.slidesGrid[v]&&(C=v,T=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var E=(n-b.slidesGrid[C])/T;if(a>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(E>=b.params.longSwipesRatio?b.slideTo(C+b.params.slidesPerGroup):b.slideTo(C)),"prev"===b.swipeDirection&&(E>1-b.params.longSwipesRatio?b.slideTo(C+b.params.slidesPerGroup):b.slideTo(C))}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(C+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(C)}}},b._slideTo=function(e,t){return b.slideTo(e,t,!0,!0)},b.slideTo=function(e,t,i,a){void 0===i&&(i=!0),void 0===e&&(e=0),e<0&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var n=-b.snapGrid[b.snapIndex];if(b.params.autoplay&&b.autoplaying&&(a||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(t):b.stopAutoplay()),b.updateProgress(n),b.params.normalizeSlideIndex)for(var o=0;o<b.slidesGrid.length;o++)-Math.floor(100*n)>=Math.floor(100*b.slidesGrid[o])&&(e=o);return!(!b.params.allowSwipeToNext&&n<b.translate&&n<b.minTranslate())&&(!(!b.params.allowSwipeToPrev&&n>b.translate&&n>b.maxTranslate()&&(b.activeIndex||0)!==e)&&(void 0===t&&(t=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,b.updateRealIndex(),b.rtl&&-n===b.translate||!b.rtl&&n===b.translate?(b.params.autoHeight&&b.updateAutoHeight(),b.updateClasses(),"slide"!==b.params.effect&&b.setWrapperTranslate(n),!1):(b.updateClasses(),b.onTransitionStart(i),0===t||b.browser.lteIE9?(b.setWrapperTranslate(n),b.setWrapperTransition(0),b.onTransitionEnd(i)):(b.setWrapperTranslate(n),b.setWrapperTransition(t),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(i)}))),!0)))},b.onTransitionStart=function(e){void 0===e&&(e=!0),b.params.autoHeight&&b.updateAutoHeight(),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeStart",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextStart",b):b.emit("onSlidePrevStart",b)))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),void 0===e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeEnd",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextEnd",b):b.emit("onSlidePrevEnd",b))),b.params.history&&b.history&&b.history.setHistory(b.params.history,b.activeIndex),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,t,i){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,i)}return b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,i)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,t,i){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex-1,t,e,i)}return b.slideTo(b.activeIndex-1,t,e,i)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,t,i){return b.slideTo(b.activeIndex,t,e)},b.disableTouchControl=function(){return b.params.onlyExternal=!0,!0},b.enableTouchControl=function(){return b.params.onlyExternal=!1,!0},b.setWrapperTransition=function(e,t){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,t),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,t,i){var a=0,n=0;b.isHorizontal()?a=b.rtl?-e:e:n=e,b.params.roundLengths&&(a=o(a),n=o(n)),b.params.virtualTranslate||(b.support.transforms3d?b.wrapper.transform("translate3d("+a+"px, "+n+"px, 0px)"):b.wrapper.transform("translate("+a+"px, "+n+"px)")),b.translate=b.isHorizontal()?a:n;var s,r=b.maxTranslate()-b.minTranslate();s=0===r?0:(e-b.minTranslate())/r,s!==b.progress&&b.updateProgress(e),t&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,i),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,t){var i,a,n,o;return void 0===t&&(t="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(a=n.transform||n.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),o=new window.WebKitCSSMatrix("none"===a?"":a)):(o=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(a=window.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),b.rtl&&a&&(a=-a),a||0)},b.getWrapperTranslate=function(e){return void 0===e&&(e=b.isHorizontal()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),t=0;t<e.length;t++)l(e[t]);l(b.container[0],{childList:!1}),l(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var e=b.wrapper.children("."+b.params.slideClass);"auto"!==b.params.slidesPerView||b.params.loopedSlides||(b.params.loopedSlides=e.length),b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>e.length&&(b.loopedSlides=e.length);var i,a=[],n=[];for(e.each(function(i,o){var s=t(this);i<b.loopedSlides&&n.push(o),i<e.length&&i>=e.length-b.loopedSlides&&a.push(o),s.attr("data-swiper-slide-index",i)}),i=0;i<n.length;i++)b.wrapper.append(t(n[i].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(i=a.length-1;i>=0;i--)b.wrapper.prepend(t(a[i].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.reLoop=function(e){var t=b.activeIndex-b.loopedSlides;b.destroyLoop(),b.createLoop(),b.updateSlidesSize(),e&&b.slideTo(t+b.loopedSlides,0,!1)},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&b.wrapper.append(e[t]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var t=b.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&b.wrapper.prepend(e[i]);t=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(t,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var t,i=b.activeIndex;if("object"==typeof e&&e.length){for(var a=0;a<e.length;a++)t=e[a],b.slides[t]&&b.slides.eq(t).remove(),t<i&&i--;i=Math.max(i,0)}else t=e,b.slides[t]&&b.slides.eq(t).remove(),t<i&&i--,i=Math.max(i,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(i+b.loopedSlides,0,!1):b.slideTo(i,0,!1)},b.removeAllSlides=function(){for(var e=[],t=0;t<b.slides.length;t++)e.push(t);b.removeSlide(e)},b.effects={fade:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),i=t[0].swiperSlideOffset,a=-i;b.params.virtualTranslate||(a-=b.translate);var n=0;b.isHorizontal()||(n=a,a=0);var o=b.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:o}).transform("translate3d("+a+"px, "+n+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var t=!1;b.slides.transitionEnd(function(){if(!t&&b){t=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)b.wrapper.trigger(e[i])}})}}},flip:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var i=b.slides.eq(e),a=i[0].progress;b.params.flip.limitRotation&&(a=Math.max(Math.min(i[0].progress,1),-1));var n=i[0].swiperSlideOffset,o=-180*a,s=o,r=0,l=-n,c=0;if(b.isHorizontal()?b.rtl&&(s=-s):(c=l,l=0,r=-s,s=0),i[0].style.zIndex=-Math.abs(Math.round(a))+b.slides.length,b.params.flip.slideShadows){var d=b.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),p=b.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),i.append(d)),0===p.length&&(p=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),i.append(p)),d.length&&(d[0].style.opacity=Math.max(-a,0)),p.length&&(p[0].style.opacity=Math.max(a,0))}i.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+r+"deg) rotateY("+s+"deg)")}},setTransition:function(e){if(b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.virtualTranslate&&0!==e){var i=!1;b.slides.eq(b.activeIndex).transitionEnd(function(){if(!i&&b&&t(this).hasClass(b.params.slideActiveClass)){i=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],a=0;a<e.length;a++)b.wrapper.trigger(e[a])}})}}},cube:{setTranslate:function(){var e,i=0;b.params.cube.shadow&&(b.isHorizontal()?(e=b.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(e)),e.css({height:b.width+"px"})):(e=b.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),b.container.append(e))));for(var a=0;a<b.slides.length;a++){var n=b.slides.eq(a),o=90*a,s=Math.floor(o/360);b.rtl&&(o=-o,s=Math.floor(-o/360));var r=Math.max(Math.min(n[0].progress,1),-1),l=0,c=0,d=0;a%4==0?(l=4*-s*b.size,d=0):(a-1)%4==0?(l=0,d=4*-s*b.size):(a-2)%4==0?(l=b.size+4*s*b.size,d=b.size):(a-3)%4==0&&(l=-b.size,d=3*b.size+4*b.size*s),b.rtl&&(l=-l),b.isHorizontal()||(c=l,l=0);var p="rotateX("+(b.isHorizontal()?0:-o)+"deg) rotateY("+(b.isHorizontal()?o:0)+"deg) translate3d("+l+"px, "+c+"px, "+d+"px)";if(r<=1&&r>-1&&(i=90*a+90*r,b.rtl&&(i=90*-a-90*r)),n.transform(p),b.params.cube.slideShadows){var u=b.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),h=b.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===u.length&&(u=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),n.append(u)),0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),n.append(h)),u.length&&(u[0].style.opacity=Math.max(-r,0)),h.length&&(h[0].style.opacity=Math.max(r,0))}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(b.isHorizontal())e.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var m=Math.abs(i)-90*Math.floor(Math.abs(i)/90),f=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),g=b.params.cube.shadowScale,v=b.params.cube.shadowScale/f,C=b.params.cube.shadowOffset;e.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(b.height/2+C)+"px, "+-b.height/2/v+"px) rotateX(-90deg)")}var y=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(b.isHorizontal()?0:i)+"deg) rotateY("+(b.isHorizontal()?-i:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.cube.shadow&&!b.isHorizontal()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=b.translate,i=b.isHorizontal()?-e+b.width/2:-e+b.height/2,a=b.isHorizontal()?b.params.coverflow.rotate:-b.params.coverflow.rotate,n=b.params.coverflow.depth,o=0,s=b.slides.length;o<s;o++){var r=b.slides.eq(o),l=b.slidesSizesGrid[o],c=r[0].swiperSlideOffset,d=(i-c-l/2)/l*b.params.coverflow.modifier,p=b.isHorizontal()?a*d:0,u=b.isHorizontal()?0:a*d,h=-n*Math.abs(d),m=b.isHorizontal()?0:b.params.coverflow.stretch*d,f=b.isHorizontal()?b.params.coverflow.stretch*d:0;Math.abs(f)<.001&&(f=0),Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(u)<.001&&(u=0);var g="translate3d("+f+"px,"+m+"px,"+h+"px)  rotateX("+u+"deg) rotateY("+p+"deg)";if(r.transform(g),r[0].style.zIndex=1-Math.abs(Math.round(d)),b.params.coverflow.slideShadows){var v=b.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),C=b.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===v.length&&(v=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),r.append(v)),0===C.length&&(C=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),r.append(C)),v.length&&(v[0].style.opacity=d>0?d:0),C.length&&(C[0].style.opacity=-d>0?-d:0)}}if(b.browser.ie){b.wrapper[0].style.perspectiveOrigin=i+"px 50%"}},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,i){if(void 0!==e&&(void 0===i&&(i=!0),0!==b.slides.length)){var a=b.slides.eq(e),n=a.find("."+b.params.lazyLoadingClass+":not(."+b.params.lazyStatusLoadedClass+"):not(."+b.params.lazyStatusLoadingClass+")");!a.hasClass(b.params.lazyLoadingClass)||a.hasClass(b.params.lazyStatusLoadedClass)||a.hasClass(b.params.lazyStatusLoadingClass)||(n=n.add(a[0])),0!==n.length&&n.each(function(){var e=t(this);e.addClass(b.params.lazyStatusLoadingClass);var n=e.attr("data-background"),o=e.attr("data-src"),s=e.attr("data-srcset"),r=e.attr("data-sizes");b.loadImage(e[0],o||n,s,r,!1,function(){if(n?(e.css("background-image",'url("'+n+'")'),e.removeAttr("data-background")):(s&&(e.attr("srcset",s),e.removeAttr("data-srcset")),r&&(e.attr("sizes",r),e.removeAttr("data-sizes")),o&&(e.attr("src",o),e.removeAttr("data-src"))),e.addClass(b.params.lazyStatusLoadedClass).removeClass(b.params.lazyStatusLoadingClass),a.find("."+b.params.lazyPreloaderClass+", ."+b.params.preloaderClass).remove(),b.params.loop&&i){var t=a.attr("data-swiper-slide-index");if(a.hasClass(b.params.slideDuplicateClass)){var l=b.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(l.index(),!1)}else{var c=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');b.lazy.loadImageInSlide(c.index(),!1)}}b.emit("onLazyImageReady",b,a[0],e[0])}),b.emit("onLazyImageLoad",b,a[0],e[0])})}},load:function(){var e,i=b.params.slidesPerView;if("auto"===i&&(i=0),b.lazy.initialImageLoaded||(b.lazy.initialImageLoaded=!0),b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(t(this).index())});else if(i>1)for(e=b.activeIndex;e<b.activeIndex+i;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext)if(i>1||b.params.lazyLoadingInPrevNextAmount&&b.params.lazyLoadingInPrevNextAmount>1){var a=b.params.lazyLoadingInPrevNextAmount,n=i,o=Math.min(b.activeIndex+n+Math.max(a,n),b.slides.length),s=Math.max(b.activeIndex-Math.max(n,a),0);for(e=b.activeIndex+i;e<o;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);for(e=s;e<b.activeIndex;e++)b.slides[e]&&b.lazy.loadImageInSlide(e)}else{var r=b.wrapper.children("."+b.params.slideNextClass);r.length>0&&b.lazy.loadImageInSlide(r.index());var l=b.wrapper.children("."+b.params.slidePrevClass);l.length>0&&b.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={isTouched:!1,setDragPosition:function(e){var t=b.scrollbar,i=b.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,a=i-t.track.offset()[b.isHorizontal()?"left":"top"]-t.dragSize/2,n=-b.minTranslate()*t.moveDivider,o=-b.maxTranslate()*t.moveDivider;a<n?a=n:a>o&&(a=o),a=-a/t.moveDivider,b.updateProgress(a),b.setWrapperTranslate(a,!0)},dragStart:function(e){var t=b.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),b.params.scrollbarHide&&t.track.css("opacity",1),b.wrapper.transition(100),t.drag.transition(100),b.emit("onScrollbarDragStart",b)},dragMove:function(e){var t=b.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),b.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),b.emit("onScrollbarDragMove",b))},dragEnd:function(e){var t=b.scrollbar;t.isTouched&&(t.isTouched=!1,b.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),b.emit("onScrollbarDragEnd",b),b.params.scrollbarSnapOnRelease&&b.slideReset())},draggableEvents:function(){return!1!==b.params.simulateTouch||b.support.touch?b.touchEvents:b.touchEventsDesktop}(),enableDraggable:function(){var e=b.scrollbar,i=b.support.touch?e.track:document;t(e.track).on(e.draggableEvents.start,e.dragStart),t(i).on(e.draggableEvents.move,e.dragMove),t(i).on(e.draggableEvents.end,e.dragEnd)},disableDraggable:function(){var e=b.scrollbar,i=b.support.touch?e.track:document;t(e.track).off(b.draggableEvents.start,e.dragStart),t(i).off(b.draggableEvents.move,e.dragMove),t(i).off(b.draggableEvents.end,e.dragEnd)},set:function(){if(b.params.scrollbar){var e=b.scrollbar;e.track=t(b.params.scrollbar),b.params.uniqueNavElements&&"string"==typeof b.params.scrollbar&&e.track.length>1&&1===b.container.find(b.params.scrollbar).length&&(e.track=b.container.find(b.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=b.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=b.size/b.virtualSize,e.moveDivider=e.divider*(e.trackSize/b.size),e.dragSize=e.trackSize*e.divider,b.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",b.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,t=b.scrollbar,i=(b.translate,t.dragSize);e=(t.trackSize-t.dragSize)*b.progress,b.rtl&&b.isHorizontal()?(e=-e,e>0?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e)):e<0?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),b.isHorizontal()?(b.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(b.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=i+"px"),b.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var i,a;this.x.length;this.interpolate=function(e){return e?(a=n(this.x,e),i=a-1,(e-this.x[i])*(this.y[a]-this.y[i])/(this.x[a]-this.x[i])+this.y[i]):0};var n=function(){var e,t,i;return function(a,n){for(t=-1,e=a.length;e-t>1;)a[i=e+t>>1]<=n?t=i:e=i;return e}}()},getInterpolateFunction:function(e){b.controller.spline||(b.controller.spline=b.params.loop?new b.controller.LinearSpline(b.slidesGrid,e.slidesGrid):new b.controller.LinearSpline(b.snapGrid,e.snapGrid))},setTranslate:function(e,t){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-b.translate:b.translate,"slide"===b.params.controlBy&&(b.controller.getInterpolateFunction(t),n=-b.controller.spline.interpolate(-e)),n&&"container"!==b.params.controlBy||(a=(t.maxTranslate()-t.minTranslate())/(b.maxTranslate()-b.minTranslate()),n=(e-b.minTranslate())*a+t.minTranslate()),b.params.controlInverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setWrapperTranslate(n,!1,b),t.updateActiveIndex()}var a,n,o=b.params.control;if(b.isArray(o))for(var s=0;s<o.length;s++)o[s]!==t&&o[s]instanceof Swiper&&i(o[s]);else o instanceof Swiper&&t!==o&&i(o)},setTransition:function(e,t){function i(t){t.setWrapperTransition(e,b),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){n&&(t.params.loop&&"slide"===b.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var a,n=b.params.control;if(b.isArray(n))for(a=0;a<n.length;a++)n[a]!==t&&n[a]instanceof Swiper&&i(n[a]);else n instanceof Swiper&&t!==n&&i(n)}},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,b.progress)}),b.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,Math.min(Math.max(e[0].progress,-1),1))})})},setTransition:function(e){void 0===e&&(e=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var i=t(this),a=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(a=0),i.transition(a)})}},b.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:b.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,a=e.targetTouches[1].pageX,n=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(a-t,2)+Math.pow(n-i,2))},onGestureStart:function(e){var i=b.zoom;if(!b.support.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.gesture.scaleStart=i.getDistanceBetweenTouches(e)}if(!(i.gesture.slide&&i.gesture.slide.length||(i.gesture.slide=t(this),0===i.gesture.slide.length&&(i.gesture.slide=b.slides.eq(b.activeIndex)),i.gesture.image=i.gesture.slide.find("img, svg, canvas"),i.gesture.imageWrap=i.gesture.image.parent("."+b.params.zoomContainerClass),i.gesture.zoomMax=i.gesture.imageWrap.attr("data-swiper-zoom")||b.params.zoomMax,0!==i.gesture.imageWrap.length)))return void(i.gesture.image=void 0);i.gesture.image.transition(0),i.isScaling=!0},onGestureChange:function(e){var t=b.zoom;if(!b.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;t.gesture.scaleMove=t.getDistanceBetweenTouches(e)}t.gesture.image&&0!==t.gesture.image.length&&(b.support.gestures?t.scale=e.scale*t.currentScale:t.scale=t.gesture.scaleMove/t.gesture.scaleStart*t.currentScale,t.scale>t.gesture.zoomMax&&(t.scale=t.gesture.zoomMax-1+Math.pow(t.scale-t.gesture.zoomMax+1,.5)),t.scale<b.params.zoomMin&&(t.scale=b.params.zoomMin+1-Math.pow(b.params.zoomMin-t.scale+1,.5)),t.gesture.image.transform("translate3d(0,0,0) scale("+t.scale+")"))},
onGestureEnd:function(e){var t=b.zoom;!b.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||t.gesture.image&&0!==t.gesture.image.length&&(t.scale=Math.max(Math.min(t.scale,t.gesture.zoomMax),b.params.zoomMin),t.gesture.image.transition(b.params.speed).transform("translate3d(0,0,0) scale("+t.scale+")"),t.currentScale=t.scale,t.isScaling=!1,1===t.scale&&(t.gesture.slide=void 0))},onTouchStart:function(e,t){var i=e.zoom;i.gesture.image&&0!==i.gesture.image.length&&(i.image.isTouched||("android"===e.device.os&&t.preventDefault(),i.image.isTouched=!0,i.image.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i.image.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(e){var t=b.zoom;if(t.gesture.image&&0!==t.gesture.image.length&&(b.allowClick=!1,t.image.isTouched&&t.gesture.slide)){t.image.isMoved||(t.image.width=t.gesture.image[0].offsetWidth,t.image.height=t.gesture.image[0].offsetHeight,t.image.startX=b.getTranslate(t.gesture.imageWrap[0],"x")||0,t.image.startY=b.getTranslate(t.gesture.imageWrap[0],"y")||0,t.gesture.slideWidth=t.gesture.slide[0].offsetWidth,t.gesture.slideHeight=t.gesture.slide[0].offsetHeight,t.gesture.imageWrap.transition(0));var i=t.image.width*t.scale,a=t.image.height*t.scale;if(!(i<t.gesture.slideWidth&&a<t.gesture.slideHeight)){if(t.image.minX=Math.min(t.gesture.slideWidth/2-i/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-a/2,0),t.image.maxY=-t.image.minY,t.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!t.image.isMoved&&!t.isScaling){if(b.isHorizontal()&&Math.floor(t.image.minX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x<t.image.touchesStart.x||Math.floor(t.image.maxX)===Math.floor(t.image.startX)&&t.image.touchesCurrent.x>t.image.touchesStart.x)return void(t.image.isTouched=!1);if(!b.isHorizontal()&&Math.floor(t.image.minY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y<t.image.touchesStart.y||Math.floor(t.image.maxY)===Math.floor(t.image.startY)&&t.image.touchesCurrent.y>t.image.touchesStart.y)return void(t.image.isTouched=!1)}e.preventDefault(),e.stopPropagation(),t.image.isMoved=!0,t.image.currentX=t.image.touchesCurrent.x-t.image.touchesStart.x+t.image.startX,t.image.currentY=t.image.touchesCurrent.y-t.image.touchesStart.y+t.image.startY,t.image.currentX<t.image.minX&&(t.image.currentX=t.image.minX+1-Math.pow(t.image.minX-t.image.currentX+1,.8)),t.image.currentX>t.image.maxX&&(t.image.currentX=t.image.maxX-1+Math.pow(t.image.currentX-t.image.maxX+1,.8)),t.image.currentY<t.image.minY&&(t.image.currentY=t.image.minY+1-Math.pow(t.image.minY-t.image.currentY+1,.8)),t.image.currentY>t.image.maxY&&(t.image.currentY=t.image.maxY-1+Math.pow(t.image.currentY-t.image.maxY+1,.8)),t.velocity.prevPositionX||(t.velocity.prevPositionX=t.image.touchesCurrent.x),t.velocity.prevPositionY||(t.velocity.prevPositionY=t.image.touchesCurrent.y),t.velocity.prevTime||(t.velocity.prevTime=Date.now()),t.velocity.x=(t.image.touchesCurrent.x-t.velocity.prevPositionX)/(Date.now()-t.velocity.prevTime)/2,t.velocity.y=(t.image.touchesCurrent.y-t.velocity.prevPositionY)/(Date.now()-t.velocity.prevTime)/2,Math.abs(t.image.touchesCurrent.x-t.velocity.prevPositionX)<2&&(t.velocity.x=0),Math.abs(t.image.touchesCurrent.y-t.velocity.prevPositionY)<2&&(t.velocity.y=0),t.velocity.prevPositionX=t.image.touchesCurrent.x,t.velocity.prevPositionY=t.image.touchesCurrent.y,t.velocity.prevTime=Date.now(),t.gesture.imageWrap.transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}}},onTouchEnd:function(e,t){var i=e.zoom;if(i.gesture.image&&0!==i.gesture.image.length){if(!i.image.isTouched||!i.image.isMoved)return i.image.isTouched=!1,void(i.image.isMoved=!1);i.image.isTouched=!1,i.image.isMoved=!1;var a=300,n=300,o=i.velocity.x*a,s=i.image.currentX+o,r=i.velocity.y*n,l=i.image.currentY+r;0!==i.velocity.x&&(a=Math.abs((s-i.image.currentX)/i.velocity.x)),0!==i.velocity.y&&(n=Math.abs((l-i.image.currentY)/i.velocity.y));var c=Math.max(a,n);i.image.currentX=s,i.image.currentY=l;var d=i.image.width*i.scale,p=i.image.height*i.scale;i.image.minX=Math.min(i.gesture.slideWidth/2-d/2,0),i.image.maxX=-i.image.minX,i.image.minY=Math.min(i.gesture.slideHeight/2-p/2,0),i.image.maxY=-i.image.minY,i.image.currentX=Math.max(Math.min(i.image.currentX,i.image.maxX),i.image.minX),i.image.currentY=Math.max(Math.min(i.image.currentY,i.image.maxY),i.image.minY),i.gesture.imageWrap.transition(c).transform("translate3d("+i.image.currentX+"px, "+i.image.currentY+"px,0)")}},onTransitionEnd:function(e){var t=e.zoom;t.gesture.slide&&e.previousIndex!==e.activeIndex&&(t.gesture.image.transform("translate3d(0,0,0) scale(1)"),t.gesture.imageWrap.transform("translate3d(0,0,0)"),t.gesture.slide=t.gesture.image=t.gesture.imageWrap=void 0,t.scale=t.currentScale=1)},toggleZoom:function(e,i){var a=e.zoom;if(a.gesture.slide||(a.gesture.slide=e.clickedSlide?t(e.clickedSlide):e.slides.eq(e.activeIndex),a.gesture.image=a.gesture.slide.find("img, svg, canvas"),a.gesture.imageWrap=a.gesture.image.parent("."+e.params.zoomContainerClass)),a.gesture.image&&0!==a.gesture.image.length){var n,o,s,r,l,c,d,p,u,h,m,f,g,v,b,C,y,x;void 0===a.image.touchesStart.x&&i?(n="touchend"===i.type?i.changedTouches[0].pageX:i.pageX,o="touchend"===i.type?i.changedTouches[0].pageY:i.pageY):(n=a.image.touchesStart.x,o=a.image.touchesStart.y),a.scale&&1!==a.scale?(a.scale=a.currentScale=1,a.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),a.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),a.gesture.slide=void 0):(a.scale=a.currentScale=a.gesture.imageWrap.attr("data-swiper-zoom")||e.params.zoomMax,i?(y=a.gesture.slide[0].offsetWidth,x=a.gesture.slide[0].offsetHeight,s=a.gesture.slide.offset().left,r=a.gesture.slide.offset().top,l=s+y/2-n,c=r+x/2-o,u=a.gesture.image[0].offsetWidth,h=a.gesture.image[0].offsetHeight,m=u*a.scale,f=h*a.scale,g=Math.min(y/2-m/2,0),v=Math.min(x/2-f/2,0),b=-g,C=-v,d=l*a.scale,p=c*a.scale,d<g&&(d=g),d>b&&(d=b),p<v&&(p=v),p>C&&(p=C)):(d=0,p=0),a.gesture.imageWrap.transition(300).transform("translate3d("+d+"px, "+p+"px,0)"),a.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+a.scale+")"))}},attachEvents:function(e){var i=e?"off":"on";if(b.params.zoom){var a=(b.slides,!("touchstart"!==b.touchEvents.start||!b.support.passiveListener||!b.params.passiveListeners)&&{passive:!0,capture:!1});b.support.gestures?(b.slides[i]("gesturestart",b.zoom.onGestureStart,a),b.slides[i]("gesturechange",b.zoom.onGestureChange,a),b.slides[i]("gestureend",b.zoom.onGestureEnd,a)):"touchstart"===b.touchEvents.start&&(b.slides[i](b.touchEvents.start,b.zoom.onGestureStart,a),b.slides[i](b.touchEvents.move,b.zoom.onGestureChange,a),b.slides[i](b.touchEvents.end,b.zoom.onGestureEnd,a)),b[i]("touchStart",b.zoom.onTouchStart),b.slides.each(function(e,a){t(a).find("."+b.params.zoomContainerClass).length>0&&t(a)[i](b.touchEvents.move,b.zoom.onTouchMove)}),b[i]("touchEnd",b.zoom.onTouchEnd),b[i]("transitionEnd",b.zoom.onTransitionEnd),b.params.zoomToggle&&b.on("doubleTap",b.zoom.toggleZoom)}},init:function(){b.zoom.attachEvents()},destroy:function(){b.zoom.attachEvents(!0)}},b._plugins=[];for(var D in b.plugins){var O=b.plugins[D](b,b.params[D]);O&&b._plugins.push(O)}return b.callPlugins=function(e){for(var t=0;t<b._plugins.length;t++)e in b._plugins[t]&&b._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(b.emitterEventListeners[e])for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,t){return e=d(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(t),b},b.off=function(e,t){var i;if(e=d(e),void 0===t)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(i=0;i<b.emitterEventListeners[e].length;i++)b.emitterEventListeners[e][i]===t&&b.emitterEventListeners[e].splice(i,1);return b}},b.once=function(e,t){e=d(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,i)};return b.on(e,i),b},b.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(b.params.nextButton)?(b.onClickNext(e),b.isEnd?b.a11y.notify(b.params.lastSlideMessage):b.a11y.notify(b.params.nextSlideMessage)):t(e.target).is(b.params.prevButton)&&(b.onClickPrev(e),b.isBeginning?b.a11y.notify(b.params.firstSlideMessage):b.a11y.notify(b.params.prevSlideMessage)),t(e.target).is("."+b.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="'+b.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=b.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.a11y.makeFocusable(b.nextButton),b.a11y.addRole(b.nextButton,"button"),b.a11y.addLabel(b.nextButton,b.params.nextSlideMessage)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.a11y.makeFocusable(b.prevButton),b.a11y.addRole(b.prevButton,"button"),b.a11y.addLabel(b.prevButton,b.params.prevSlideMessage)),t(b.container).append(b.a11y.liveRegion)},initPagination:function(){b.params.pagination&&b.params.paginationClickable&&b.bullets&&b.bullets.length&&b.bullets.each(function(){var e=t(this);b.a11y.makeFocusable(e),b.a11y.addRole(e,"button"),b.a11y.addLabel(e,b.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){b.a11y.liveRegion&&b.a11y.liveRegion.length>0&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.set(),b.params.scrollbarDraggable&&b.scrollbar.enableDraggable()),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.zoom&&b.zoom&&b.zoom.init(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnavReplaceState&&(b.params.replaceState=b.params.hashnavReplaceState),b.params.history&&b.history&&b.history.init(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&t(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&t(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,t){b.detachEvents(),b.stopAutoplay(),b.params.scrollbar&&b.scrollbar&&b.params.scrollbarDraggable&&b.scrollbar.disableDraggable(),b.params.loop&&b.destroyLoop(),t&&b.cleanupStyles(),b.disconnectObservers(),b.params.zoom&&b.zoom&&b.zoom.destroy(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.params.history&&!b.params.replaceState&&window.removeEventListener("popstate",b.history.setHistoryPopState),b.params.hashnav&&b.hashnav&&b.hashnav.destroy(),b.emit("onDestroy"),!1!==e&&(b=null)},b.init(),b}},Swiper.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}()},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),i=e.match(/(iPad).*OS\s([\d_]+)/),a=e.match(/(iPod)(.*OS\s([\d_]+))?/),n=!i&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:i||n||a,android:t}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}}}(),define("framework7",function(e){return function(){return e.Framework7}}(this)),void 0===Common)var Common={};if(define("notification",["backbone"],function(e){"use strict";var t=function(){};if(_.extend(t.prototype,e.Events),void 0!==Common.NotificationCenter)throw"Native Common.NotificationCenter instance already defined.";t.extend=e.Model.extend,Common.NotificationCenter=new t}),void 0===Common)var Common={};if(Common.IrregularStack=function(e){var t=[],i=function(e,t){return"object"==typeof e&&"object"==typeof t&&window.JSON?window.JSON.stringify(e)===window.JSON.stringify(t):e===t};e=e||{};var a=e.strongCompare||i,n=e.weakCompare||i,o=function(e,i){for(var a=t.length-1;a>=0;a--)if(i(t[a],e))return a;return-1};return{push:function(e){t.push(e)},pop:function(e){var i=o(e,a);if(-1!=i)return t.splice(i,1)[0]},get:function(e){var i=o(e,n);if(-1!=i)return t[i]},exist:function(e){return!(o(e,a)<0)}}},define("irregularstack",function(){}),void 0===Common)var Common={};if(Common.SharedSettings=new function(){var e=[],t={};return{set:function(i,a){void 0===t[i]&&e.push(i),t[i]=a},get:function(e){return t[e]},remove:function(i){var a=e.indexOf(i);-1!=a&&e.splice(a,1),delete t[i]},size:function(){return e.length}}},define("sharedsettings",function(){}),function(){var e=function(e,t){for(var i=e.split("."),a=t||window,n=0,o=i.length;n<o;n++)a=a[i[n]]||{};return a},t=function(e){_.extend(this,e||{}),this.eventbus=new a({application:this}),this.createApplicationNamespace(),this.initialize.apply(this,arguments),!1!==this.autoCreate&&$($.proxy(this.onReady,this))};if(_.extend(t.prototype,{nameSpace:"Application",models:{},collections:{},controllers:{},allocationMap:{model:"Models",collection:"Collections",controller:"Controllers",view:"Views"},createApplicationNamespace:function(){var e=window;this.nameSpace&&void 0===e[this.nameSpace]&&(e[this.nameSpace]={}),e[this.nameSpace]=this,_.each(this.allocationMap,function(e,t){this[e]=this[e]||{}},this)},initialize:function(){},onReady:function(){this.start()},start:function(){this.initializeControllers(this.controllers||{}),this.launchControllers(),this.launch.call(this)},getClasseRefs:function(t,i){var a={},n=this.allocationMap[t],o=this[n];return _.each(i,function(t){a[t]=e(t,t.indexOf(".")>-1?window:o)},this),a},initializeControllers:function(t){this.controllers={},_.each(t,function(t){var i=t.indexOf(".")>-1?window:this[this.allocationMap.controller],a=e(t,i),n=(t.split(".").pop(),new a({id:t,application:this}));n.views=this.getClasseRefs("view",n.views||[]),_.extend(this.models,this.getClasseRefs("model",n.models||[])),_.extend(this.collections,this.getClasseRefs("collection",n.collections||{})),this.buildCollections(),this.controllers[t]=n},this)},launchControllers:function(){_.each(this.controllers,function(e,t){e.onLaunch(this)},this)},launch:function(){},addListeners:function(e,t){this.eventbus.addListeners(e,t)},getController:function(e){return this.controllers[e]},getModel:function(e){this._modelsCache=this._modelsCache||{};var t=this._modelsCache[e],i=this.getModelConstructor(e);return!t&&i&&(t=this.createModel(e),this._modelsCache[e]=t),t||null},getModelConstructor:function(e){return this.models[e]},createModel:function(e,t){var i=this.getModelConstructor(e),a=null;return i&&(a=new i(_.extend(t||{}))),a},getCollection:function(e){this._collectionsCache=this._collectionsCache||{};var t=this._collectionsCache[e],i=this.getCollectionConstructor(e);return!t&&i&&(t=this.createCollection(e),this._collectionsCache[e]=t),t||null},getCollectionConstructor:function(e){return this.collections[e]},createCollection:function(e){var t=this.getCollectionConstructor(e),i=null;return t&&(i=new t),i},buildCollections:function(){_.each(this.collections,function(e,t){this.getCollection(t)},this)}}),void 0!==Backbone.Application)throw"Native Backbone.Application instance already defined.";Backbone.Application=t,Backbone.Application.extend=Backbone.Model.extend;var i=function(e){_.extend(this,e||{}),this.initialize.apply(this,arguments)};if(_.extend(i.prototype,{name:null,views:{},models:{},collections:{},initialize:function(e){},addListeners:function(e){this.getApplication().addListeners(e,this)},onLaunch:function(e){},getApplication:function(){return this.application},getView:function(e){return this._viewsCache[e]},getViewConstructor:function(e){return this.views[e]},createView:function(e,t){var i=this.getViewConstructor(e),a=_.extend(t||{},{alias:e});return this._viewsCache=this._viewsCache||{},this._viewsCache[e]=new i(a),this._viewsCache[e].options=_.extend({},a),this._viewsCache[e]},getModel:function(e){return this.application.getModel(e)},getModelConstructor:function(e){return this.application.getModelConstructor(e)},createModel:function(e,t){return this.application.createModel(e)},getCollection:function(e){return this.application.getCollection(e)},getCollectionConstructor:function(e){return this.application.getCollectionConstructor(e)},createCollection:function(e){return this.application.createCollection(e)},fireEvent:function(e,t,i){this.application.eventbus.fireEvent(e,t,i)},bindViewEvents:function(e,t){this.unbindViewEvents(e),t=_.isFunction(t)?t.call(this):t;for(var i in t){var a=t[i];_.isFunction(a)||(a=this[t[i]]);var n=i.match(/^(\S+)\s*(.*)$/),o=n[1],s=n[2];a=_.bind(a,this),o+=".bindViewEvents"+e.cid,e.$el.on(o,s,a)}return this},unbindViewEvents:function(e){return e.$el.off(".bindViewEvents"+e.cid),this}}),void 0!==Backbone.Controller)throw"Native Backbone.Controller instance already defined.";Backbone.Controller=i,Backbone.Controller.extend=Backbone.Model.extend;var a=function(e){var t=this;_.extend(this,e||{}),_.extend(Backbone.View.prototype,{alias:null,hidden:!1,getAlias:function(){return this.options.alias},fireEvent:function(e,i){this.trigger.apply(this,arguments),t.fireEvent(this.getAlias(),e,i)},hide:function(){this.$el.hide(),this.hidden=!0},show:function(){this.$el.show(),this.hidden=!1}})};if(_.extend(a.prototype,{pool:{},addListeners:function(e,t){this.pool[t.id]=this.pool[t.id]||{};var i=this.pool[t.id];_.isArray(e)?_.each(e,function(e){this.addListeners(e,t)},this):_.isObject(e)&&_.each(e,function(e,t){_.each(e,function(e,a){i[t]=i[t]||{},i[t][a]=i[t][a]||[],i[t][a].push(e)},this)},this)},fireEvent:function(e,t,i){var a=this.getApplication();_.each(this.pool,function(n,o){var s=n[e];if(s){var r=s[t],l=a.getController(o);_.each(r,function(e){e.apply(l,i)})}},this)},getApplication:function(){return this.application}}),void 0!==Backbone.EventBus)throw"Native Backbone.Application instance already defined.";Backbone.EventBus=a}(),define("core",["backbone","notification","irregularstack","sharedsettings"],function(){}),define("extendes",["jquery","underscore","framework7"],function(){String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,i){return void 0!==e[i]?e[i]:t})}),jQuery.fn.extend({single:function(e,t,i,a){return this.off(e).on(e,t,i,a)}});var e=["addClass","toggleClass","removeClass"];_.each(e,function(e,t){var i=Dom7.fn[e];Dom7.fn[e]=function(t){var a=i.apply(this,arguments);return this.trigger(e,t),a}}),_.buffered=function(e,t,i,a){var n;return function(){var o=a||Array.prototype.slice.call(arguments,0),s=i||this;n&&clearTimeout(n),n=setTimeout(function(){e.apply(s,o)},t)}}}),void 0===Common)var Common={};if(Common.component=Common.component||{},Common.Analytics=Common.component.Analytics=new function(){var e;return{initialize:function(t,i){if(void 0===t)throw"Analytics: invalid id.";if(void 0===i||"[object String]"!==Object.prototype.toString.apply(i))throw"Analytics: invalid category type.";e=i,$("head").append('<script type="text/javascript">var _gaq = _gaq || [];_gaq.push(["_setAccount", "'+t+'"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);})();<\/script>')},trackEvent:function(t,i,a){if(void 0!==t&&"[object String]"!==Object.prototype.toString.apply(t))throw"Analytics: invalid action type.";if(void 0!==i&&"[object String]"!==Object.prototype.toString.apply(i))throw"Analytics: invalid label type.";if(void 0!==a&&("[object Number]"!==Object.prototype.toString.apply(a)||!isFinite(a)))throw"Analytics: invalid value type.";if("undefined"!=typeof _gaq){if("undefined"===e)throw"Analytics is not initialized.";_gaq.push(["_trackEvent",e,t,i,a])}}}},define("analytics",["jquery"],function(){}),void 0===Common)var Common={};if(Common.Gateway=new function(){var e=this,t=$(e),i={init:function(e){t.trigger("init",e)},openDocument:function(e){t.trigger("opendocument",e)},showMessage:function(e){t.trigger("showmessage",e)},applyEditRights:function(e){t.trigger("applyeditrights",e)},processSaveResult:function(e){t.trigger("processsaveresult",e)},processRightsChange:function(e){t.trigger("processrightschange",e)},refreshHistory:function(e){t.trigger("refreshhistory",e)},setHistoryData:function(e){t.trigger("sethistorydata",e)},setEmailAddresses:function(e){t.trigger("setemailaddresses",e)},setActionLink:function(e){t.trigger("setactionlink",e.url)},processMailMerge:function(e){t.trigger("processmailmerge",e)},downloadAs:function(e){t.trigger("downloadas",e)},processMouse:function(e){t.trigger("processmouse",e)},internalCommand:function(e){t.trigger("internalcommand",e)},resetFocus:function(e){t.trigger("resetfocus",e)},setUsers:function(e){t.trigger("setusers",e)},showSharingSettings:function(e){t.trigger("showsharingsettings",e)},setSharingSettings:function(e){t.trigger("setsharingsettings",e)},insertImage:function(e){t.trigger("insertimage",e)},setMailMergeRecipients:function(e){t.trigger("setmailmergerecipients",e)}},a=function(e){window.parent&&window.JSON&&(e.frameEditorId=window.frameEditorId,window.parent.postMessage(window.JSON.stringify(e),"*"))},n=function(e){var t=e.data;if("[object String]"===Object.prototype.toString.apply(t)&&window.JSON){var a,n;try{a=window.JSON.parse(t)}catch(e){a=""}a&&(n=i[a.command])&&n.call(this,a.data)}},o=function(e){n(e)};return window.attachEvent?window.attachEvent("onmessage",o):window.addEventListener("message",o,!1),{appReady:function(){a({event:"onAppReady"})},requestEditRights:function(){a({event:"onRequestEditRights"})},requestHistory:function(){a({event:"onRequestHistory"})},requestHistoryData:function(e){a({event:"onRequestHistoryData",data:e})},requestRestore:function(e,t){a({event:"onRequestRestore",data:{version:e,url:t}})},requestEmailAddresses:function(){a({event:"onRequestEmailAddresses"})},requestStartMailMerge:function(){a({event:"onRequestStartMailMerge"})},requestHistoryClose:function(e){a({event:"onRequestHistoryClose"})},reportError:function(e,t){a({event:"onError",data:{errorCode:e,errorDescription:t}})},reportWarning:function(e,t){a({event:"onWarning",data:{warningCode:e,warningDescription:t}})},sendInfo:function(e){a({event:"onInfo",data:e})},setDocumentModified:function(e){a({event:"onDocumentStateChange",data:e})},internalMessage:function(e,t){a({event:"onInternalMessage",data:{type:e,data:t}})},updateVersion:function(){a({event:"onOutdatedVersion"})},downloadAs:function(e){a({event:"onDownloadAs",data:e})},requestSaveAs:function(e,t){a({event:"onRequestSaveAs",data:{url:e,title:t}})},collaborativeChanges:function(){a({event:"onCollaborativeChanges"})},requestRename:function(e){a({event:"onRequestRename",data:e})},metaChange:function(e){a({event:"onMetaChange",data:e})},documentReady:function(){a({event:"onDocumentReady"})},requestClose:function(){a({event:"onRequestClose"})},requestMakeActionLink:function(e){a({event:"onMakeActionLink",data:e})},requestUsers:function(){a({event:"onRequestUsers"})},requestSendNotify:function(e){a({event:"onRequestSendNotify",data:e})},requestInsertImage:function(){a({event:"onRequestInsertImage"})},requestMailMergeRecipients:function(){a({event:"onRequestMailMergeRecipients"})},on:function(i,a){var n=function(t,i){a.call(e,i)};t.on(i,n)}}},define("gateway",["jquery"],function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("../vendor/es6-promise/es6-promise.auto.min.js",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}function i(e){F=e}function a(e){B=e}function n(){return void 0!==O?function(){O(s)}:o()}function o(){var e=setTimeout;return function(){return e(s,1)}}function s(){for(var e=0;e<D;e+=2){(0,G[e])(G[e+1]),G[e]=void 0,G[e+1]=void 0}D=0}function r(e,t){var i=this,a=new this.constructor(c);void 0===a[W]&&k(a);var n=i._state;if(n){var o=arguments[n-1];B(function(){return w(n,a,o,i._result)})}else y(i,a,e,t);return a}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(c);return g(i,e),i}function c(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function u(e,t,i,a){try{e.call(t,i,a)}catch(e){return e}}function h(e,t,i){B(function(e){var a=!1,n=u(i,t,function(i){a||(a=!0,t!==i?g(e,i):b(e,i))},function(t){a||(a=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!a&&n&&(a=!0,C(e,n))},e)}function m(e,t){t._state===X?b(e,t._result):t._state===Y?C(e,t._result):y(t,void 0,function(t){return g(e,t)},function(t){return C(e,t)})}function f(e,i,a){i.constructor===e.constructor&&a===r&&i.constructor.resolve===l?m(e,i):void 0===a?b(e,i):t(a)?h(e,i,a):b(e,i)}function g(t,i){if(t===i)C(t,d());else if(e(i)){var a=void 0;try{a=i.then}catch(e){return void C(t,e)}f(t,i,a)}else b(t,i)}function v(e){e._onerror&&e._onerror(e._result),x(e)}function b(e,t){e._state===$&&(e._result=t,e._state=X,0!==e._subscribers.length&&B(x,e))}function C(e,t){e._state===$&&(e._state=Y,e._result=t,B(v,e))}function y(e,t,i,a){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+X]=i,n[o+Y]=a,0===o&&e._state&&B(x,e)}function x(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var a=void 0,n=void 0,o=e._result,s=0;s<t.length;s+=3)a=t[s],n=t[s+i],a?w(i,a,n,o):n(o);e._subscribers.length=0}}function w(e,i,a,n){var o=t(a),s=void 0,r=void 0,l=!0;if(o){try{s=a(n)}catch(e){l=!1,r=e}if(i===s)return void C(i,p())}else s=n;i._state!==$||(o&&l?g(i,s):!1===l?C(i,r):e===X?b(i,s):e===Y&&C(i,s))}function S(e,t){try{t(function(t){g(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}function T(){return K++}function k(e){e[W]=K++,e._state=void 0,e._result=void 0,e._subscribers=[]}function A(){return new Error("Array Methods must be provided an Array")}function E(e){return new J(this,e).promise}function _(e){var t=this;return new t(N(e)?function(i,a){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(i,a)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function I(e){var t=this,i=new t(c);return C(i,e),i}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=Q}var R=void 0;R=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var N=R,D=0,O=void 0,F=void 0,B=function(e,t){G[D]=e,G[D+1]=t,2===(D+=2)&&(F?F(s):q())},U="undefined"!=typeof window?window:void 0,z=U||{},H=z.MutationObserver||z.WebKitMutationObserver,V="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),j="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=new Array(1e3),q=void 0;q=V?function(){return function(){return process.nextTick(s)}}():H?function(){var e=0,t=new H(s),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}():j?function(){var e=new MessageChannel;return e.port1.onmessage=s,function(){return e.port2.postMessage(0)}}():void 0===U&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return O=e.runOnLoop||e.runOnContext,n()}catch(e){return o()}}():o()
;var W=Math.random().toString(36).substring(2),$=void 0,X=1,Y=2,K=0,J=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(c),this.promise[W]||k(this.promise),N(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&b(this.promise,this._result))):C(this.promise,A())}return e.prototype._enumerate=function(e){for(var t=0;this._state===$&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,a=i.resolve;if(a===l){var n=void 0,o=void 0,s=!1;try{n=e.then}catch(e){s=!0,o=e}if(n===r&&e._state!==$)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===Q){var d=new i(c);s?C(d,o):f(d,e,n),this._willSettleAt(d,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},e.prototype._settledAt=function(e,t,i){var a=this.promise;a._state===$&&(this._remaining--,e===Y?C(a,i):this._result[t]=i),0===this._remaining&&b(a,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;y(e,void 0,function(e){return i._settledAt(X,t,e)},function(e){return i._settledAt(Y,t,e)})},e}(),Q=function(){function e(t){this[W]=T(),this._result=this._state=void 0,this._subscribers=[],c!==t&&("function"!=typeof t&&M(),this instanceof e?S(this,t):P())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var i=this,a=i.constructor;return t(e)?i.then(function(t){return a.resolve(e()).then(function(){return t})},function(t){return a.resolve(e()).then(function(){throw t})}):i.then(e,e)},e}();return Q.prototype.then=r,Q.all=E,Q.race=_,Q.resolve=l,Q.reject=I,Q._setScheduler=i,Q._setAsap=a,Q._asap=B,Q.polyfill=L,Q.Promise=Q,Q.polyfill(),Q}),void 0===Common)var Common={};if(Common.Locale=new function(){"use strict";var l10n=null,loadcallback,apply=!1,_applyLocalization=function(e){try{if(e&&(loadcallback=e),l10n){for(var t in l10n){var i=t.split(".");if(i&&i.length>2){for(var a=window,n=0;n<i.length-1;++n)void 0===a[i[n]]&&(a[i[n]]=new Object),a=a[i[n]];a&&(a[i[i.length-1]]=l10n[t])}}loadcallback&&loadcallback()}else apply=!0}catch(e){}},_get=function(prop,scope){var res="";return l10n&&scope&&scope.name&&(res=l10n[scope.name+"."+prop]),res||(scope?eval(scope.name).prototype[prop]:"")},_getUrlParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))},_requireLang=function(){var e=(_getUrlParameterByName("lang")||"en").split(/[\-_]/)[0];fetch("locale/"+e+".json").then(function(t){if(!t.ok){if("en"!=e)return fetch("locale/en.json");throw new Error("server error")}return t.json()}).then(function(e){if(e.then)return e.json();throw l10n=e,new Error("loaded")}).then(function(e){l10n=e||{},apply&&_applyLocalization()}).catch(function(e){l10n=l10n||{},apply&&_applyLocalization(),"loaded"==e.message||console.log("fetch error: "+e)})};if(window.fetch)_requireLang();else{var polyfills=["../vendor/fetch/fetch.umd"];window.Promise?require(polyfills,_requireLang):require(["../vendor/es6-promise/es6-promise.auto.min.js"],function(){require(polyfills,_requireLang)})}return{apply:_applyLocalization,get:_get}},define("locale",function(){}),define("common/main/lib/util/LocalStorage",["gateway"],function(){Common.localStorage=new function(){var e,t,i={},a=function(e){"localstorage"==e.type&&(i=e.keys)};Common.Gateway.on("internalcommand",a);var n=function(){p||Common.Gateway.internalMessage("localstorage",{cmd:"get",keys:t})},o=function(){p||Common.Gateway.internalMessage("localstorage",{cmd:"set",keys:i})},s=function(e,t,a){if(p)try{localStorage.setItem(e,t)}catch(e){}else i[e]=t,!0===a&&Common.Gateway.internalMessage("localstorage",{cmd:"set",keys:{name:t}})},r=function(e,t,i){s(e,t?1:0,i)},l=function(e){return p?localStorage.getItem(e):void 0===i[e]?null:i[e]},c=function(e,t){var i=l(e);return t=t||!1,null!==i?0!=parseInt(i):t},d=function(e){return null!==l(e)};try{var p=!!window.localStorage}catch(e){p=!1}return{getId:function(){return e},setId:function(t){e=t},getItem:l,getBool:c,setBool:r,setItem:s,setKeysFilter:function(e){t=e},getKeysFilter:function(){return t},itemExists:d,sync:n,save:o}}}),void 0===Common)var Common={};if(void 0===Common.Utils&&(Common.Utils={}),Common.Utils=_.extend(new function(){var e=navigator.userAgent.toLowerCase(),t=function(t){return t.test(e)},i="CSS1Compat"==document.compatMode,a=function(t,i){var a;return t&&(a=i.exec(e))?parseFloat(a[1]):0},n=document.documentMode,o=(t(/edge/),t(/opera/)),s=o&&t(/version\/10\.5/),r=!o&&(t(/msie/)||t(/trident/)||t(/edge/)),l=r&&(t(/msie 7/)&&8!=n&&9!=n&&10!=n||7==n),c=r&&(t(/msie 8/)&&7!=n&&9!=n&&10!=n||8==n),d=r&&(t(/msie 9/)&&7!=n&&8!=n&&10!=n||9==n),p=r&&(t(/msie 10/)&&7!=n&&8!=n&&9!=n||10==n),u=r&&(t(/trident\/7\.0/)&&7!=n&&8!=n&&9!=n&&10!=n||11==n),h=r&&t(/msie 6/),m=!r&&t(/\bchrome\b/),f=!r&&t(/webkit/),g=!r&&!m&&t(/safari/),v=g&&t(/applewebkit\/4/),b=g&&t(/version\/3/),C=g&&t(/version\/4/),y=g&&t(/version\/5\.0/),x=g&&t(/version\/5/),w=!f&&!r&&t(/gecko/),S=w&&t(/rv:1\.9/),T=w&&t(/rv:2\.0/),k=w&&t(/rv:5\./),A=w&&t(/rv:10\./),E=S&&t(/rv:1\.9\.0/),_=S&&t(/rv:1\.9\.1/),I=S&&t(/rv:1\.9\.2/),M=t(/windows|win32/),P=t(/macintosh|mac os x/),L=t(/linux/),R=a(!0,/\bchrome\/(\d+\.\d+)/),N=a(!0,/\bfirefox\/(\d+\.\d+)/),D=a(r,/msie (\d+\.\d+)/),O=a(o,/version\/(\d+\.\d+)/),F=a(g,/version\/(\d+\.\d+)/),B=a(f,/webkit\/(\d+\.\d+)/),U=/^https/i.test(window.location.protocol),z=/^(mailto:)?([a-z0-9'\._-]+@[a-z0-9\.-]+\.[a-z0-9]{2,4})([a-яё0-9\._%+-=\? :&]*)/i,H=/^(((https?)|(ftps?)):\/\/)?([\-\wа-яё]*:?[\-\wа-яё]*@)?(((1[0-9]{2}|2[0-4][0-9]|25[0-5]|[1-9][0-9]|[0-9])\.){3}(1[0-9]{2}|2[0-4][0-9]|25[0-5]|[1-9][0-9]|[0-9]))(:\d+)?(\/[%\-\wа-яё]*(\.[\wа-яё]{2,})?(([\wа-яё\-\.\?\\\/+@&#;:`~=%!,\(\)]*)(\.[\wа-яё]{2,})?)*)*\/?/i,V=/^(((https?)|(ftps?)):\/\/)?([\-\wа-яё]*:?[\-\wа-яё]*@)?(([\-\wа-яё]+\.)+[\wа-яё\-]{2,}(:\d+)?(\/[%\-\wа-яё]*(\.[\wа-яё]{2,})?(([\wа-яё\-\.\?\\\/+@&#;:`'~=%!,\(\)]*)(\.[\wа-яё]{2,})?)*)*\/?)/i,j=/^(((https?)|(ftps?)):\/\/)([\-\wа-яё]*:?[\-\wа-яё]*@)?(([\-\wа-яё]+)(:\d+)?(\/[%\-\wа-яё]*(\.[\wа-яё]{2,})?(([\wа-яё\-\.\?\\\/+@&#;:`'~=%!,\(\)]*)(\.[\wа-яё]{2,})?)*)*\/?)/i,G=/(mailto:)?([a-z0-9'\._-]+@[a-z0-9\.-]+\.[a-z0-9]{2,4})([a-яё0-9\._%+-=\?:&]*)/gi,q=/(mailto:|\s[@]|\s[+])?([a-z0-9'\._-]+@[a-z0-9\.-]+\.[a-z0-9]{2,4})([a-яё0-9\._%+-=\?:&]*)/gi,W=/(((https?)|(ftps?)):\/\/([\-\wа-яё]*:?[\-\wа-яё]*@)?)(((1[0-9]{2}|2[0-4][0-9]|25[0-5]|[1-9][0-9]|[0-9])\.){3}(1[0-9]{2}|2[0-4][0-9]|25[0-5]|[1-9][0-9]|[0-9]))(:\d+)?(\/[%\-\wа-яё]*(\.[\wа-яё]{2,})?(([\wа-яё\-\.\?\\\/+@&#;:`~=%!,\(\)]*)(\.[\wа-яё]{2,})?)*)*\/?/gi,X=/((((https?)|(ftps?)):\/\/([\-\wа-яё]*:?[\-\wа-яё]*@)?)|(([\-\wа-яё]*:?[\-\wа-яё]*@)?www\.))((([\-\wа-яё]+\.)+[\wа-яё\-]{2,}|([\-\wа-яё]+))(:\d+)?(\/[%\-\wа-яё]*(\.[\wа-яё]{2,})?(([\wа-яё\-\.\?\\\/+@&#;:`~=%!,\(\)]*)(\.[\wа-яё]{2,})?)*)*\/?)/gi,Y={Paragraph:0,Table:1,Header:2,TextArt:3,Shape:4,Image:5,Slide:6,Chart:7,MailMerge:8,Signature:9,Pivot:10,Cell:11},K={DRM:0,CSV:1,TXT:2,Paste:3,Columns:4},J=/android|avantgo|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent||navigator.vendor||window.opera),Q=this,Z=function(){if(Q.zoom=1,m&&!o&&!J&&document&&document.firstElementChild&&document.body)if(window.devicePixelRatio>.1){if(window.devicePixelRatio<1.99){var e=1;Q.zoom=window.devicePixelRatio/e}else{var e=2;Q.zoom=window.devicePixelRatio/e}document.firstElementChild.style.zoom=1/Q.zoom}else document.firstElementChild.style.zoom="normal";Q.innerWidth=window.innerWidth*Q.zoom,Q.innerHeight=window.innerHeight*Q.zoom};return Q.zoom=1,Q.innerWidth=window.innerWidth,Q.innerHeight=window.innerHeight,Z(),$(window).on("resize",Z),{userAgent:e,isStrict:i,isIEQuirks:r&&!i&&(h||l||c||d),isOpera:o,isOpera10_5:s,isWebKit:f,isChrome:m,isSafari:g,isSafari3:b,isSafari4:C,isSafari5:x,isSafari5_0:y,isSafari2:v,isIE:r,isIE6:h,isIE7:l,isIE7m:h||l,isIE7p:r&&!h,isIE8:c,isIE8m:h||l||c,isIE8p:r&&!(h||l),isIE9:d,isIE9m:h||l||c||d,isIE9p:r&&!(h||l||c),isIE10:p,isIE10m:h||l||c||d||p,isIE10p:r&&!(h||l||c||d),isIE11:u,isIE11m:h||l||c||d||p||u,isIE11p:r&&!(h||l||c||d||p),isGecko:w,isGecko3:S,isGecko4:T,isGecko5:k,isGecko10:A,isFF3_0:E,isFF3_5:_,isFF3_6:I,isFF4:4<=N&&N<5,isFF5:5<=N&&N<6,isFF10:10<=N&&N<11,isLinux:L,isWindows:M,isMac:P,chromeVersion:R,firefoxVersion:N,ieVersion:D,operaVersion:O,safariVersion:F,webKitVersion:B,isSecure:U,emailRe:z,ipRe:H,hostnameRe:V,localRe:j,emailStrongRe:G,emailAddStrongRe:q,ipStrongRe:W,hostnameStrongRe:X,documentSettingsType:Y,importTextType:K,zoom:function(){return Q.zoom},innerWidth:function(){return Q.innerWidth},innerHeight:function(){return Q.innerHeight}}},Common.Utils||{}),Common.Utils.ThemeColor=new function(){return{ThemeValues:[6,15,7,16,0,1,2,3,4,5],setColors:function(e,t){var i,a,n;if(t&&t.length>0){var o=[];for(i=0;i<t.length;i++)n=this.getHexColor(t[i].get_r(),t[i].get_g(),t[i].get_b()),o.push(n);this.standartcolors=o}var s=[];for(i=0;i<6;i++)for(a=0;a<10;a++){var r=i+6*a;n={color:this.getHexColor(e[r].get_r(),e[r].get_g(),e[r].get_b()),effectId:r,effectValue:this.ThemeValues[a]},s.push(n)}this.effectcolors=s},getEffectColors:function(){return this.effectcolors},getStandartColors:function(){return this.standartcolors},getHexColor:function(e,t,i){return e=e.toString(16),t=t.toString(16),i=i.toString(16),1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==i.length&&(i="0"+i),e+t+i},getRgbColor:function(e){var t="object"==typeof e?e.color:e;t=t.replace(/#/,""),3==t.length&&(t=t.replace(/(.)/g,"$1$1")),t=parseInt(t,16);var i=new Asc.asc_CColor;return i.put_type("object"==typeof e&&void 0!==e.effectId?Asc.c_oAscColor.COLOR_TYPE_SCHEME:Asc.c_oAscColor.COLOR_TYPE_SRGB),i.put_r(t>>16),i.put_g((65280&t)>>8),i.put_b(255&t),i.put_a(255),void 0!==e.effectId&&i.put_value(e.effectId),i},colorValue2EffectId:function(e){if("object"==typeof e&&void 0!==e.effectValue&&this.effectcolors)for(var t=0;t<this.effectcolors.length;t++)if(this.effectcolors[t].effectValue===e.effectValue&&e.color.toUpperCase()===this.effectcolors[t].color.toUpperCase()){e.effectId=this.effectcolors[t].effectId;break}return e}}},Common.Utils.Metric=_.extend(new function(){var e=this;return e.c_MetricUnits={cm:0,pt:1,inch:2},e.currentMetric=e.c_MetricUnits.pt,e.metricName=["Cm","Pt","Inch"],e.defaultMetric=e.c_MetricUnits.cm,{c_MetricUnits:e.c_MetricUnits,txtCm:"cm",txtPt:"pt",txtInch:'"',setCurrentMetric:function(t){e.currentMetric=t},getCurrentMetric:function(){return e.currentMetric},getCurrentMetricName:function(){return this["txt"+e.metricName[e.currentMetric]]},getMetricName:function(t){return this["txt"+e.metricName[void 0!==t?t:0]]},setDefaultMetric:function(t){e.defaultMetric=t},getDefaultMetric:function(){return e.defaultMetric},fnRecalcToMM:function(t){if(null!==t&&void 0!==t)switch(e.currentMetric){case e.c_MetricUnits.cm:return 10*t;case e.c_MetricUnits.pt:return 25.4*t/72;case e.c_MetricUnits.inch:return 25.4*t}return t},fnRecalcFromMM:function(t){switch(e.currentMetric){case e.c_MetricUnits.cm:return parseFloat((t/10).toFixed(4));case e.c_MetricUnits.pt:return parseFloat((72*t/25.4).toFixed(3));case e.c_MetricUnits.inch:return parseFloat((t/25.4).toFixed(3))}return t}}},Common.Utils.Metric||{}),Common.Utils.RGBColor=function(e){var t,i,a;"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^hsb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){var t={},i=Math.round(e[1]),a=Math.round(255*e[2]/100),n=Math.round(255*e[3]/100);if(0==a)t.r=t.g=t.b=n;else{var o=n,s=(255-a)*n/255,r=i%60*(o-s)/60;360==i&&(i=0),i<60?(t.r=o,t.b=s,t.g=s+r):i<120?(t.g=o,t.b=s,t.r=o-r):i<180?(t.g=o,t.r=s,t.b=s+r):i<240?(t.b=o,t.r=s,t.g=o-r):i<300?(t.b=o,t.g=s,t.r=s+r):i<360?(t.r=o,t.g=s,t.b=o-r):(t.r=0,t.g=0,t.b=0)}return[Math.round(t.r),Math.round(t.g),Math.round(t.b)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<n.length;o++){var s=n[o].re,r=n[o].process,l=s.exec(e);if(l){var c=r(l);t=c[0],i=c[1],a=c[2]}}return t=t<0||isNaN(t)?0:t>255?255:t,i=i<0||isNaN(i)?0:i>255?255:i,a=a<0||isNaN(a)?0:a>255?255:a,{r:t,g:i,b:a,isEqual:function(e){return t==e.r&&i==e.g&&a==e.b},toRGB:function(){return"rgb("+t+", "+i+", "+a+")"},toRGBA:function(e){return void 0===e&&(e=1),"rgba("+t+", "+i+", "+a+", "+e+")"},toHex:function(){var e=t.toString(16),n=i.toString(16),o=a.toString(16);return 1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),1==o.length&&(o="0"+o),"#"+e+n+o},toHSB:function(){var e={h:0,s:0,b:0},n=Math.min(t,i,a),o=Math.max(t,i,a),s=o-n;return e.b=o,e.s=0!=o?255*s/o:0,0!=e.s?e.h=t==o?0+(i-a)/s:i==o?2+(a-t)/s:4+(t-i)/s:e.h=0,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e.h=parseInt(e.h),e.s=parseInt(e.s),e.b=parseInt(e.b),e}}},Common.Utils.String=new function(){return{format:function(e){var t=_.toArray(arguments).slice(1);return t.length&&"object"==typeof t[0]&&(t=t[0]),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},htmlEncode:function(e){return _.escape(e)},htmlDecode:function(e){return _.unescape(e)},ellipsis:function(e,t,i){if(e&&e.length>t){if(i){var a=e.substr(0,t-2),n=Math.max(a.lastIndexOf(" "),a.lastIndexOf("."),a.lastIndexOf("!"),a.lastIndexOf("?"));if(-1!==n&&n>=t-15)return a.substr(0,n)+"..."}return e.substr(0,t-3)+"..."}return e},platformKey:function(e,t,i){return _.isEmpty(t)&&(t=" ({0})"),Common.Utils.isMac?(_.isFunction(i)&&(e=i.call(this,e)),Common.Utils.String.format(t,e.replace(/\+(?=\S)/g,"").replace(/Ctrl|ctrl/g,"⌘").replace(/Alt|alt/g,"⌥").replace(/Shift|shift/g,"⇧"))):Common.Utils.String.format(t,e)}}},Common.Utils.isBrowserSupported=function(){return!(0!=Common.Utils.ieVersion&&Common.Utils.ieVersion<10||0!=Common.Utils.safariVersion&&Common.Utils.safariVersion<5||0!=Common.Utils.firefoxVersion&&Common.Utils.firefoxVersion<4||0!=Common.Utils.chromeVersion&&Common.Utils.chromeVersion<7||0!=Common.Utils.operaVersion&&Common.Utils.operaVersion<10.5)},Common.Utils.showBrowserRestriction=function(){if(!(document.getElementsByClassName&&document.getElementsByClassName("app-error-panel").length>0)){var e=window.DE?"Document":window.SSE?"Spreadsheet":window.PE?"Presentation":"that",t=document.createElement("div");t.innerHTML='<div class="app-error-panel"><div class="message-block"><div class="message-inner"><div class="title">Your browser is not supported.</div><div class="text">Sorry, '+e+' Editor is currently only supported in the latest versions of the Chrome, Firefox, Safari or Internet Explorer web browsers.</div></div></div><div class="message-auxiliary"></div></div>',document.body.appendChild(t),$("#loading-mask").hide().remove(),$("#viewport").hide().remove()}},Common.Utils.applyCustomization=function(e,t){for(var i in e){var a;if(t[i]&&(a=$(t[i]),a.length)){var n=e[i];!1===n||!1===n.visible?a.hide():(n.text&&a.text(n.text),!1===n.visible&&a.hide())}}},Common.Utils.applyCustomizationPlugins=function(plugins){if(plugins&&!(plugins.length<1)){var _createXMLHTTPObject=function(){var e;if("undefined"!=typeof XMLHttpRequest)e=new XMLHttpRequest;else try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e},_getPluginCode=function(url){if(!url)return"";try{var xhrObj=_createXMLHTTPObject();xhrObj&&url&&(xhrObj.open("GET",url,!1),xhrObj.send(""),200==xhrObj.status&&eval(xhrObj.responseText))}catch(e){}return null};plugins.forEach(function(e){e&&_getPluginCode(e)})}},Common.Utils.fillUserInfo=function(e,t,i){var a=e||{};return!a.id&&(a.id="uid-"+Date.now()),a.fullname=_.isEmpty(a.name)?i:a.name,a},Common.Utils.createXhr=function(){var e;if("undefined"!=typeof XMLHttpRequest)e=new XMLHttpRequest;else try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e},Common.Utils.getConfigJson=function(e){if(e)try{var t=Common.Utils.createXhr();if(t)return t.open("GET",e,!1),t.send(""),JSON.parse(t.responseText)}catch(e){}return null},Common.Utils.loadConfig=function(e,t){"use strict";fetch(e).then(function(e){return e.ok?e.json():"error"}).then(function(e){t(e)})},Common.Utils.asyncCall=function(e,t,i){new Promise(function(e,t){e()}).then(function(){e.call(t,i)})},String.prototype.strongMatch=function(e){if(e&&e instanceof RegExp){var t=this.toString().match(e);return!!(t&&t.length>0&&t[0].length==this.length)}return!1},Common.Utils.InternalSettings=new function(){var e={};return{get:function(t){return e[t]},set:function(t,i){e[t]=i}}},Common.Utils.lockControls=function(e,t,i,a){function n(e,i){if(e&&_.contains(e.options.lock,i)){var a=e.keepState.indexOf(i);t?a<0&&e.keepState.push(i):a<0||e.keepState.splice(a,1)}}!i&&(i={});var o=i.array||a;i.merge&&(o=_.union(a,o)),_.each(o,function(t){t&&_.isFunction(t.setDisabled)&&(!t.keepState&&(t.keepState=[]),i.clear&&i.clear.length>0&&t.keepState.length>0&&(t.keepState=_.difference(t.keepState,i.clear)),_.isArray(e)?_.each(e,function(e){n(t,e)}):n(t,e),t.keepState.length>0?!t.isDisabled()&&t.setDisabled(!0):t.isDisabled()&&t.setDisabled(!1))})},Common.Utils.injectButtons=function(e,t,i,a,n,o,s,r){var l=createButtonSet();return l.setDisabled(!0),t=t||"id-toolbar-"+i,e.each(function(c,d){var p="btn-toolbar";/x-huge/.test(d.className)&&(p+=" x-huge icon-top");var u=new Common.UI.Button({id:t+c,cls:p,iconCls:i,caption:a,split:o||!1,menu:s||!1,enableToggle:r||!1,lock:n,disabled:!0}).render(e.eq(c));l.add(u)}),l},Common.Utils.injectComponent=function(e,t){t&&e.length&&(t.rendered?e.append(t.$el):t.render(e))},Common.Utils.InternalSettings.set("toolbar-height-tabs",32),Common.Utils.InternalSettings.set("toolbar-height-tabs-top-title",28),Common.Utils.InternalSettings.set("toolbar-height-controls",67),Common.Utils.InternalSettings.set("document-title-height",28),Common.Utils.InternalSettings.set("toolbar-height-compact",Common.Utils.InternalSettings.get("toolbar-height-tabs")),Common.Utils.InternalSettings.set("toolbar-height-normal",Common.Utils.InternalSettings.get("toolbar-height-tabs")+Common.Utils.InternalSettings.get("toolbar-height-controls")),define("common/main/lib/util/utils",function(){}),void 0===Common)var Common={};if(Common.Controllers=Common.Controllers||{},define("common/mobile/lib/controller/Plugins",["core","jquery","underscore","backbone"],function(e,t,i,a){"use strict";Common.Controllers.Plugins=a.Controller.extend(i.extend(function(){var e;return{configPlugins:{autostart:[]},serverPlugins:{autostart:[]},models:[],collections:[],views:[],initialize:function(){},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onPluginShow",i.bind(this.showPluginModal,this)),this.api.asc_registerCallback("asc_onPluginClose",i.bind(this.pluginClose,this)),this.api.asc_registerCallback("asc_onPluginResize",i.bind(this.pluginResize,this)),this.api.asc_registerCallback("asc_onPluginsInit",i.bind(this.registerPlugins,this))},onLaunch:function(){Common.Gateway.on("init",this.loadConfig.bind(this))},setMode:function(e){this.appConfig=e,this.loadPlugins()},showPluginModal:function(a,n,o,s){var r=this,l=(Framework7.prototype.device.android,a.get_Variations()[n]);if(l.get_Visual()){var c=l.get_Url();c=(0==a.get_BaseUrl().length?c:a.get_BaseUrl())+c,s&&(c+=s);var d=l.get_CustomWindow(),p=l.get_Buttons(),u=[],h=l.get_Size();if(i.isArray(p)&&i.each(p,function(e,t){(r.appConfig.isEdit||!1!==e.isViewer)&&(u[t]={text:e.text,attributes:{result:t}})}),uiApp.closeModal(),e=uiApp.modal({title:"",text:"",afterText:'<div id="plugin-frame" class=""></div>',buttons:d?void 0:u}),t("#plugin-frame").html('<div class="preloader"></div>'),r.iframe=document.createElement("iframe"),r.iframe.id=o,r.iframe.name="pluginFrameEditor",r.iframe.width="100%",r.iframe.height="100%",r.iframe.align="top",r.iframe.frameBorder=0,r.iframe.scrolling="no",r.iframe.src=c,setTimeout(function(){t("#plugin-frame").html(r.iframe)},100),$$(e).find(".modal-button").on("click",i.bind(r.onDlgBtnClick,r)),$$(e).css({margin:"0",width:"90%",left:"5%",height:"auto",top:"20px"}),$$(e).find(".modal-inner").css({padding:"0"}),Common.SharedSettings.get("phone")){var m=Math.min(h[1],240);$$(e).find("#plugin-frame").css({height:m+"px"})}else{var m=Math.min(h[1],500);$$(e).find("#plugin-frame").css({height:m+"px"})}!0===Framework7.prototype.device.android&&($$(".view.collaboration-root-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.collaboration-root-view .navbar").prependTo(".view.collaboration-root-view > .pages > .page"))}},onDlgBtnClick:function(e){var i=t(e.currentTarget).index();this.api.asc_pluginButtonClick(i)},pluginClose:function(e){this.iframe&&(this.iframe=null)},pluginResize:function(t){if(Common.SharedSettings.get("phone")){var i=Math.min(t[1],240);$$(e).find("#plugin-frame").css({height:i+"px"})}else{var i=Math.min(t[1],500);$$(e).find("#plugin-frame").css({height:i+"px"})}},loadConfig:function(e){this.configPlugins.config=e.config.plugins},loadPlugins:function(){var e=this;e.configPlugins.config?e.getPlugins(e.configPlugins.config.pluginsData).then(function(t){e.configPlugins.plugins=t,e.mergePlugins()}):e.configPlugins.plugins=!1;Common.Utils.loadConfig("../../../../plugins.json",function(t){"error"!=t?(e.serverPlugins.config=t,e.getPlugins(e.serverPlugins.config.pluginsData).then(function(t){e.serverPlugins.plugins=t,e.mergePlugins()})):e.serverPlugins.plugins=!1})},mergePlugins:function(){var e=this;if(void 0!==e.serverPlugins.plugins&&void 0!==e.configPlugins.plugins){var t=[],i=this.configPlugins;i.plugins&&i.plugins.length>0&&(t=i.plugins),i=this.serverPlugins,i.plugins&&i.plugins.length>0&&(t=t.concat(i.plugins)),this.registerPlugins(t)}},registerPlugins:function(e){var t=this,i=[];e.forEach(function(e){var t=new Asc.CPlugin;t.set_Name(e.name),t.set_Guid(e.guid),t.set_BaseUrl(e.baseUrl);var a=e.variations,n=[];a.forEach(function(e){var t=new Asc.CPluginVariation;t.set_Description(e.description),t.set_Url(e.url),t.set_Icons(e.icons),t.set_Visual(e.isVisual),t.set_CustomWindow(e.isCustomWindow),t.set_System(e.isSystem),t.set_Viewer(e.isViewer),t.set_EditorsSupport(e.EditorsSupport),t.set_Modal(e.isModal),t.set_InsideMode(e.isInsideMode),t.set_InitDataType(e.initDataType),t.set_InitData(e.initData),t.set_UpdateOleOnResize(e.isUpdateOleOnResize),t.set_Buttons(e.buttons),t.set_Size(e.size),t.set_InitOnSelectionChanged(e.initOnSelectionChanged),t.set_Events(e.events),n.push(t)}),t.set_Variations(n),i.push(t)}),t.api.asc_pluginsRegister("",i)},getPlugins:function(e,t){if(!e||e.length<1)return Promise.resolve([]);t=t||function(e){return fetch(e).then(function(t){return t.ok?t.json():Promise.reject(e)}).then(function(t){return t.baseUrl=e.substring(0,e.lastIndexOf("config.json")),t})};var i=[];return e.map(t).reduce(function(e,t){return e.then(function(){return t}).then(function(e){return i.push(e),Promise.resolve(e)}).catch(function(e){return Promise.resolve(e)})},Promise.resolve()).then(function(){return Promise.resolve(i)})},textCancel:"Cancel",textLoading:"Loading"}}(),Common.Controllers.Plugins||{}))}),define("text",["module"],function(e){"use strict";var t,i,a,n,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,d=c&&location.protocol&&location.protocol.replace(/\:/,""),p=c&&location.hostname,u=c&&(location.port||void 0),h={},m=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(r,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){i=s[t];try{e=new ActiveXObject(i)}catch(e){}if(e){s=[i];break}}return e},parseName:function(e){var t,i,a,n=!1,o=e.indexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),i=e.substring(o+1,e.length)):t=e,a=i||t,o=a.indexOf("!"),-1!==o&&(n="strip"===a.substring(o+1),a=a.substring(0,o),i?i=a:t=a),{moduleName:t,ext:i,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,a,n){var o,s,r,l=t.xdRegExp.exec(e);return!l||(o=l[2],s=l[3],s=s.split(":"),r=s[1],s=s[0],!(o&&o!==i||s&&s.toLowerCase()!==a.toLowerCase()||(r||s)&&r!==n))},finishLoad:function(e,i,a,n){a=i?t.strip(a):a,m.isBuild&&(h[e]=a),n(a)},load:function(e,i,a,n){if(n.isBuild&&!n.inlineText)return void a();m.isBuild=n.isBuild;var o=t.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),r=i.toUrl(s),l=m.useXhr||t.useXhr;if(0===r.indexOf("empty:"))return void a();!c||l(r,d,p,u)?t.get(r,function(i){t.finishLoad(e,o.strip,i,a)},function(e){a.error&&a.error(e)}):i([s],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,a)})},write:function(e,i,a,n){if(h.hasOwnProperty(i)){var o=t.jsEscape(h[i]);a.asModule(e+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,i,a,n,o){var s=t.parseName(i),r=s.ext?"."+s.ext:"",l=s.moduleName+r,c=a.toUrl(s.moduleName+r)+".js";t.load(l,a,function(i){var a=function(e){return n(c,e)};a.asModule=function(e,t){return n.asModule(e,c,t)},t.write(e,l,a,o)},o)}},"node"===m.env||!m.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(i=require.nodeRequire("fs"),t.get=function(e,t,a){try{var n=i.readFileSync(e,"utf8");0===n.indexOf("\ufeff")&&(n=n.substring(1)),t(n)}catch(e){a(e)}}):"xhr"===m.env||!m.env&&t.createXhr()?t.get=function(e,i,a,n){var o,s=t.createXhr();if(s.open("GET",e,!0),n)for(o in n)n.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),n[o]);m.onXhr&&m.onXhr(s,e),s.onreadystatechange=function(t){var n,o;4===s.readyState&&(n=s.status,n>399&&n<600?(o=new Error(e+" HTTP status: "+n),o.xhr=s,a(o)):i(s.responseText),m.onXhrComplete&&m.onXhrComplete(s,e))},s.send(null)}:"rhino"===m.env||!m.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var i,a,n=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),r="";try{for(i=new java.lang.StringBuffer,a=s.readLine(),a&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),null!==a&&i.append(a);null!==(a=s.readLine());)i.append(o),i.append(a);r=String(i.toString())}finally{s.close()}t(r)}:("xpconnect"===m.env||!m.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(a=Components.classes,n=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in a,t.get=function(e,t){var i,s,r,l={};o&&(e=e.replace(/\//g,"\\")),r=new FileUtils.File(e);try{i=a["@mozilla.org/network/file-input-stream;1"].createInstance(n.nsIFileInputStream),i.init(r,1,0,!1),s=a["@mozilla.org/intl/converter-input-stream;1"].createInstance(n.nsIConverterInputStream),s.init(i,"utf-8",i.available(),n.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(i.available(),l),s.close(),i.close(),t(l.value)}catch(e){throw new Error((r&&r.path||"")+": "+e)}}),t}),define("text!spreadsheeteditor/mobile/app/template/Editor.template",[],function(){return'<div class="views"><div class="view view-main"><div class="pages navbar-through"><div data-page="index" class="page editor flex-horizontal"><div id="editor_sdk" class="page-content no-fastclick"></div></div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/Editor",["text!spreadsheeteditor/mobile/app/template/Editor.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.Editor=a.View.extend({el:"body",template:i.template(e),events:{},initialize:function(){},render:function(){return t(this.el).html(this.template({backTitle:(Framework7.prototype.device.android,"")})),this.f7View=uiApp.addView(".view-main",{}),this}})}),define("spreadsheeteditor/mobile/app/controller/Editor",["core","spreadsheeteditor/mobile/app/view/Editor"],function(e){"use strict";SSE.Controllers.Editor=Backbone.Controller.extend(function(){function e(){var e=navigator.userAgent,t=/Mobile(\/|\s)/.test(e);return/(iPhone|iPod)/.test(e)||!/(Silk)/.test(e)&&/(Android)/.test(e)&&(/(Android 2)/.test(e)||t)||/(BlackBerry|BB)/.test(e)&&t||/(Windows Phone)/.test(e)}function t(){var e=navigator.userAgent;return/Sailfish/.test(e)||/Jolla/.test(e)}return{models:[],collections:[],views:["Editor"],initialize:function(){},setApi:function(e){this.api=e},onLaunch:function(){var i=e();t()&&(Common.SharedSettings.set("sailfish",!0),$("html").addClass("sailfish")),Common.SharedSettings.set("android",Framework7.prototype.device.android),Common.SharedSettings.set("phone",i),$("html").addClass(i?"phone":"tablet"),this.editorView=this.createView("Editor").render(),$$(window).on("resize",_.bind(this.onWindowResize,this)),Common.NotificationCenter.on("layout:changed",function(e,t){"navbar"==e&&this.editorView.$el.find(".page.editor")[t.hidden?"addClass":"removeClass"]("no-padding")}.bind(this))},onWindowResize:function(e){this.api&&this.api.asc_Resize()}}}())}),define("text!spreadsheeteditor/mobile/app/template/Toolbar.template",[],function(){return'<div class="navbar" id="editor-navbar"><div class="navbar-inner"><div class="left"><a id="document-back" href="#" class="link" style="min-width: 22px; display: none;"><i class="icon icon-back"></i> <% if (backTitle && !phone) { %> <span class="subtitle"><%= backTitle %></span> <% } %> </a> <% if (!android) { %> <a href="#" id="toolbar-undo" class="link icon-only disabled" style="display: none;"><i class="icon icon-undo"></i> </a><a href="#" id="toolbar-redo" class="link icon-only disabled" style="display: none;"><i class="icon icon-redo"></i> </a> <% } %> </div> <% if (!phone) { %> <div class="center" id="toolbar-title"></div> <% } %> <div class="right"> <% if (android) { %> <a href="#" id="toolbar-undo" class="link icon-only disabled" style="display: none;"><i class="icon icon-undo"></i> </a><a href="#" id="toolbar-redo" class="link icon-only disabled" style="display: none;"><i class="icon icon-redo"></i> </a> <% } %> <a href="#" id="toolbar-edit" class="link icon-only" style="display: none;"><i class="icon icon-edit-settings"></i> </a><a href="#" id="toolbar-add" class="link icon-only" style="display: none;"><i class="icon icon-plus"></i> </a><a href="#" id="toolbar-edit-document" class="link icon-only" style="display: none;"><i class="icon icon-edit"></i> </a> <% if (!phone) { %> <a href="#" id="toolbar-search" class="link icon-only"><i class="icon icon-search"></i> </a> <% } %> <% if (width >= 360) { %> <a href="#" id="toolbar-collaboration" class="link icon-only disabled" style="display: none;"><i class="icon icon-collaboration"></i> </a> <% } %> <a href="#" id="toolbar-settings" class="link icon-only"><i class="icon icon-settings"></i></a></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/Toolbar",["text!spreadsheeteditor/mobile/app/template/Toolbar.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.Toolbar=a.View.extend(i.extend(function(){return{
el:".view-main",template:i.template(e),events:{"click #toolbar-search":"searchToggle","click #toolbar-edit":"showEdition","click #toolbar-add":"showInserts","click #toolbar-settings":"showSettings","click #toolbar-edit-document":"editDocument","click #toolbar-collaboration":"showCollaboration"},initialize:function(){},render:function(){var e=this,a=t(e.el);return a.prepend(e.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),backTitle:Common.SharedSettings.get("android")?"":e.textBack,width:t(window).width()})),t(".view-main .navbar").on("addClass removeClass",i.bind(e.onDisplayMainNavbar,e)),t("#toolbar-edit, #toolbar-add, #toolbar-settings, #toolbar-search, #document-back, #toolbar-edit-document").addClass("disabled"),this.$btnEdit=a.find("#toolbar-edit"),this.$btnAdd=a.find("#toolbar-add"),e},setMode:function(e){e.isEdit?t("#toolbar-edit, #toolbar-add, #toolbar-undo, #toolbar-redo").show():e.canEdit&&e.canRequestEditRights&&t("#toolbar-edit-document").show()},onDisplayMainNavbar:function(e){var i=t(e.currentTarget),a=i.hasClass("navbar-hidden"),n=t(".picker-modal").height()||260;t("#editor_sdk").css({top:a?0:"",bottom:a?n:""})},searchToggle:function(){$$(".searchbar.document").length>0?this.hideSearch():this.showSearch()},showSearch:function(){SSE.getController("Search").showSearch()},hideSearch:function(){SSE.getController("Search").hideSearch()},showEdition:function(){SSE.getController("EditContainer").showModal()},showInserts:function(){SSE.getController("AddContainer").showModal()},showSettings:function(){SSE.getController("Settings").showModal()},disableControl:function(e,t){e.indexOf("add")<0||this.$btnAdd.toggleClass("disabled",t),e.indexOf("edit")<0||this.$btnEdit.toggleClass("disabled",t)},editDocument:function(){Common.Gateway.requestEditRights()},showCollaboration:function(){SSE.getController("Common.Controllers.Collaboration").showModal()},textBack:"Back"}}(),SSE.Views.Toolbar||{}))}),define("spreadsheeteditor/mobile/app/controller/Toolbar",["core","jquery","underscore","backbone","spreadsheeteditor/mobile/app/view/Toolbar"],function(e,t,i,a){"use strict";SSE.Controllers.Toolbar=a.Controller.extend(i.extend(function(){var e,a={book:!1,sheet:!1};return{models:[],collections:[],views:["Toolbar"],initialize:function(){Common.Gateway.on("init",i.bind(this.loadConfig,this))},loadConfig:function(a){a&&a.config&&!1!==a.config.canBackToFolder&&a.config.customization&&a.config.customization.goback&&a.config.customization.goback.url&&(e=a.config.customization.goback.url,t("#document-back").show().single("click",i.bind(this.onBack,this)))},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onCanUndoChanged",i.bind(this.onApiCanRevert,this,"undo")),this.api.asc_registerCallback("asc_onCanRedoChanged",i.bind(this.onApiCanRevert,this,"redo")),this.api.asc_registerCallback("asc_onSelectionChanged",this.onApiSelectionChanged.bind(this)),this.api.asc_registerCallback("asc_onWorkbookLocked",i.bind(this.onApiWorkbookLocked,this)),this.api.asc_registerCallback("asc_onWorksheetLocked",i.bind(this.onApiWorksheetLocked,this)),this.api.asc_registerCallback("asc_onActiveSheetChanged",i.bind(this.onApiActiveSheetChanged,this)),this.api.asc_registerCallback("asc_onCoAuthoringDisconnect",i.bind(this.onCoAuthoringDisconnect,this)),this.api.asc_registerCallback("asc_onAuthParticipantsChanged",i.bind(this.displayCollaboration,this)),this.api.asc_registerCallback("asc_onParticipantsChanged",i.bind(this.displayCollaboration,this)),Common.NotificationCenter.on("api:disconnect",i.bind(this.onCoAuthoringDisconnect,this)),Common.NotificationCenter.on("sheet:active",this.onApiActiveSheetChanged.bind(this))},setMode:function(e){this.getView("Toolbar").setMode(e)},onLaunch:function(){var e=this;e.createView("Toolbar").render(),t("#toolbar-undo").single("click",i.bind(e.onUndo,e)),t("#toolbar-redo").single("click",i.bind(e.onRedo,e))},setDocumentTitle:function(e){t("#toolbar-title").html(e)},onBack:function(t){var i=this;i.api.asc_isDocumentModified()?uiApp.modal({title:i.dlgLeaveTitleText,text:i.dlgLeaveMsgText,verticalButtons:!0,buttons:[{text:i.leaveButtonText,onClick:function(){window.parent.location.href=e}},{text:i.stayButtonText,bold:!0}]}):window.parent.location.href=e},onUndo:function(e){this.api&&this.api.asc_Undo()},onRedo:function(e){this.api&&this.api.asc_Redo()},onApiWorkbookLocked:function(e){a.book=e,this.onApiSelectionChanged()},onApiWorksheetLocked:function(e){a.sheet=e,this.onApiSelectionChanged()},onApiActiveSheetChanged:function(e){a.sheet=this.api.asc_isWorksheetLockedOrDeleted(e),Common.NotificationCenter.trigger("comments:filterchange",["doc","sheet"+this.api.asc_getWorksheetId(e)],!1)},onApiCanRevert:function(e,i){this.isDisconnected||("undo"==e?t("#toolbar-undo").toggleClass("disabled",!i):t("#toolbar-redo").toggleClass("disabled",!i))},onApiSelectionChanged:function(e){if(!this.isDisconnected){e||(e=this.api.asc_getCellInfo());var t=!1;switch(e.asc_getFlags().asc_getSelectionType()){case Asc.c_oAscSelectionType.RangeChart:case Asc.c_oAscSelectionType.RangeImage:case Asc.c_oAscSelectionType.RangeShape:case Asc.c_oAscSelectionType.RangeChartText:case Asc.c_oAscSelectionType.RangeShapeText:var i=this.api.asc_getGraphicObjectProps();for(var a in i)if(i[a].asc_getObjectType()==Asc.c_oAscTypeSelectElement.Image&&(t=i[a].asc_getObjectValue().asc_getLocked()))break;break;default:t=e.asc_getLocked()}this.getView("Toolbar").disableControl(["add","edit"],t)}},activateControls:function(){t("#toolbar-settings, #toolbar-search, #document-back, #toolbar-edit-document, #toolbar-collaboration").removeClass("disabled")},activateViewControls:function(){t("#toolbar-search, #document-back, #toolbar-collaboration").removeClass("disabled")},deactivateEditControls:function(){t("#toolbar-edit, #toolbar-add, #toolbar-settings").addClass("disabled")},onCoAuthoringDisconnect:function(){this.isDisconnected=!0,this.deactivateEditControls(),t("#toolbar-undo").toggleClass("disabled",!0),t("#toolbar-redo").toggleClass("disabled",!0),SSE.getController("AddContainer").hideModal(),SSE.getController("EditContainer").hideModal(),SSE.getController("Settings").hideModal()},displayCollaboration:function(e){if(void 0!==e){var a=0;i.each(e,function(e){e.asc_getView()||a++}),a>0?t("#toolbar-collaboration").show():t("#toolbar-collaboration").hide()}},dlgLeaveTitleText:"You leave the application",dlgLeaveMsgText:"You have unsaved changes in this document. Click 'Stay on this Page' to await the autosave of the document. Click 'Leave this Page' to discard all the unsaved changes.",leaveButtonText:"Leave this Page",stayButtonText:"Stay on this Page"}}(),SSE.Controllers.Toolbar||{}))}),define("text!spreadsheeteditor/mobile/app/template/Search.template",[],function(){return'<div id="search-panel-view"><div class="searchbar document navbar navbar-hidden"><div class="navbar-inner"><div class="left"><a id="search-settings" href="#" class="link icon-only"><i class="icon icon-settings"></i></a></div><div class="center"><form class="searchbar search"><div class="searchbar-input search"><input type="search" placeholder="<%= scope.textSearch %>"><a href="#" class="searchbar-clear"></a></div></form><form class="searchbar replace"><div class="searchbar-input replace"><input type="search" placeholder="<%= scope.textReplace %>"><a href="#" class="searchbar-clear"></a></div></form></div><div class="right"> <% if (phone) { %> <p class="buttons-row"><a href="#" class="link icon-only prev disabled"><i class="icon icon-prev"></i></a> <a href="#" class="link icon-only next disabled"><i class="icon icon-next"></i></a></p><p class="buttons-row replace"><a href="#" class="link replace disabled"><%= scope.textReplace %></a></p> <% } else { %> <p class="buttons-row"><a href="#" class="link replace disabled"><%= scope.textReplace %></a><a href="#" class="link icon-only prev disabled"><i class="icon icon-prev"></i></a> <a href="#" class="link icon-only next disabled"><i class="icon icon-next"></i></a></p> <% } %> </div></div></div></div><div id="search-settings-view"><div class="navbar"><div class="navbar-inner"><div class="center sliding"><%= isEdit ? scope.textFindAndReplace : scope.textFind %></div><div class="right"><% if (phone) { %><a href="#" class="link close-popup"><b><%= scope.textDone %></b></a><% } %></div></div></div><div class="page" data-page="search-settings"><div class="page-content"> <% if (isEdit) { %> <div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="search-type" value="search"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textFind %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="search-type" value="replace"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textFindAndReplace %></div></div></label></li></ul></div> <% } %> <div class="content-block-title"><%= scope.textSearchIn %></div><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="search-in" value="workbook"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textWorkbook %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="search-in" value="sheet"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textSheet %></div></div></label></li></ul></div><div class="content-block-title"><%= scope.textSearchBy %></div><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="search-by" value="rows"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textByRows %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="search-by" value="columns"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textByColumns %></div></div></label></li></ul></div><div class="content-block-title"><%= scope.textLookIn %></div><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="look-in" value="formulas"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textFormulas %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="look-in" value="values"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textValues %></div></div></label></li></ul></div><div class="list-block"><ul><li><div id="search-match-case" class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMatchCase %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li><li><div id="search-match-cell" class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMatchCell %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li><li><div id="search-highlight-res" class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textHighlightRes %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/Search",["text!spreadsheeteditor/mobile/app/template/Search.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.Search=a.View.extend(i.extend(function(){var a,n=!1;return{el:".view-main",template:i.template(e),events:{},initialize:function(){this.on("searchbar:show",i.bind(this.initEvents,this))},initEvents:function(){t("#search-settings").single("click",i.bind(this.showSettings,this))},render:function(){return a=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),isEdit:n,scope:this})),this},setMode:function(e){n=e.isEdit,this.render()},showSettings:function(e){var i=this;if(uiApp.closeModal(),Common.SharedSettings.get("phone"))i.picker=$$(uiApp.popup(['<div class="popup settings">','<div class="view search-settings-view navbar-through">',a.find("#search-settings-view").html(),"</div>","</div>"].join("")));else{i.picker=uiApp.popover(['<div class="popover settings" style="width: 280px; height: 300px;">','<div class="popover-angle"></div>','<div class="popover-inner">','<div class="content-block">','<div class="view popover-view search-settings-view navbar-through" style="height: 300px;">',a.find("#search-settings-view").html(),"</div>","</div>","</div>","</div>"].join(""),$$("#search-settings"));var n=t(".modal-overlay");$$(i.picker).on("opened",function(){n.on("removeClass",function(){n.hasClass("modal-overlay-visible")||n.addClass("modal-overlay-visible")})}).on("close",function(){n.off("removeClass"),n.removeClass("modal-overlay-visible")})}Common.SharedSettings.get("android")&&($$(".view.search-settings-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.search-settings-view .navbar").prependTo(".view.search-settings-view > .pages > .page")),i.fireEvent("searchbar:showsettings",i)},showSearch:function(){var e=this,n=$$(".searchbar.document");if(n.length<1){t(a.find("#search-panel-view").html()).insertAfter(t(e.el).find("#cell-editing-box"));var o=Common.SharedSettings.get("search-is-replace");t(".searchbar.document").toggleClass("replace",!i.isUndefined(o)&&!0===o),e.fireEvent("searchbar:render",e),e.fireEvent("searchbar:show",e),void 0===Common.SharedSettings.get("search-highlight-res")&&Common.SharedSettings.set("search-highlight-res",!0),Common.SharedSettings.get("search-highlight-res")&&this.fireEvent("search:highlight",[this,!0]),void 0===Common.SharedSettings.get("search-by")&&Common.SharedSettings.set("search-by","rows"),void 0===Common.SharedSettings.get("look-in")&&Common.SharedSettings.set("look-in","formulas"),n=$$(".searchbar.document"),i.defer(function(){uiApp.showNavbar(n),n.transitionEnd(function(){n.hasClass("navbar-hidden")||t(".searchbar.search input").focus()})},10)}},hideSearch:function(){var e=this,t=$$(".searchbar.document");if(t.length>0){if(t.hasClass(".navbar-hidding"))return;i.defer(function(){t.transitionEnd(function(){e.fireEvent("searchbar:hide",e),t.remove()}),uiApp.hideNavbar(t)},10)}this.fireEvent("search:highlight",[this,!1])},textFind:"Find",textFindAndReplace:"Find and Replace",textDone:"Done",textSearch:"Search",textReplace:"Replace",textMatchCase:"Match Case",textMatchCell:"Match Cell",textSearchIn:"Search In",textWorkbook:"Workbook",textSheet:"Sheet",textHighlightRes:"Highlight results",textByColumns:"By columns",textByRows:"By rows",textSearchBy:"Search",textLookIn:"Look In",textFormulas:"Formulas",textValues:"Values"}}(),SSE.Views.Search||{}))}),define("spreadsheeteditor/mobile/app/controller/Search",["core","jquery","underscore","backbone","spreadsheeteditor/mobile/app/view/Search"],function(e,t,i,a){"use strict";SSE.Controllers.Search=a.Controller.extend(i.extend(function(){var e=!1,a={},n=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchend"==e.type){var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=i.pageX,t.y=i.pageY}else"mousedown"!=e.type&&"mouseup"!=e.type||(t.x=e.pageX,t.y=e.pageY);return t};return{models:[],collections:[],views:["Search"],initialize:function(){this.addListeners({Search:{"searchbar:show":this.onSearchbarShow,"searchbar:hide":this.onSearchbarHide,"searchbar:render":this.onSearchbarRender,"searchbar:showsettings":this.onSearchbarSettings,"search:highlight":this.onSearchHighlight}})},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onRenameCellTextEnd",i.bind(this.onReplaceNext,this))},setMode:function(e){this.getView("Search").setMode(e)},onLaunch:function(){var e=this;e.createView("Search").render(),t("#editor_sdk").single("mousedown touchstart",i.bind(e.onEditorTouchStart,e)),t("#editor_sdk").single("mouseup touchend",i.bind(e.onEditorTouchEnd,e))},showSearch:function(){this.getView("Search").showSearch()},hideSearch:function(){this.getView("Search").hideSearch()},onEditorTouchStart:function(e){a=n(e)},onEditorTouchEnd:function(t){var i=n(t);if(e){(void 0===a.x||void 0===a.y?0:Math.sqrt((i.x-=a.x)*i.x+(i.y-=a.y)*i.y))<1&&this.hideSearch()}},onSearchbarRender:function(e){var a=this,n=Common.SharedSettings.get("search-search")||"",o=Common.SharedSettings.get("search-replace")||"";a.searchBar=uiApp.searchbar(".searchbar.document .searchbar.search",{customSearch:!0,onSearch:i.bind(a.onSearchChange,a),onEnable:i.bind(a.onSearchEnable,a),onClear:i.bind(a.onSearchClear,a)}),a.replaceBar=uiApp.searchbar(".searchbar.document .searchbar.replace",{customSearch:!0,onSearch:i.bind(a.onReplaceChange,a),onEnable:i.bind(a.onReplaceEnable,a),onClear:i.bind(a.onReplaceClear,a)}),a.searchPrev=t(".searchbar.document .prev"),a.searchNext=t(".searchbar.document .next"),a.replaceBtn=t(".searchbar.document .link.replace"),a.searchPrev.single("click",i.bind(a.onSearchPrev,a)),a.searchNext.single("click",i.bind(a.onSearchNext,a)),a.replaceBtn.single("click",i.bind(a.onReplace,a)),$$(".searchbar.document .link.replace").on("taphold",i.bind(a.onReplaceAll,a)),a.searchBar.search(n),a.replaceBar.search(o)},onSearchbarSettings:function(e){var a=this,n=!0===Common.SharedSettings.get("search-is-replace"),o="sheet"===Common.SharedSettings.get("search-in")?"sheet":"workbook",s=!0===Common.SharedSettings.get("search-match-case"),r=!0===Common.SharedSettings.get("search-match-cell"),l=!0===Common.SharedSettings.get("search-highlight-res"),c="rows"===Common.SharedSettings.get("search-by")?"rows":"columns",d="formulas"===Common.SharedSettings.get("look-in")?"formulas":"values",p=t(".page[data-page=search-settings]"),u=p.find("input[name=search-type]"),h=p.find("input[name=search-in]"),m=p.find("input[name=search-by]"),f=p.find("#search-match-case input:checkbox"),g=p.find("#search-match-cell input:checkbox"),v=p.find("#search-highlight-res input:checkbox"),b=p.find("input[name=look-in]");u.val([n?"replace":"search"]),h.val([o]),f.prop("checked",s),g.prop("checked",r),v.prop("checked",l),m.val([c]),b.val([d]),u.single("change",i.bind(a.onTypeChange,a)),h.single("change",i.bind(a.onSearchInChange,a)),m.single("change",i.bind(a.onSearchByChange,a)),b.single("change",i.bind(a.onLookInChange,a)),f.single("change",i.bind(a.onMatchCaseClick,a)),g.single("change",i.bind(a.onMatchCellClick,a)),v.single("change",i.bind(a.onHighlightResultsClick,a)),n&&(Common.SharedSettings.set("look-in","formulas"),t("input[name=look-in]").val(["formulas"]),t("input[name=look-in]:eq(1)").parent().addClass("disabled"))},onSearchbarShow:function(t){e=!0},onSearchEnable:function(e){this.replaceBar.container.removeClass("searchbar-active")},onSearchbarHide:function(t){e=!1},onSearchChange:function(e){var t=this,a=e.query.trim().length<1;Common.SharedSettings.set("search-search",e.query),i.each([t.searchPrev,t.searchNext,t.replaceBtn],function(e){e.toggleClass("disabled",a)})},onSearchClear:function(e){Common.SharedSettings.set("search-search","")},onReplaceChange:function(e){e.query.trim().length;Common.SharedSettings.set("search-replace",e.query)},onReplaceEnable:function(e){this.searchBar.container.removeClass("searchbar-active")},onReplaceClear:function(e){Common.SharedSettings.set("search-replace","")},onSearchPrev:function(e){this.onQuerySearch(this.searchBar.query,"back")},onSearchNext:function(e){this.onQuerySearch(this.searchBar.query,"next")},onReplace:function(e){var t=this;t.onQueryReplace(t.searchBar.query,t.replaceBar.query?t.replaceBar.query:"")},onReplaceNext:function(){this.onQuerySearch(this.searchBar.query,"next")},onReplaceAll:function(e){var a=this,n=['<div class="popover" style="width: auto;">','<div class="popover-inner">','<div class="list-block">',"<ul>",'<li><a href="#" id="replace-all" class="item-link list-button">{0}</li>'.format(a.textReplaceAll),"</ul>","</div>","</div>","</div>"].join("");n=uiApp.popover(n,$$(e.currentTarget)),t("#replace-all").single("click",i.bind(function(){a.onQueryReplaceAll(this.searchBar.query,this.replaceBar.query),uiApp.closeModal(n)},a))},onQuerySearch:function(e,t){var i=Common.SharedSettings.get("search-match-case")||!1,a=Common.SharedSettings.get("search-match-cell")||!1,n="sheet"===Common.SharedSettings.get("search-in"),o="rows"===Common.SharedSettings.get("search-by"),s="formulas"===Common.SharedSettings.get("look-in");if(e&&e.length){var r=new Asc.asc_CFindOptions;if(r.asc_setFindWhat(e),r.asc_setScanForward("back"!=t),r.asc_setIsMatchCase(i),r.asc_setIsWholeCell(a),r.asc_setScanOnOnlySheet(n),r.asc_setScanByRows(o),r.asc_setLookIn(s?Asc.c_oAscFindLookIn.Formulas:Asc.c_oAscFindLookIn.Value),!this.api.asc_findText(r)){var l=this;uiApp.alert("",l.textNoTextFound,function(){l.searchBar.input.focus()})}}},onQueryReplace:function(e,t){var i=Common.SharedSettings.get("search-match-case")||!1,a=Common.SharedSettings.get("search-match-cell")||!1,n="sheet"===Common.SharedSettings.get("search-in"),o="rows"===Common.SharedSettings.get("search-by"),s="formulas"===Common.SharedSettings.get("look-in");if(e&&e.length){this.api.isReplaceAll=!1;var r=new Asc.asc_CFindOptions;r.asc_setFindWhat(e),r.asc_setReplaceWith(t),r.asc_setIsMatchCase(i),r.asc_setIsWholeCell(a),r.asc_setScanOnOnlySheet(n),r.asc_setScanByRows(o),r.asc_setLookIn(s?Asc.c_oAscFindLookIn.Formulas:Asc.c_oAscFindLookIn.Value),r.asc_setIsReplaceAll(!1),this.api.asc_replaceText(r)}},onQueryReplaceAll:function(e,t){var i=Common.SharedSettings.get("search-match-case")||!1,a=Common.SharedSettings.get("search-match-cell")||!1,n="sheet"===Common.SharedSettings.get("search-in"),o="rows"===Common.SharedSettings.get("search-by"),s="formulas"===Common.SharedSettings.get("look-in");if(e&&e.length){this.api.isReplaceAll=!0;var r=new Asc.asc_CFindOptions;r.asc_setFindWhat(e),r.asc_setReplaceWith(t),r.asc_setIsMatchCase(i),r.asc_setIsWholeCell(a),r.asc_setScanOnOnlySheet(n),r.asc_setScanByRows(o),r.asc_setLookIn(s?Asc.c_oAscFindLookIn.Formulas:Asc.c_oAscFindLookIn.Value),r.asc_setIsReplaceAll(!0),this.api.asc_replaceText(r)}},onTypeChange:function(e){var i=t(e.currentTarget),a="replace"===i.val();Common.SharedSettings.set("search-is-replace",a),t(".searchbar.document").toggleClass("replace",a),a?(Common.SharedSettings.set("look-in","formulas"),t("input[name=look-in]").val(["formulas"]),t("input[name=look-in]:eq(1)").parent().addClass("disabled")):t("input[name=look-in]:eq(1)").parent().removeClass("disabled")},onSearchInChange:function(e){Common.SharedSettings.set("search-in",t(e.currentTarget).val())},onSearchByChange:function(e){Common.SharedSettings.set("search-by",t(e.currentTarget).val())},onLookInChange:function(e){Common.SharedSettings.set("look-in",t(e.currentTarget).val())},onMatchCaseClick:function(e){Common.SharedSettings.set("search-match-case",t(e.currentTarget).is(":checked"))},onMatchCellClick:function(e){Common.SharedSettings.set("search-match-cell",t(e.currentTarget).is(":checked"))},onHighlightResultsClick:function(e){var i=t(e.currentTarget).is(":checked");Common.SharedSettings.set("search-highlight-res",i),this.api.asc_selectSearchingResults(i)},onSearchHighlight:function(e,t){this.api.asc_selectSearchingResults(t)},textNoTextFound:"Text not found",textReplaceAll:"Replace All"}}(),SSE.Controllers.Search||{}))}),void 0===Common)var Common={};if(Common.util=Common.util||{},Common.util.LanguageInfo=new function(){var e={54:["af","Afrikaans"],1078:["af-ZA","Afrikaans (Suid Afrika)","Afrikaans (South Africa)"],28:["sq","Shqipe"],1052:["sq-AL","Shqipe (Shqipëria)","Albanian (Albania)"],132:["gsw","Elsässisch"],1156:["gsw-FR","Elsässisch (Frànkrisch)","Alsatian (France)"],94:["am","አማርኛ"],1118:["am-ET","አማርኛ (ኢትዮጵያ)","Amharic (Ethiopia)"],1:["ar","العربية‏"],5121:["ar-DZ","العربية (الجزائر)‏","Arabic (Algeria)"],15361:["ar-BH","العربية (البحرين)‏","Arabic (Bahrain)"],3073:["ar-EG","العربية (مصر)‏","Arabic (Egypt)"],2049:["ar-IQ","العربية (العراق)‏","Arabic (Iraq)"],11265:["ar-JO","العربية (الأردن)‏","Arabic (Jordan)"],13313:["ar-KW","العربية (الكويت)‏","Arabic (Kuwait)"],12289:["ar-LB","العربية (لبنان)‏","Arabic (Lebanon)"],4097:["ar-LY","العربية (ليبيا)‏","Arabic (Libya)"],6145:["ar-MA","العربية (المملكة المغربية)‏","Arabic (Morocco)"],8193:["ar-OM","العربية (عمان)‏","Arabic (Oman)"],16385:["ar-QA","العربية (قطر)‏","Arabic (Qatar)"],1025:["ar-SA","العربية (المملكة العربية السعودية)‏","Arabic (Saudi Arabia)"],10241:["ar-SY","العربية (سوريا)‏","Arabic (Syria)"],7169:["ar-TN","العربية (تونس)‏","Arabic (Tunisia)"],14337:["ar-AE","العربية (الإمارات العربية المتحدة)‏","Arabic (U.A.E.)"],9217:["ar-YE","العربية (اليمن)‏","Arabic (Yemen)"],43:["hy","Հայերեն"],1067:["hy-AM","Հայերեն (Հայաստան)","Armenian (Armenia)"],77:["as","অসমীয়া"],1101:["as-IN","অসমীয়া (ভাৰত)","Assamese (India)"],44:["az","Azərbaycan­ılı"],29740:["az-Cyrl","Азәрбајҹан дили"],2092:["az-Cyrl-AZ","Азәрбајҹан (Азәрбајҹан)","Azeri (Cyrillic, Azerbaijan)"],30764:["az-Latn","Azərbaycan­ılı"],1068:["az-Latn-AZ","Azərbaycan­ılı (Azərbaycan)","Azeri (Latin, Azerbaijan)"],109:["ba","Башҡорт"],1133:["ba-RU","Башҡорт (Россия)","Bashkir (Russia)"],45:["eu","Euskara"],1069:["eu-ES","Euskara (Euskara)","Basque (Basque)"],35:["be","Беларускі"],1059:["be-BY","Беларускі (Беларусь)","Belarusian (Belarus)"],69:["bn","বাংলা"],2117:["bn-BD","বাংলা (বাংলাদেশ)","Bengali (Bangladesh)"],1093:["bn-IN","বাংলা (ভারত)","Bengali (India)"],30746:["bs","bosanski"],25626:["bs-Cyrl","Босански (Ћирилица)"],8218:["bs-Cyrl-BA","Босански (Босна и Херцеговина)","Bosnian (Cyrillic) (Bosnia and Herzegovina)"],26650:["bs-Latn","Bosanski (Latinica)"],5146:["bs-Latn-BA","Bosanski (Bosna i Hercegovina)","Bosnian (Latin) (Bosnia and Herzegovina)"],126:["br","Brezhoneg"],1150:["br-FR","Brezhoneg (Frañs)","Breton (France)"],2:["bg","Български"],1026:["bg-BG","Български (България)","Bulgarian (Bulgaria)"],3:["ca","Català"],1027:["ca-ES","Català (Català)","Catalan (Catalan)"],2051:["ca-ES-valencia","Català (Valencià)","Catalan (Valencia)"],30724:["zh","中文"],4:["zh-Hans","中文(简体)","Chinese (Simplified)"],2052:["zh-CN","中文(中华人民共和国)","Chinese (People's Republic of China)"],4100:["zh-SG","中文(新加坡)","Chinese (Simplified, Singapore)"],31748:["zh-Hant","中文(繁體)","Chinese (Traditional)"],3076:["zh-HK","中文(香港特別行政區)","Chinese (Traditional, Hong Kong S.A.R.)"],5124:["zh-MO","中文(澳門特別行政區)","Chinese (Traditional, Macao S.A.R.)"],1028:["zh-TW","中文(台灣)","Chinese (Traditional, Taiwan)"],131:["co","Corsu"],1155:["co-FR","Corsu (France)","Corsican (France)"],26:["hr","Hrvatski"],1050:["hr-HR","Hrvatski (Hrvatska)","Croatian (Croatia)"],4122:["hr-BA","Hrvatski (Bosna i Hercegovina)","Croatian (Bosnia and Herzegovina)"],5:["cs","Čeština"],1029:["cs-CZ","Čeština (Česká republika)","Czech (Czech Republic)"],6:["da","Dansk"],1030:["da-DK","Dansk (Danmark)","Danish (Denmark)"],140:["prs","درى‏"],1164:["prs-AF","درى (افغانستان)‏","Dari (Afghanistan)"],101:["dv","ދިވެހިބަސް‏"],1125:["dv-MV","ދިވެހިބަސް (ދިވެހި ރާއްޖެ)‏","Divehi (Maldives)"],19:["nl","Nederlands"],2067:["nl-BE","Nederlands (België)","Dutch (Belgium)"],1043:["nl-NL","Nederlands (Nederland)","Dutch (Netherlands)"],9:["en","English"],3081:["en-AU","English (Australia)","English (Australia)"],10249:["en-BZ","English (Belize)","English (Belize)"],4105:["en-CA","English (Canada)","English (Canada)"],9225:["en-029","English (Caribbean)","English (Caribbean)"],16393:["en-IN","English (India)","English (India)"],6153:["en-IE","English (Ireland)","English (Ireland)"],8201:["en-JM","English (Jamaica)","English (Jamaica)"],17417:["en-MY","English (Malaysia)","English (Malaysia)"],5129:["en-NZ","English (New Zealand)","English (New Zealand)"],13321:["en-PH","English (Philippines)","English (Philippines)"],18441:["en-SG","English (Singapore)","English (Singapore)"],7177:["en-ZA","English (South Africa)","English (South Africa)"],11273:["en-TT","English (Trinidad y Tobago)","English (Trinidad y Tobago)"],2057:["en-GB","English (United Kingdom)","English (United Kingdom)"],1033:["en-US","English (United States)","English (United States)"],12297:["en-ZW","English (Zimbabwe)","English (Zimbabwe)"],15369:["en-HK","English (Hong Kong)","English (Hong Kong)"],14345:["en-ID","English (Indonesia)","English (Indonesia)"],37:["et","Eesti"],1061:["et-EE","Eesti (Eesti)","Estonian (Estonia)"],56:["fo","Føroyskt"],1080:["fo-FO","Føroyskt (Føroyar)","Faroese (Faroe Islands)"],100:["fil","Filipino"],1124:["fil-PH","Filipino (Pilipinas)","Filipino (Philippines)"],11:["fi","Suomi"],1035:["fi-FI","Suomi (Suomi)","Finnish (Finland)"],12:["fr","Français"],2060:["fr-BE","Français (Belgique)","French (Belgium)"],3084:["fr-CA","Français (Canada)","French (Canada)"],1036:["fr-FR","Français (France)","French (France)"],5132:["fr-LU","Français (Luxembourg)","French (Luxembourg)"],6156:["fr-MC","Français (Principauté de Monaco)","French (Principality of Monaco)"],4108:["fr-CH","Français (Suisse)","French (Switzerland)"],15372:["fr-HT","Français (Haïti)","French (Haiti)"],9228:["fr-CG","Français (Congo-Brazzaville)","French (Congo)"],12300:["fr-CI","Français (Côte d’Ivoire)","French (Cote d'Ivoire)"],11276:["fr-CM","Français (Cameroun)","French (Cameroon)"],14348:["fr-MA","Français (Maroc)","French (Morocco)"],13324:["fr-ML","Français (Mali)","French (Mali)"],8204:["fr-RE","Français (La Réunion)","French (Reunion)"],10252:["fr-SN","Français (Sénégal)","French (Senegal)"],7180:["fr-West","French"],98:["fy","Frysk"],1122:["fy-NL","Frysk (Nederlân)","Frisian (Netherlands)"],86:["gl","Galego"],1110:["gl-ES","Galego (Galego)","Galician (Galician)"],55:["ka","ქართული"],1079:["ka-GE","ქართული (საქართველო)","Georgian (Georgia)"],7:["de","Deutsch"],3079:["de-AT","Deutsch (Österreich)","German (Austria)"],1031:["de-DE","Deutsch (Deutschland)","German (Germany)"],5127:["de-LI","Deutsch (Liechtenstein)","German (Liechtenstein)"],4103:["de-LU","Deutsch (Luxemburg)","German (Luxembourg)"],2055:["de-CH","Deutsch (Schweiz)","German (Switzerland)"],8:["el","Ελληνικά"],1032:["el-GR","Ελληνικά (Ελλάδα)","Greek (Greece)"],111:["kl","Kalaallisut"],1135:["kl-GL","Kalaallisut (Kalaallit Nunaat)","Greenlandic (Greenland)"],71:["gu","ગુજરાતી"],1095:["gu-IN","ગુજરાતી (ભારત)","Gujarati (India)"],104:["ha","Hausa"],31848:["ha-Latn","Hausa (Latin)"],1128:["ha-Latn-NG","Hausa (Nigeria)","Hausa (Latin) (Nigeria)"],13:["he","עברית‏"],1037:["he-IL","עברית (ישראל)‏","Hebrew (Israel)"],57:["hi","हिंदी"],1081:["hi-IN","हिंदी (भारत)","Hindi (India)"],14:["hu","Magyar"],1038:["hu-HU","Magyar (Magyarország)","Hungarian (Hungary)"],15:["is","Íslenska"],1039:["is-IS","Íslenska (Ísland)","Icelandic (Iceland)"],112:["ig","Igbo"],1136:["ig-NG","Igbo (Nigeria)","Igbo (Nigeria)"],33:["id","Bahasa Indonesia"],1057:["id-ID","Bahasa Indonesia (Indonesia)","Indonesian (Indonesia)"],93:["iu","Inuktitut"],31837:["iu-Latn","Inuktitut (Qaliujaaqpait)"],2141:["iu-Latn-CA","Inuktitut (Kanatami) (kanata)","Inuktitut (Latin) (Canada)"],30813:["iu-Cans","ᐃᓄᒃᑎᑐᑦ (ᖃᓂᐅᔮᖅᐸᐃᑦ)"],1117:["iu-Cans-CA","ᐃᓄᒃᑎᑐᑦ (ᑲᓇᑕᒥ)","Inuktitut (Canada)"],60:["ga","Gaeilge"],2108:["ga-IE","Gaeilge (Éire)","Irish (Ireland)"],52:["xh","isiXhosa"],1076:["xh-ZA","isiXhosa (uMzantsi Afrika)","isiXhosa (South Africa)"],53:["zu","isiZulu"],
1077:["zu-ZA","isiZulu (iNingizimu Afrika)","isiZulu (South Africa)"],16:["it","Italiano"],1040:["it-IT","Italiano (Italia)","Italian (Italy)"],2064:["it-CH","Italiano (Svizzera)","Italian (Switzerland)"],17:["ja","日本語"],1041:["ja-JP","日本語 (日本)","Japanese (Japan)"],75:["kn","ಕನ್ನಡ"],1099:["kn-IN","ಕನ್ನಡ (ಭಾರತ)","Kannada (India)"],63:["kk","Қазақ"],1087:["kk-KZ","Қазақ (Қазақстан)","Kazakh (Kazakhstan)"],83:["km","ខ្មែរ"],1107:["km-KH","ខ្មែរ (កម្ពុជា)","Khmer (Cambodia)"],134:["qut","K'iche"],1158:["qut-GT","K'iche (Guatemala)","K'iche (Guatemala)"],135:["rw","Kinyarwanda"],1159:["rw-RW","Kinyarwanda (Rwanda)","Kinyarwanda (Rwanda)"],65:["sw","Kiswahili"],1089:["sw-KE","Kiswahili (Kenya)","Kiswahili (Kenya)"],87:["kok","कोंकणी"],1111:["kok-IN","कोंकणी (भारत)","Konkani (India)"],18:["ko","한국어"],1042:["ko-KR","한국어 (대한민국)","Korean (Korea)"],64:["ky","Кыргыз"],1088:["ky-KG","Кыргыз (Кыргызстан)","Kyrgyz (Kyrgyzstan)"],84:["lo","ລາວ"],1108:["lo-LA","ລາວ (ສ.ປ.ປ. ລາວ)","Lao (Lao P.D.R.)"],38:["lv","Latviešu"],1062:["lv-LV","Latviešu (Latvija)","Latvian (Latvia)"],39:["lt","Lietuvių"],1063:["lt-LT","Lietuvių (Lietuva)","Lithuanian (Lithuania)"],31790:["dsb","Dolnoserbšćina"],2094:["dsb-DE","Dolnoserbšćina (Nimska)","Lower Sorbian (Germany)"],110:["lb","Lëtzebuergesch"],1134:["lb-LU","Lëtzebuergesch (Luxembourg)","Luxembourgish (Luxembourg)"],1071:["mk-MK","Македонски јазик (Македонија)","Macedonian (Former Yugoslav Republic of Macedonia)"],47:["mk","Македонски јазик"],62:["ms","Bahasa Melayu"],2110:["ms-BN","Bahasa Melayu (Brunei Darussalam)","Malay (Brunei Darussalam)"],1086:["ms-MY","Bahasa Melayu (Malaysia)","Malay (Malaysia)"],76:["ml","മലയാളം"],1100:["ml-IN","മലയാളം (ഭാരതം)","Malayalam (India)"],58:["mt","Malti"],1082:["mt-MT","Malti (Malta)","Maltese (Malta)"],129:["mi","Reo Māori"],1153:["mi-NZ","Reo Māori (Aotearoa)","Maori (New Zealand)"],122:["arn","Mapudungun"],1146:["arn-CL","Mapudungun (Chile)","Mapudungun (Chile)"],78:["mr","मराठी"],1102:["mr-IN","मराठी (भारत)","Marathi (India)"],124:["moh","Kanien'kéha"],1148:["moh-CA","Kanien'kéha (Canada)","Mohawk (Canada)"],80:["mn","Монгол хэл"],30800:["mn-Cyrl","Монгол хэл"],1104:["mn-MN","Монгол хэл (Монгол улс)","Mongolian (Cyrillic, Mongolia)"],31824:["mn-Mong","ᠮᠤᠨᠭᠭᠤᠯ ᠬᠡᠯᠡ"],2128:["mn-Mong-CN","ᠮᠤᠨᠭᠭᠤᠯ ᠬᠡᠯᠡ (ᠪᠦᠭᠦᠳᠡ ᠨᠠᠢᠷᠠᠮᠳᠠᠬᠤ ᠳᠤᠮᠳᠠᠳᠤ ᠠᠷᠠᠳ ᠣᠯᠣᠰ)","Mongolian (Traditional Mongolian) (People's Republic of China)"],97:["ne","नेपाली"],1121:["ne-NP","नेपाली (नेपाल)","Nepali (Nepal)"],2145:["ne-IN","नेपाली (भारत)","Nepali (India)"],20:["no","Norsk"],31764:["nb","Norsk (bokmål)"],1044:["nb-NO","Norsk, bokmål (Norge)","Norwegian, Bokmål (Norway)"],30740:["nn","Norsk (Nynorsk)"],2068:["nn-NO","Norsk, nynorsk (Noreg)","Norwegian, Nynorsk (Norway)"],130:["oc","Occitan"],1154:["oc-FR","Occitan (França)","Occitan (France)"],72:["or","ଓଡ଼ିଆ"],1096:["or-IN","ଓଡ଼ିଆ (ଭାରତ)","Oriya (India)"],99:["ps","پښتو‏"],1123:["ps-AF","پښتو (افغانستان)‏","Pashto (Afghanistan)"],41:["fa","فارسى‏"],1065:["fa-IR","فارسى (ایران)‏","Persian (Iran)"],21:["pl","Polski"],1045:["pl-PL","Polski (Polska)","Polish (Poland)"],22:["pt","Português"],1046:["pt-BR","Português (Brasil)","Portuguese (Brazil)"],2070:["pt-PT","Português (Portugal)","Portuguese (Portugal)"],70:["pa","ਪੰਜਾਬੀ"],1094:["pa-IN","ਪੰਜਾਬੀ (ਭਾਰਤ)","Punjabi (India)"],107:["quz","Runasimi"],1131:["quz-BO","Runasimi (Qullasuyu)","Quechua (Bolivia)"],2155:["quz-EC","Runasimi (Ecuador)","Quechua (Ecuador)"],3179:["quz-PE","Runasimi (Piruw)","Quechua (Peru)"],24:["ro","Română"],1048:["ro-RO","Română (România)","Romanian (Romania)"],2072:["ro-MD","Română (Moldova)","Romanian (Republic of Moldova)"],23:["rm","Rumantsch"],1047:["rm-CH","Rumantsch (Svizra)","Romansh (Switzerland)"],25:["ru","Русский"],1049:["ru-RU","Русский (Россия)","Russian (Russia)"],2073:["ru-MD","Русский (Молдавия)","Russian (Republic of Moldova)"],28731:["smn","Sämikielâ"],9275:["smn-FI","Sämikielâ (Suomâ)","Sami (Inari) (Finland)"],31803:["smj","Julevusámegiella"],4155:["smj-NO","Julevusámegiella (Vuodna)","Sami (Lule) (Norway)"],5179:["smj-SE","Julevusámegiella (Svierik)","Sami (Lule) (Sweden)"],59:["se","Davvisámegiella"],3131:["se-FI","Davvisámegiella (Suopma)","Sami (Northern) (Finland)"],1083:["se-NO","Davvisámegiella (Norga)","Sami (Northern) (Norway)"],2107:["se-SE","Davvisámegiella (Ruoŧŧa)","Sami (Northern) (Sweden)"],29755:["sms","Sääm´ǩiõll"],8251:["sms-FI","Sääm´ǩiõll (Lää´ddjânnam)","Sami (Skolt) (Finland)"],30779:["sma","åarjelsaemiengiele"],6203:["sma-NO","åarjelsaemiengiele (Nöörje)","Sami (Southern) (Norway)"],7227:["sma-SE","åarjelsaemiengiele (Sveerje)","Sami (Southern) (Sweden)"],79:["sa","संस्कृत"],1103:["sa-IN","संस्कृत (भारतम्)","Sanskrit (India)"],145:["gd","Gàidhlig"],1169:["gd-GB","Gàidhlig (An Rìoghachd Aonaichte)","Scottish Gaelic (United Kingdom)"],31770:["sr","Srpski"],27674:["sr-Cyrl","Српски (Ћирилица)"],7194:["sr-Cyrl-BA","Српски (Босна и Херцеговина)","Serbian (Cyrillic) (Bosnia and Herzegovina)"],12314:["sr-Cyrl-ME","Српски (Црна Гора)","Serbian (Cyrillic, Montenegro)"],3098:["sr-Cyrl-CS","Српски (Србија и Црна Гора (Претходно))","Serbian (Cyrillic, Serbia and Montenegro (Former))"],10266:["sr-Cyrl-RS","Српски (Србија)","Serbian (Cyrillic, Serbia)"],28698:["sr-Latn","Srpski (Latinica)"],6170:["sr-Latn-BA","Srpski (Bosna i Hercegovina)","Serbian (Latin, Bosnia and Herzegovina)"],11290:["sr-Latn-ME","Srpski (Crna Gora)","Serbian (Latin, Montenegro)"],2074:["sr-Latn-CS","Srpski (Srbija i Crna Gora (Prethodno))","Serbian (Latin, Serbia and Montenegro (Former))"],9242:["sr-Latn-RS","Srpski (Srbija, Latinica)","Serbian (Latin, Serbia)"],108:["nso","Sesotho sa Leboa"],1132:["nso-ZA","Sesotho sa Leboa (Afrika Borwa)","Sesotho sa Leboa (South Africa)"],50:["tn","Setswana"],1074:["tn-ZA","Setswana (Aforika Borwa)","Setswana (South Africa)"],91:["si","සිංහ"],1115:["si-LK","සිංහ (ශ්‍රී ලංකා)","Sinhala (Sri Lanka)"],27:["sk","Slovenčina"],1051:["sk-SK","Slovenčina (Slovenská republika)","Slovak (Slovakia)"],36:["sl","Slovenski"],1060:["sl-SI","Slovenski (Slovenija)","Slovenian (Slovenia)"],10:["es","Español"],11274:["es-AR","Español (Argentina)","Spanish (Argentina)"],16394:["es-BO","Español (Bolivia)","Spanish (Bolivia)"],13322:["es-CL","Español (Chile)","Spanish (Chile)"],9226:["es-CO","Español (Colombia)","Spanish (Colombia)"],5130:["es-CR","Español (Costa Rica)","Spanish (Costa Rica)"],7178:["es-DO","Español (República Dominicana)","Spanish (Dominican Republic)"],12298:["es-EC","Español (Ecuador)","Spanish (Ecuador)"],17418:["es-SV","Español (El Salvador)","Spanish (El Salvador)"],4106:["es-GT","Español (Guatemala)","Spanish (Guatemala)"],18442:["es-HN","Español (Honduras)","Spanish (Honduras)"],2058:["es-MX","Español (México)","Spanish (Mexico)"],19466:["es-NI","Español (Nicaragua)","Spanish (Nicaragua)"],6154:["es-PA","Español (Panamá)","Spanish (Panama)"],15370:["es-PY","Español (Paraguay)","Spanish (Paraguay)"],10250:["es-PE","Español (Perú)","Spanish (Peru)"],20490:["es-PR","Español (Puerto Rico)","Spanish (Puerto Rico)"],3082:["es-ES","Español (España, alfabetización internacional)","Spanish (Spain)"],21514:["es-US","Español (Estados Unidos)","Spanish (United States)"],14346:["es-UY","Español (Uruguay)","Spanish (Uruguay)"],8202:["es-VE","Español (Republica Bolivariana de Venezuela)","Spanish (Venezuela)"],1034:["es-ES_tradnl","Spanish"],29:["sv","Svenska"],2077:["sv-FI","Svenska (Finland)","Swedish (Finland)"],1053:["sv-SE","Svenska (Sverige)","Swedish (Sweden)"],90:["syr","ܣܘܪܝܝܐ‏"],1114:["syr-SY","ܣܘܪܝܝܐ (سوريا)‏","Syriac (Syria)"],40:["tg","Тоҷикӣ"],31784:["tg-Cyrl","Тоҷикӣ"],1064:["tg-Cyrl-TJ","Тоҷикӣ (Тоҷикистон)","Tajik (Cyrillic) (Tajikistan)"],95:["tzm","Tamazight"],31839:["tzm-Latn","Tamazight (Latin)"],2143:["tzm-Latn-DZ","Tamazight (Djazaïr)","Tamazight (Latin) (Algeria)"],73:["ta","தமிழ்"],1097:["ta-IN","தமிழ் (இந்தியா)","Tamil (India)"],68:["tt","Татар"],1092:["tt-RU","Татар (Россия)","Tatar (Russia)"],74:["te","తెలుగు"],1098:["te-IN","తెలుగు (భారత దేశం)","Telugu (India)"],30:["th","ไทย"],1054:["th-TH","ไทย (ไทย)","Thai (Thailand)"],81:["bo","བོད་ཡིག"],1105:["bo-CN","བོད་ཡིག (ཀྲུང་ཧྭ་མི་དམངས་སྤྱི་མཐུན་རྒྱལ་ཁབ།)","Tibetan (People's Republic of China)"],2129:["bo-BT","Tibetan (Bhutan)","Tibetan (Bhutan)"],31:["tr","Türkçe"],1055:["tr-TR","Türkçe (Türkiye)","Turkish (Turkey)"],66:["tk","Türkmençe"],1090:["tk-TM","Türkmençe (Türkmenistan)","Turkmen (Turkmenistan)"],34:["uk","Українська"],1058:["uk-UA","Українська (Україна)","Ukrainian (Ukraine)"],46:["hsb","Hornjoserbšćina"],1070:["hsb-DE","Hornjoserbšćina (Němska)","Upper Sorbian (Germany)"],32:["ur","اُردو‏"],1056:["ur-PK","اُردو (پاکستان)‏","Urdu (Islamic Republic of Pakistan)"],2080:["ur-IN","اُردو (بھارت)‏","Urdu (India)"],128:["ug","ئۇيغۇر يېزىقى‏"],1152:["ug-CN","(ئۇيغۇر يېزىقى (جۇڭخۇا خەلق جۇمھۇرىيىتى‏","Uighur (People's Republic of China)"],30787:["uz-Cyrl","Ўзбек"],2115:["uz-Cyrl-UZ","Ўзбек (Ўзбекистон)","Uzbek (Cyrillic, Uzbekistan)"],67:["uz","U'zbek"],31811:["uz-Latn","U'zbek"],1091:["uz-Latn-UZ","U'zbek (U'zbekiston Respublikasi)","Uzbek (Latin, Uzbekistan)"],42:["vi","Tiếng Việt"],1066:["vi-VN","Tiếng Việt (Việt Nam)","Vietnamese (Vietnam)"],82:["cy","Cymraeg"],1106:["cy-GB","Cymraeg (y Deyrnas Unedig)","Welsh (United Kingdom)"],136:["wo","Wolof"],1160:["wo-SN","Wolof (Sénégal)","Wolof (Senegal)"],133:["sah","Саха"],1157:["sah-RU","Саха (Россия)","Yakut (Russia)"],120:["ii","ꆈꌠꁱꂷ"],1144:["ii-CN","ꆈꌠꁱꂷ (ꍏꉸꏓꂱꇭꉼꇩ)","Yi (People's Republic of China)"],106:["yo","Yoruba"],1130:["yo-NG","Yoruba (Nigeria)","Yoruba (Nigeria)"],1126:["bin-NG","Bini (Nigeria)","Bini (Nigeria)"],1116:["chr-US","ᏣᎳᎩ (ᏌᏊ ᎢᏳᎾᎵᏍᏔᏅ ᏍᎦᏚᎩ)","Cherokee (United States)"],1127:["fuv-NG","Nigerian Fulfulde (Nigeria)","Nigerian Fulfulde (Nigeria)"],1138:["gaz-ET","West Central Oromo (Ethiopia)","West Central Oromo (Ethiopia)"],1140:["gn-PY","Guarani (Paraguay)","Guarani (Paraguay)"],1141:["haw-US","ʻŌlelo Hawaiʻi (ʻAmelika Hui Pū ʻIa)","Hawaiian (United States)"],1129:["ibb-NG","Ibibio (Nigeria)","Ibibio (Nigeria)"],1137:["kr-NG","Kanuri (Nigeria)","Kanuri (Nigeria)"],1112:["mni","Manipuri","Manipuri"],1109:["my-MM","Burmese (Myanmar)","Burmese (Myanmar)"],1145:["pap-AN","Papiamento, Netherlands Antilles","Papiamento, Netherlands Antilles"],2118:["pa-PK","Panjabi (Pakistan)","Panjabi (Pakistan)"],1165:["plt-MG","Plateau Malagasy (Madagascar)","Plateau Malagasy (Madagascar)"],1113:["sd-IN","Sindhi (India)","Sindhi (India)"],2137:["sd-PK","Sindhi (Pakistan)","Sindhi (Pakistan)"],1143:["so-SO","Soomaali (Soomaaliya)","Somali (Somalia)"],1072:["st-ZA","Southern Sotho (South Africa)","Southern Sotho (South Africa)"],1139:["ti-ER","ትግርኛ (ኤርትራ)","Tigrinya (Eritrea)"],2163:["ti-ET","ትግርኛ (ኢትዮጵያ)","Tigrinya (Ethiopia)"],1119:["tmz","Tamanaku"],3167:["tmz-MA","Tamaziɣt n laṭlaṣ (Meṛṛuk)","Tamanaku (Morocco)"],1073:["ts-ZA","Tsonga (South Africa)","Tsonga (South Africa)"],1075:["ven-ZA","South Africa","South Africa"]};return{getLocalLanguageName:function(t){return e[t]||["",t]},getLocalLanguageCode:function(t){if(t)for(var i in e)if(e[i][0].toLowerCase()===t.toLowerCase())return i;return null},getLanguages:function(){return e}}},define("common/main/lib/util/LanguageInfo",function(){}),define("spreadsheeteditor/mobile/app/controller/Main",["core","jquery","underscore","backbone","irregularstack","common/main/lib/util/LocalStorage","common/main/lib/util/LanguageInfo"],function(e,t,i,a){"use strict";SSE.Controllers.Main=a.Controller.extend(i.extend(function(){return Common.localStorage.setId("table"),Common.localStorage.setKeysFilter("sse-,asc.table"),Common.localStorage.sync(),{models:[],collections:[],views:[],initialize:function(){},onLaunch:function(){var e=this;e.stackLongActions=new Common.IrregularStack({strongCompare:function(e,t){return e.id===t.id&&e.type===t.type},weakCompare:function(e,t){return e.type===t.type}}),this._state={isDisconnected:!1,usersCount:1,fastCoauth:!0,lostEditingRights:!1,licenseType:!1};var a=["Normal","Neutral","Bad","Good","Input","Output","Calculation","Check Cell","Explanatory Text","Note","Linked Cell","Warning Text","Heading 1","Heading 2","Heading 3","Heading 4","Title","Total","Currency","Percent","Comma"],n={Series:e.txtSeries,"Diagram Title":e.txtDiagramTitle,"X Axis":e.txtXAxis,"Y Axis":e.txtYAxis,"Your text here":e.txtArt};a.forEach(function(t){n[t]=e["txtStyle_"+t.replace(/ /g,"_")]||t}),n["Currency [0]"]=e.txtStyle_Currency+" [0]",n["Comma [0]"]=e.txtStyle_Comma+" [0]";for(var o=1;o<7;o++)n["Accent"+o]=e.txtAccent+o,n["20% - Accent"+o]="20% - "+e.txtAccent+o,n["40% - Accent"+o]="40% - "+e.txtAccent+o,n["60% - Accent"+o]="60% - "+e.txtAccent+o;if(e.api=new Asc.spreadsheet_api({"id-view":"editor_sdk","id-input":"ce-cell-content",mobile:!0,translate:n}),uiApp.params.modalButtonOk=e.textOK,uiApp.params.modalButtonCancel=e.textCancel,uiApp.params.modalPreloaderTitle=e.textPreloader,uiApp.params.modalUsernamePlaceholder=e.textUsername,uiApp.params.modalPasswordPlaceholder=e.textPassword,uiApp.params.smartSelectBackText=e.textBack,uiApp.params.smartSelectPopupCloseText=e.textClose,uiApp.params.smartSelectPickerCloseText=e.textDone,uiApp.params.notificationCloseButtonText=e.textClose,e.api){var s=Common.localStorage.getItem("sse-settings-fontrender");null===s&&(s=window.devicePixelRatio>1?"1":"3"),e.api.asc_setFontRenderingMode(parseInt(s)),Common.Utils.Metric.setCurrentMetric(1),e.api.asc_registerCallback("asc_onError",i.bind(e.onError,e)),e.api.asc_registerCallback("asc_onOpenDocumentProgress",i.bind(e.onOpenDocument,e)),e.api.asc_registerCallback("asc_onAdvancedOptions",i.bind(e.onAdvancedOptions,e)),e.api.asc_registerCallback("asc_onDocumentUpdateVersion",i.bind(e.onUpdateVersion,e)),e.api.asc_registerCallback("asc_onServerVersion",i.bind(e.onServerVersion,e)),e.api.asc_registerCallback("asc_onPrintUrl",i.bind(e.onPrintUrl,e)),e.api.asc_registerCallback("asc_onDocumentName",i.bind(e.onDocumentName,e)),e.api.asc_registerCallback("asc_onEndAction",i.bind(e.onLongActionEnd,e)),Common.NotificationCenter.on("api:disconnect",i.bind(e.onCoAuthoringDisconnect,e)),Common.NotificationCenter.on("goback",i.bind(e.goBack,e)),Common.NotificationCenter.on("download:advanced",i.bind(e.onAdvancedOptions,e)),i.each(e.getApplication().controllers,function(t){t&&i.isFunction(t.setApi)&&t.setApi(e.api)}),e.editorConfig={},e.appOptions={},e.plugins=void 0,Common.Gateway.on("init",i.bind(e.loadConfig,e)),Common.Gateway.on("showmessage",i.bind(e.onExternalMessage,e)),Common.Gateway.on("opendocument",i.bind(e.loadDocument,e)),Common.Gateway.appReady(),Common.Gateway.on("internalcommand",function(i){"hardBack"==i.command&&(t(".modal-in").length>0?(t(e.loadMask).hasClass("modal-in")||uiApp.closeModal(),Common.Gateway.internalMessage("hardBack",!1)):Common.Gateway.internalMessage("hardBack",!0))}),Common.Gateway.internalMessage("listenHardBack")}e.defaultTitleText="ONLYOFFICE",e.warnNoLicense=e.warnNoLicense.replace("%1","ONLYOFFICE"),e.warnNoLicenseUsers=e.warnNoLicenseUsers.replace("%1","ONLYOFFICE"),e.textNoLicenseTitle=e.textNoLicenseTitle.replace("%1","ONLYOFFICE")},loadConfig:function(e){var a=this;a.editorConfig=t.extend(a.editorConfig,e.config),a.editorConfig.user=a.appOptions.user=Common.Utils.fillUserInfo(a.editorConfig.user,a.editorConfig.lang,a.textAnonymous),a.appOptions.isDesktopApp="desktop"==a.editorConfig.targetApp,a.appOptions.canCreateNew=!i.isEmpty(a.editorConfig.createUrl)&&!a.appOptions.isDesktopApp,a.appOptions.canOpenRecent=void 0!==a.editorConfig.recent&&!a.appOptions.isDesktopApp,a.appOptions.templates=a.editorConfig.templates,a.appOptions.recent=a.editorConfig.recent,a.appOptions.createUrl=a.editorConfig.createUrl,a.appOptions.lang=a.editorConfig.lang,a.appOptions.location="string"==typeof a.editorConfig.location?a.editorConfig.location.toLowerCase():"",a.appOptions.region="string"==typeof a.editorConfig.region?this.editorConfig.region.toLowerCase():this.editorConfig.region,a.appOptions.sharingSettingsUrl=a.editorConfig.sharingSettingsUrl,a.appOptions.fileChoiceUrl=a.editorConfig.fileChoiceUrl,a.appOptions.mergeFolderUrl=a.editorConfig.mergeFolderUrl,a.appOptions.canAnalytics=!1,a.appOptions.customization=a.editorConfig.customization,a.appOptions.canBackToFolder=!1!==a.editorConfig.canBackToFolder&&"object"==typeof a.editorConfig.customization&&"object"==typeof a.editorConfig.customization.goback&&!i.isEmpty(a.editorConfig.customization.goback.url),a.appOptions.canBack=!0===a.appOptions.canBackToFolder,a.appOptions.canPlugins=!1,a.plugins=a.editorConfig.plugins;var n=Common.localStorage.getItem("sse-settings-regional");null!==n?this.api.asc_setLocale(parseInt(n)):(n=a.appOptions.region,n=Common.util.LanguageInfo.getLanguages().hasOwnProperty(n)?n:Common.util.LanguageInfo.getLocalLanguageCode(n),n=null!==n?parseInt(n):this.editorConfig.lang?parseInt(Common.util.LanguageInfo.getLocalLanguageCode(a.editorConfig.lang)):1033,this.api.asc_setLocale(n)),"us"!=a.appOptions.location&&"ca"!=a.appOptions.location||Common.Utils.Metric.setDefaultMetric(Common.Utils.Metric.c_MetricUnits.inch)},loadDocument:function(e){this.appOptions.spreadsheet=e.doc,this.permissions={};var a={};if(e.doc){this.permissions=t.extend(this.permissions,e.doc.permissions);var n=t.extend({},e.doc.permissions),o=new Asc.asc_CUserInfo;o.put_Id(this.appOptions.user.id),o.put_FullName(this.appOptions.user.fullname),a=new Asc.asc_CDocInfo,a.put_Id(e.doc.key),a.put_Url(e.doc.url),a.put_Title(e.doc.title),a.put_Format(e.doc.fileType),a.put_VKey(e.doc.vkey),a.put_Options(e.doc.options),a.put_UserInfo(o),a.put_CallbackUrl(this.editorConfig.callbackUrl),a.put_Token(e.doc.token),a.put_Permissions(n)}this.api.asc_registerCallback("asc_onGetEditorPermissions",i.bind(this.onEditorPermissions,this)),this.api.asc_registerCallback("asc_onLicenseChanged",i.bind(this.onLicenseChanged,this)),this.api.asc_setDocInfo(a),this.api.asc_getEditorPermissions(this.editorConfig.licenseUrl,this.editorConfig.customerId),Common.SharedSettings.set("document",e.doc),e.doc&&(SSE.getController("Toolbar").setDocumentTitle(e.doc.title),e.doc.info&&(e.doc.info.author&&console.log("Obsolete: The 'author' parameter of the document 'info' section is deprecated. Please use 'owner' instead."),e.doc.info.created&&console.log("Obsolete: The 'created' parameter of the document 'info' section is deprecated. Please use 'uploaded' instead.")))},setMode:function(e){var t=this;Common.SharedSettings.set("mode",e.isEdit?"edit":"view"),t.api&&(t.api.asc_enableKeyEvents(e.isEdit),t.api.asc_setViewMode(!e.isEdit))},onProcessSaveResult:function(e){this.api.asc_OnSaveEnd(e.result),e&&!1===e.result&&uiApp.alert(i.isEmpty(e.message)?this.errorProcessSaveResult:e.message,this.criticalErrorTitle)},onProcessRightsChange:function(e){if(e&&!1===e.enabled){var t=this,a=this._state.lostEditingRights;this._state.lostEditingRights=!this._state.lostEditingRights,this.api.asc_coAuthoringDisconnect(),Common.NotificationCenter.trigger("api:disconnect"),a||uiApp.alert(i.isEmpty(e.message)?this.warnProcessRightsChange:e.message,this.notcriticalErrorTitle,function(){t._state.lostEditingRights=!1})}},onDownloadAs:function(){if(!this.appOptions.canDownload)return void Common.Gateway.reportError(Asc.c_oAscError.ID.AccessDeny,this.errorAccessDeny);this._state.isFromGatewayDownloadAs=!0,this.api.asc_DownloadAs(new Asc.asc_CDownloadOptions(Asc.c_oAscFileType.XLSX,!0))},goBack:function(e){var t=this.appOptions.customization.goback.url;e||!1===this.appOptions.customization.goback.blank?parent.location.href=t:window.open(t,"_blank")},onLongActionBegin:function(e,t){var i={id:t,type:e};this.stackLongActions.push(i),this.setLongActionView(i)},onLongActionEnd:function(e,a){var n=this,o={id:a,type:e};n.stackLongActions.pop(o),n.updateWindowTitle(!0),e===Asc.c_oAscAsyncActionType.BlockInteraction&&a==Asc.c_oAscAsyncAction.Open&&(Common.Gateway.internalMessage("documentReady",{}),Common.NotificationCenter.trigger("document:ready"),n.onDocumentContentReady()),o=n.stackLongActions.get({type:Asc.c_oAscAsyncActionType.Information}),o&&n.setLongActionView(o),o=n.stackLongActions.get({type:Asc.c_oAscAsyncActionType.BlockInteraction}),o?n.setLongActionView(o):i.delay(function(){t(n.loadMask).hasClass("modal-in")&&uiApp.closeModal(n.loadMask)},300),a==Asc.c_oAscAsyncAction.Save&&(!n._state.fastCoauth||n._state.usersCount<2)&&this.synchronizeChanges()},setLongActionView:function(e){var i=this,a="";switch(e.id){case Asc.c_oAscAsyncAction.Open:a=i.openTitleText,i.openTextText;break;case Asc.c_oAscAsyncAction.Save:a=i.saveTitleText,i.saveTextText;break;case Asc.c_oAscAsyncAction.LoadDocumentFonts:a=i.loadFontsTitleText,i.loadFontsTextText;break;case Asc.c_oAscAsyncAction.LoadDocumentImages:a=i.loadImagesTitleText,i.loadImagesTextText;break;case Asc.c_oAscAsyncAction.LoadFont:a=i.loadFontTitleText,i.loadFontTextText;break;case Asc.c_oAscAsyncAction.LoadImage:a=i.loadImageTitleText,i.loadImageTextText;break;case Asc.c_oAscAsyncAction.DownloadAs:a=i.downloadTitleText,i.downloadTextText;break;case Asc.c_oAscAsyncAction.Print:a=i.printTitleText,i.printTextText;break;case Asc.c_oAscAsyncAction.UploadImage:a=i.uploadImageTitleText,i.uploadImageTextText;break;case Asc.c_oAscAsyncAction.ApplyChanges:a=i.applyChangesTitleText,i.applyChangesTextText;break;case Asc.c_oAscAsyncAction.PrepareToSave:a=i.savePreparingText,i.savePreparingTitle;break;case Asc.c_oAscAsyncAction.MailMergeLoadFile:a=i.mailMergeLoadFileText,i.mailMergeLoadFileTitle;break;case Asc.c_oAscAsyncAction.DownloadMerge:a=i.downloadMergeTitle,i.downloadMergeText;break;case Asc.c_oAscAsyncAction.SendMailMerge:a=i.sendMergeTitle,i.sendMergeText;break;case Asc.c_oAscAsyncAction.Waiting:a=i.waitText,i.waitText;break;case-255:a=i.txtEditingMode,i.txtEditingMode;break;case-256:a=i.loadingDocumentTitleText,i.loadingDocumentTextText;break;default:"string"==typeof e.id&&(a=e.id,e.id)}e.type==Asc.c_oAscAsyncActionType.BlockInteraction&&(i.loadMask&&t(i.loadMask).hasClass("modal-in")?$$(i.loadMask).find(".modal-title").text(a):$$(".modal.modal-in").length<1&&(i.loadMask=uiApp.showPreloader(a)))},onDocumentContentReady:function(){if(!this._isDocReady){this._state.openDlg&&uiApp.closeModal(this._state.openDlg);var e,a=this;a._isDocReady=!0;var n=(this.api.asc_getWorksheetsCount(),a.api.asc_getActiveWorksheetIndex());a.api.asc_showWorksheet(n),a.api.asc_Resize(),a.hidePreloader(),a.onLongActionEnd(Asc.c_oAscAsyncActionType.BlockInteraction,-256),e=this.appOptions.isEditMailMerge||this.appOptions.isEditDiagram?100:Common.localStorage.getItem("sse-settings-zoom");var o=null!==e?parseInt(e)/100:this.appOptions.customization&&this.appOptions.customization.zoom?parseInt(this.appOptions.customization.zoom)/100:1;this.api.asc_setZoom(o>0?o:1),this.isLiveCommenting=Common.localStorage.getBool("sse-settings-livecomment",!0);var s=Common.localStorage.getBool("sse-settings-resolvedcomment",!0);this.isLiveCommenting?this.api.asc_showComments(s):this.api.asc_hideComments(),this.appOptions.isEdit&&this.appOptions.canLicense&&!this.appOptions.isOffline&&this.appOptions.canCoAuthoring?a._state.fastCoauth=!0:this._state.fastCoauth=!1,this.api.asc_SetFastCollaborative(this._state.fastCoauth),a.api.asc_registerCallback("asc_onStartAction",i.bind(a.onLongActionBegin,a)),a.api.asc_registerCallback("asc_onEndAction",i.bind(a.onLongActionEnd,a)),a.api.asc_registerCallback("asc_onCoAuthoringDisconnect",i.bind(a.onCoAuthoringDisconnect,a)),a.api.asc_registerCallback("asc_onPrint",i.bind(a.onPrint,a)),a.updateWindowTitle(!0),a.appOptions.isEdit&&(a.appOptions.canAutosave?(e=Common.localStorage.getItem("sse-settings-autosave"),null===e&&a.appOptions.customization&&!1===a.appOptions.customization.autosave&&(e=0),e=1):e=0,a.api.asc_setAutoSaveGap(e),a.needToUpdateVersion&&Common.NotificationCenter.trigger("api:disconnect")),a.appOptions.canAnalytics,Common.Gateway.on("processsaveresult",i.bind(a.onProcessSaveResult,a)),Common.Gateway.on("processrightschange",i.bind(a.onProcessRightsChange,a)),Common.Gateway.on("downloadas",i.bind(a.onDownloadAs,a)),Common.Gateway.sendInfo({mode:a.appOptions.isEdit?"edit":"view"}),a.applyLicense(),t(".view-main").on("click",function(e){uiApp.closeModal(".document-menu.modal-in")}),e=Common.localStorage.getBool("sse-settings-r1c1",!1),this.api.asc_setR1C1Mode(e),t(document).on("contextmenu",i.bind(a.onContextMenu,a)),Common.Gateway.documentReady()}},onLicenseChanged:function(e){if(!this.appOptions.isEditDiagram&&!this.appOptions.isEditMailMerge){var t=e.asc_getLicenseType();void 0===t||!this.appOptions.canEdit||"view"===this.editorConfig.mode||t!==Asc.c_oLicenseResult.Connections&&t!==Asc.c_oLicenseResult.UsersCount&&t!==Asc.c_oLicenseResult.ConnectionsOS&&t!==Asc.c_oLicenseResult.UsersCountOS||(this._state.licenseType=t),this._isDocReady&&this._state.licenseType&&this.applyLicense()}},applyLicense:function(){var e=this;if(this._state.licenseType){var t=this._state.licenseType,i=[{text:"OK"}];t===Asc.c_oLicenseResult.Connections||t===Asc.c_oLicenseResult.UsersCount?t=t===Asc.c_oLicenseResult.Connections?this.warnLicenseExceeded:this.warnLicenseUsersExceeded:(t=t===Asc.c_oLicenseResult.ConnectionsOS?this.warnNoLicense:this.warnNoLicenseUsers,i=[{text:e.textBuyNow,bold:!0,onClick:function(){window.open("https://www.onlyoffice.com/","_blank")}},{text:e.textContactUs,onClick:function(){window.open("mailto:sales@onlyoffice.com","_blank")}}]),SSE.getController("Toolbar").activateViewControls(),SSE.getController("Toolbar").deactivateEditControls(),Common.NotificationCenter.trigger("api:disconnect");var a=Common.localStorage.getItem("sse-license-warning");a=null!==a?parseInt(a):0;var n=(new Date).getTime();n-a>864e5&&(Common.localStorage.setItem("sse-license-warning",n),uiApp.modal({title:e.textNoLicenseTitle,text:t,buttons:i}))}else!e.appOptions.isDesktopApp&&!e.appOptions.canBrandingExt&&e.editorConfig&&e.editorConfig.customization&&(e.editorConfig.customization.loaderName||e.editorConfig.customization.loaderLogo)&&uiApp.modal({title:e.textPaidFeature,text:e.textCustomLoader,buttons:[{text:e.textContactUs,bold:!0,onClick:function(){window.open("mailto:sales@onlyoffice.com","_blank")}},{text:e.textClose}]}),SSE.getController("Toolbar").activateControls()},onOpenDocument:function(e){if(this.loadMask){var t=$$(this.loadMask).find(".modal-title"),i=(e.asc_getCurrentFont()+e.asc_getCurrentImage())/(e.asc_getFontsCount()+e.asc_getImagesCount());t.text(this.textLoadingDocument+": "+Math.min(Math.round(100*i),100)+"%")}},onEditorPermissions:function(e){var t=this,i=e?e.asc_getLicenseType():Asc.c_oLicenseResult.Error;if(e&&!t.appOptions.isEditDiagram&&!t.appOptions.isEditMailMerge){if(Asc.c_oLicenseResult.Expired===i||Asc.c_oLicenseResult.Error===i||Asc.c_oLicenseResult.ExpiredTrial===i)return void uiApp.modal({title:t.titleLicenseExp,text:t.warnLicenseExp});if(t.onServerVersion(e.asc_getBuildVersion()))return;e.asc_getRights()!==Asc.c_oRights.Edit&&(t.permissions.edit=!1),t.appOptions.canAutosave=!0,t.appOptions.canAnalytics=e.asc_getIsAnalyticsEnable(),t.appOptions.isOffline=t.api.asc_isOffline(),t.appOptions.canLicense=i===Asc.c_oLicenseResult.Success||i===Asc.c_oLicenseResult.SuccessLimit,t.appOptions.isLightVersion=e.asc_getIsLight(),t.appOptions.canCoAuthoring=!t.appOptions.isLightVersion,t.appOptions.canComments=t.appOptions.canLicense&&!("object"==typeof t.editorConfig.customization&&!1===t.editorConfig.customization.comments),t.appOptions.canChat=t.appOptions.canLicense&&!t.appOptions.isOffline&&!("object"==typeof t.editorConfig.customization&&!1===t.editorConfig.customization.chat),t.appOptions.canRename=!!t.permissions.rename,t.appOptions.canBranding=e.asc_getCustomization(),t.appOptions.canBrandingExt=e.asc_getCanBranding()&&"object"==typeof t.editorConfig.customization}t.appOptions.canRequestEditRights=t.editorConfig.canRequestEditRights,t.appOptions.canRequestClose=t.editorConfig.canRequestClose,t.appOptions.canEdit=!1!==t.permissions.edit&&(t.editorConfig.canRequestEditRights||"view"!==t.editorConfig.mode),t.appOptions.isEdit=(t.appOptions.canLicense||t.appOptions.isEditDiagram||t.appOptions.isEditMailMerge)&&!1!==t.permissions.edit&&"view"!==t.editorConfig.mode,t.appOptions.canDownload=!1!==t.permissions.download,t.appOptions.canPrint=!1!==t.permissions.print,t.applyModeCommonElements(),t.applyModeEditorElements(),t.api.asc_setViewMode(!t.appOptions.isEdit),t.api.asc_LoadDocument(),t.appOptions.isEdit||(t.hidePreloader(),t.onLongActionBegin(Asc.c_oAscAsyncActionType.BlockInteraction,-256))},applyModeCommonElements:function(){var e=this;window.editor_elements_prepared=!0,i.each(e.getApplication().controllers,function(t){t&&i.isFunction(t.setMode)&&t.setMode(e.appOptions)}),e.appOptions.isEditMailMerge||e.appOptions.isEditDiagram||(e.api.asc_registerCallback("asc_onSendThemeColors",i.bind(e.onSendThemeColors,e)),e.api.asc_registerCallback("asc_onDownloadUrl",i.bind(e.onDownloadUrl,e))),e.api.asc_registerCallback("asc_onAuthParticipantsChanged",i.bind(e.onAuthParticipantsChanged,e)),e.api.asc_registerCallback("asc_onParticipantsChanged",i.bind(e.onAuthParticipantsChanged,e))},applyModeEditorElements:function(){if(this.appOptions.isEdit){var e=this,t=Common.localStorage.getItem("sse-settings-unit");Common.Utils.Metric.setCurrentMetric(null!==t?parseInt(t):Common.Utils.Metric.getDefaultMetric()),e.api.asc_registerCallback("asc_onDocumentModifiedChanged",i.bind(e.onDocumentModifiedChanged,e)),e.api.asc_registerCallback("asc_onDocumentCanSaveChanged",i.bind(e.onDocumentCanSaveChanged,e)),e.api.asc_registerCallback("asc_onCollaborativeChanges",i.bind(e.onCollaborativeChanges,e)),e.api.asc_registerCallback("asc_OnTryUndoInFastCollaborative",i.bind(e.onTryUndoInFastCollaborative,e)),e.appOptions.isEditDiagram&&e.api.asc_registerCallback("asc_onSelectionChanged",i.bind(e.onSelectionChanged,e)),e.stackLongActions.exist({id:-255,type:Asc.c_oAscAsyncActionType.BlockInteraction})?e.onLongActionEnd(Asc.c_oAscAsyncActionType.BlockInteraction,-255):this._isDocReady||(e.hidePreloader(),e.onLongActionBegin(Asc.c_oAscAsyncActionType.BlockInteraction,-256)),window.onbeforeunload=i.bind(e.onBeforeUnload,e),window.onunload=i.bind(e.onUnload,e)}},onExternalMessage:function(e){e&&e.msg&&(e.msg=e.msg.toString(),uiApp.addNotification({title:uiApp.params.modalTitle,message:[e.msg.charAt(0).toUpperCase()+e.msg.substring(1)]}),Common.component.Analytics.trackEvent("External Error"))},onError:function(e,t,a){if(e==Asc.c_oAscError.ID.LoadingScriptError)return void uiApp.addNotification({title:this.criticalErrorTitle,message:this.scriptLoadError});this.hidePreloader(),this.onLongActionEnd(Asc.c_oAscAsyncActionType.BlockInteraction,-256);var n={closable:!1};switch(e){case Asc.c_oAscError.ID.Unknown:n.msg=this.unknownErrorText;break;case Asc.c_oAscError.ID.ConvertationTimeout:n.msg=this.convertationTimeoutText;break;case Asc.c_oAscError.ID.ConvertationOpenError:n.msg=this.openErrorText;break;case Asc.c_oAscError.ID.ConvertationSaveError:n.msg=this.saveErrorText;break;case Asc.c_oAscError.ID.DownloadError:n.msg=this.downloadErrorText;break;case Asc.c_oAscError.ID.UplImageSize:n.msg=this.uploadImageSizeMessage;break;case Asc.c_oAscError.ID.UplImageExt:n.msg=this.uploadImageExtMessage;break;case Asc.c_oAscError.ID.UplImageFileCount:n.msg=this.uploadImageFileCountMessage;break;case Asc.c_oAscError.ID.PastInMergeAreaError:n.msg=this.pastInMergeAreaError;break;case Asc.c_oAscError.ID.FrmlWrongCountParentheses:n.msg=this.errorWrongBracketsCount,n.closable=!0;break;case Asc.c_oAscError.ID.FrmlWrongOperator:n.msg=this.errorWrongOperator,n.closable=!0;break;case Asc.c_oAscError.ID.FrmlWrongMaxArgument:n.msg=this.errorCountArgExceed,n.closable=!0;break;case Asc.c_oAscError.ID.FrmlWrongCountArgument:n.msg=this.errorCountArg,n.closable=!0;break;case Asc.c_oAscError.ID.FrmlWrongFunctionName:n.msg=this.errorFormulaName,n.closable=!0;break;case Asc.c_oAscError.ID.FrmlAnotherParsingError:n.msg=this.errorFormulaParsing,n.closable=!0;break;case Asc.c_oAscError.ID.FrmlWrongArgumentRange:
n.msg=this.errorArgsRange,n.closable=!0;break;case Asc.c_oAscError.ID.UnexpectedGuid:n.msg=this.errorUnexpectedGuid;break;case Asc.c_oAscError.ID.Database:n.msg=this.errorDatabaseConnection;break;case Asc.c_oAscError.ID.FileRequest:n.msg=this.errorFileRequest;break;case Asc.c_oAscError.ID.FileVKey:n.msg=this.errorFileVKey;break;case Asc.c_oAscError.ID.StockChartError:n.msg=this.errorStockChart;break;case Asc.c_oAscError.ID.DataRangeError:n.msg=this.errorDataRange;break;case Asc.c_oAscError.ID.MaxDataPointsError:n.msg=this.errorMaxPoints;break;case Asc.c_oAscError.ID.FrmlOperandExpected:n.msg=this.errorOperandExpected,n.closable=!0;break;case Asc.c_oAscError.ID.VKeyEncrypt:n.msg=this.errorToken;break;case Asc.c_oAscError.ID.KeyExpire:n.msg=this.errorTokenExpire;break;case Asc.c_oAscError.ID.UserCountExceed:n.msg=this.errorUsersExceed;break;case Asc.c_oAscError.ID.CannotMoveRange:n.msg=this.errorMoveRange;break;case Asc.c_oAscError.ID.UplImageUrl:n.msg=this.errorBadImageUrl;break;case Asc.c_oAscError.ID.CoAuthoringDisconnect:n.msg=this.errorViewerDisconnect;break;case Asc.c_oAscError.ID.ConvertationPassword:n.msg=this.errorFilePassProtect;break;case Asc.c_oAscError.ID.AutoFilterDataRangeError:n.msg=this.errorAutoFilterDataRange;break;case Asc.c_oAscError.ID.AutoFilterChangeFormatTableError:n.msg=this.errorAutoFilterChangeFormatTable;break;case Asc.c_oAscError.ID.AutoFilterChangeError:n.msg=this.errorAutoFilterChange;break;case Asc.c_oAscError.ID.AutoFilterMoveToHiddenRangeError:n.msg=this.errorAutoFilterHiddenRange;break;case Asc.c_oAscError.ID.CannotFillRange:n.msg=this.errorFillRange;break;case Asc.c_oAscError.ID.UserDrop:if(this._state.lostEditingRights)return void(this._state.lostEditingRights=!1);this._state.lostEditingRights=!0,n.msg=this.errorUserDrop;break;case Asc.c_oAscError.ID.InvalidReferenceOrName:n.msg=this.errorInvalidRef;break;case Asc.c_oAscError.ID.LockCreateDefName:n.msg=this.errorCreateDefName;break;case Asc.c_oAscError.ID.PasteMaxRangeError:n.msg=this.errorPasteMaxRange;break;case Asc.c_oAscError.ID.LockedAllError:n.msg=this.errorLockedAll;break;case Asc.c_oAscError.ID.Warning:n.msg=this.errorConnectToServer.replace("%1","https://api.onlyoffice.com/editors/callback");break;case Asc.c_oAscError.ID.LockedWorksheetRename:n.msg=this.errorLockedWorksheetRename;break;case Asc.c_oAscError.ID.OpenWarning:n.msg=this.errorOpenWarning;break;case Asc.c_oAscError.ID.FrmlWrongReferences:n.msg=this.errorFrmlWrongReferences,n.closable=!0;break;case Asc.c_oAscError.ID.CopyMultiselectAreaError:n.msg=this.errorCopyMultiselectArea;break;case Asc.c_oAscError.ID.PrintMaxPagesCount:n.msg=this.errorPrintMaxPagesCount;break;case Asc.c_oAscError.ID.SessionAbsolute:n.msg=this.errorSessionAbsolute;break;case Asc.c_oAscError.ID.SessionIdle:n.msg=this.errorSessionIdle;break;case Asc.c_oAscError.ID.SessionToken:n.msg=this.errorSessionToken;break;case Asc.c_oAscError.ID.AccessDeny:n.msg=this.errorAccessDeny;break;case Asc.c_oAscError.ID.DataEncrypted:n.msg=this.errorDataEncrypted;break;case Asc.c_oAscError.ID.CannotChangeFormulaArray:n.msg=this.errorChangeArray;break;case Asc.c_oAscError.ID.EditingError:n.msg=this.errorEditingDownloadas;break;case Asc.c_oAscError.ID.MultiCellsInTablesFormulaArray:n.msg=this.errorMultiCellFormula;break;case Asc.c_oAscError.ID.FrmlMaxTextLength:n.msg=this.errorFrmlMaxTextLength;break;default:n.msg=this.errorDefaultMessage.replace("%1",e)}t==Asc.c_oAscError.Level.Critical?(Common.Gateway.reportError(e,n.msg),n.title=this.criticalErrorTitle,this.appOptions.canBackToFolder&&!this.appOptions.isDesktopApp&&(n.msg+="</br></br>"+this.criticalErrorExtText,n.callback=function(){Common.NotificationCenter.trigger("goback",!0)}),e==Asc.c_oAscError.ID.DataEncrypted&&(this.api.asc_coAuthoringDisconnect(),Common.NotificationCenter.trigger("api:disconnect"))):(Common.Gateway.reportWarning(e,n.msg),n.title=this.notcriticalErrorTitle,n.callback=i.bind(function(t){e==Asc.c_oAscError.ID.Warning&&"ok"==t&&(this.appOptions.canDownload||this.appOptions.canDownloadOrigin)&&(Common.UI.Menu.Manager.hideAll(),this.appOptions.isDesktopApp&&this.appOptions.isOffline?this.api.asc_DownloadAs():this.appOptions.canDownload?this.getApplication().getController("LeftMenu").leftMenu.showMenu("file:saveas"):this.api.asc_DownloadOrigin()),this._state.lostEditingRights=!1},this)),uiApp.modal({title:n.title,text:n.msg,buttons:[{text:"OK",onClick:n.callback}]}),Common.component.Analytics.trackEvent("Internal Error",e.toString())},onCoAuthoringDisconnect:function(){this._state.isDisconnected=!0},updateWindowTitle:function(e){var t=this.api.asc_isDocumentModified();if(this._state.isDocModified!==t||e){var i=this.defaultTitleText;window.document.title!=i&&(window.document.title=i),Common.Gateway.setDocumentModified(t),this._state.isDocModified=t}},onDocumentModifiedChanged:function(){var e=this.api.asc_isDocumentCanSave();this._state.isDocModified!==e&&Common.Gateway.setDocumentModified(this.api.asc_isDocumentModified()),this.updateWindowTitle()},onDocumentCanSaveChanged:function(e){},onBeforeUnload:function(){if(Common.localStorage.save(),!1!==this.permissions.edit&&"view"!==this.editorConfig.mode&&"editdiagram"!==this.editorConfig.mode&&this.api.asc_isDocumentModified()){var e=this;return this.api.asc_stopSaving(),this.continueSavingTimer=window.setTimeout(function(){e.api.asc_continueSaving()},500),this.leavePageText}},onUnload:function(){this.continueSavingTimer&&clearTimeout(this.continueSavingTimer)},hidePreloader:function(){t("#loading-mask").hide().remove()},onDownloadUrl:function(e){this._state.isFromGatewayDownloadAs&&Common.Gateway.downloadAs(e),this._state.isFromGatewayDownloadAs=!1},onUpdateVersion:function(e){var t=this;t.needToUpdateVersion=!0,t.onLongActionEnd(Asc.c_oAscAsyncActionType.BlockInteraction,-256),uiApp.alert(t.errorUpdateVersion,t.titleUpdateVersion,function(){i.defer(function(){Common.Gateway.updateVersion(),e&&e.call(t),t.onLongActionBegin(Asc.c_oAscAsyncActionType.BlockInteraction,-256)})})},onServerVersion:function(e){var t=this;return!!t.changeServerVersion||DocsAPI.DocEditor.version()!==e&&!window.compareVersions&&(t.changeServerVersion=!0,uiApp.alert(t.errorServerVersion,t.titleServerVersion,function(){i.defer(function(){Common.Gateway.updateVersion()})}),!0)},onCollaborativeChanges:function(){},synchronizeChanges:function(){this._state.hasCollaborativeChanges=!1},initNames:function(){this.shapeGroupNames=[this.txtBasicShapes,this.txtFiguredArrows,this.txtMath,this.txtCharts,this.txtStarsRibbons,this.txtCallouts,this.txtButtons,this.txtRectangles,this.txtLines]},updateThemeColors:function(){},onSendThemeColors:function(e,t){Common.Utils.ThemeColor.setColors(e,t)},onAdvancedOptions:function(e,a,n,o){if(!this._state.openDlg){var s=this;if(e==Asc.c_oAscAdvancedOptionsID.CSV){var r,l=[],c=[];i.each(a.asc_getCodePages(),function(e){l.push(e.asc_getCodePage()),c.push(e.asc_getCodePageName())}),t(s.loadMask).hasClass("modal-in")&&uiApp.closeModal(s.loadMask),s.onLongActionEnd(Asc.c_oAscAsyncActionType.BlockInteraction,-256);var d=[];2===n&&d.push({text:s.textCancel,onClick:function(){s._state.openDlg=null}}),d.push({text:"OK",bold:!0,onClick:function(){var t=r.cols[0].value,i=r.cols[1].value;s.api&&(2==n?(o&&o.asc_setAdvancedOptions(new Asc.asc_CTextOptions(t,i)),s.api.asc_DownloadAs(o)):s.api.asc_setAdvancedOptions(e,new Asc.asc_CTextOptions(t,i)),s._isDocReady||s.onLongActionBegin(Asc.c_oAscAsyncActionType.BlockInteraction,-256)),s._state.openDlg=null}}),s._state.openDlg=uiApp.modal({title:s.advCSVOptions,text:"",afterText:'<div class="content-block small-picker" style="padding: 0; margin: 20px 0 0;"><div class="row"><div class="col-50" style="text-align: left;">'+s.txtEncoding+'</div><div class="col-50" style="text-align: right;">'+s.txtDelimiter+'</div></div><div id="txt-encoding" class="small"></div></div>',buttons:d});var p=a.asc_getRecommendedSettings();r=uiApp.picker({container:"#txt-encoding",toolbar:!1,rotateEffect:!0,value:[p&&p.asc_getCodePage(),p&&p.asc_getDelimiter()?p.asc_getDelimiter():4],cols:[{textAlign:"left",values:l,displayValues:c},{textAlign:"right",width:120,values:[4,2,3,1,5],displayValues:[",",";",":",this.txtTab,this.txtSpace]}]}),$$(s._state.openDlg).css({marginTop:-Math.round($$(s._state.openDlg).outerHeight()/2)+"px"})}else if(e==Asc.c_oAscAdvancedOptionsID.DRM){t(s.loadMask).hasClass("modal-in")&&uiApp.closeModal(s.loadMask),s.onLongActionEnd(Asc.c_oAscAsyncActionType.BlockInteraction,-256);var d=[{text:"OK",bold:!0,onClick:function(){var i=t(s._state.openDlg).find('.modal-text-input[name="modal-password"]').val();s.api.asc_setAdvancedOptions(e,new Asc.asc_CDRMAdvancedOptions(i)),s._isDocReady||s.onLongActionBegin(Asc.c_oAscAsyncActionType.BlockInteraction,-256),s._state.openDlg=null}}];s.appOptions.canRequestClose&&d.push({text:s.closeButtonText,onClick:function(){Common.Gateway.requestClose(),s._state.openDlg=null}}),s._state.openDlg=uiApp.modal({title:s.advDRMOptions,text:s.txtProtected,afterText:'<div class="input-field"><input type="password" name="modal-password" placeholder="'+s.advDRMPassword+'" class="modal-text-input"></div>',buttons:d}),$$(s._state.openDlg).css({marginTop:-Math.round($$(s._state.openDlg).outerHeight()/2)+"px"})}}},onTryUndoInFastCollaborative:function(){uiApp.alert(this.textTryUndoRedo,this.notcriticalErrorTitle)},onAuthParticipantsChanged:function(e){var t=0;i.each(e,function(e){e.asc_getView()||t++}),this._state.usersCount=t},returnUserCount:function(){return this._state.usersCount},applySettings:function(){if(this.appOptions.isEdit&&this.appOptions.canLicense&&!this.appOptions.isOffline&&this.appOptions.canCoAuthoring){var e=Common.localStorage.getItem("sse-settings-coauthmode"),t=this._state.fastCoauth;this._state.fastCoauth=null===e||1==parseInt(e),this._state.fastCoauth&&!t&&this.synchronizeChanges()}},onDocumentName:function(e){this.updateWindowTitle(!0)},onPrint:function(){this.appOptions.canPrint&&(this.api&&this.api.asc_Print(),Common.component.Analytics.trackEvent("Print"))},onPrintUrl:function(e){if(this.iframePrint&&(this.iframePrint.parentNode.removeChild(this.iframePrint),this.iframePrint=null),!this.iframePrint){var t=this;this.iframePrint=document.createElement("iframe"),this.iframePrint.id="id-print-frame",this.iframePrint.style.display="none",this.iframePrint.style.visibility="hidden",this.iframePrint.style.position="fixed",this.iframePrint.style.right="0",this.iframePrint.style.bottom="0",document.body.appendChild(this.iframePrint),this.iframePrint.onload=function(){t.iframePrint.contentWindow.focus(),t.iframePrint.contentWindow.print(),t.iframePrint.contentWindow.blur(),window.focus()}}e&&(this.iframePrint.src=e)},onContextMenu:function(e){var t=e.target.getAttribute("data-can-copy"),i=e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement;if(i&&"false"===t||!i&&"true"!==t)return e.stopPropagation(),e.preventDefault(),!1},leavePageText:"You have unsaved changes in this document. Click 'Stay on this Page' to await the autosave of the document. Click 'Leave this Page' to discard all the unsaved changes.",criticalErrorTitle:"Error",notcriticalErrorTitle:"Warning",errorDefaultMessage:"Error code: %1",criticalErrorExtText:'Press "OK" to back to document list.',openTitleText:"Opening Document",openTextText:"Opening document...",saveTitleText:"Saving Document",saveTextText:"Saving document...",loadFontsTitleText:"Loading Data",loadFontsTextText:"Loading data...",loadImagesTitleText:"Loading Images",loadImagesTextText:"Loading images...",loadFontTitleText:"Loading Data",loadFontTextText:"Loading data...",loadImageTitleText:"Loading Image",loadImageTextText:"Loading image...",downloadTitleText:"Downloading Document",downloadTextText:"Downloading document...",printTitleText:"Printing Document",printTextText:"Printing document...",uploadImageTitleText:"Uploading Image",uploadImageTextText:"Uploading image...",savePreparingText:"Preparing to save",savePreparingTitle:"Preparing to save. Please wait...",uploadImageSizeMessage:"Maximum image size limit exceeded.",uploadImageExtMessage:"Unknown image format.",uploadImageFileCountMessage:"No images uploaded.",reloadButtonText:"Reload Page",unknownErrorText:"Unknown error.",convertationTimeoutText:"Convertation timeout exceeded.",downloadErrorText:"Download failed.",unsupportedBrowserErrorText:"Your browser is not supported.",requestEditFailedTitleText:"Access denied",requestEditFailedMessageText:"Someone is editing this document right now. Please try again later.",textLoadingDocument:"Loading spreadsheet",applyChangesTitleText:"Loading Data",applyChangesTextText:"Loading data...",errorKeyEncrypt:"Unknown key descriptor",errorKeyExpire:"Key descriptor expired",errorUsersExceed:"Count of users was exceed",errorCoAuthoringDisconnect:"Server connection lost. You can't edit anymore.",errorFilePassProtect:"The file is password protected and cannot be opened.",txtBasicShapes:"Basic Shapes",txtFiguredArrows:"Figured Arrows",txtMath:"Math",txtCharts:"Charts",txtStarsRibbons:"Stars & Ribbons",txtCallouts:"Callouts",txtButtons:"Buttons",txtRectangles:"Rectangles",txtLines:"Lines",txtEditingMode:"Set editing mode...",textAnonymous:"Anonymous",loadingDocumentTitleText:"Loading spreadsheet",loadingDocumentTextText:"Loading spreadsheet...",warnProcessRightsChange:"You have been denied the right to edit the file.",errorProcessSaveResult:"Saving is failed.",textCloseTip:"\nClick to close the tip.",textShape:"Shape",errorStockChart:"Incorrect row order. To build a stock chart place the data on the sheet in the following order:<br> opening price, max price, min price, closing price.",errorDataRange:"Incorrect data range.",errorDatabaseConnection:"External error.<br>Database connection error. Please, contact support.",titleUpdateVersion:"Version changed",errorUpdateVersion:"The file version has been changed. The page will be reloaded.",errorUserDrop:"The file cannot be accessed right now.",txtDiagramTitle:"Chart Title",txtXAxis:"X Axis",txtYAxis:"Y Axis",txtSeries:"Series",errorMailMergeLoadFile:"Loading failed",mailMergeLoadFileText:"Loading Data Source...",mailMergeLoadFileTitle:"Loading Data Source",errorMailMergeSaveFile:"Merge failed.",downloadMergeText:"Downloading...",downloadMergeTitle:"Downloading",sendMergeTitle:"Sending Merge",sendMergeText:"Sending Merge...",txtArt:"Your text here",errorConnectToServer:' The document could not be saved. Please check connection settings or contact your administrator.<br>When you click the \'OK\' button, you will be prompted to download the document.<br><br>Find more information about connecting Document Server <a href="%1" target="_blank">here</a>',textTryUndoRedo:"The Undo/Redo functions are disabled for the Fast co-editing mode.<br>Click the 'Strict mode' button to switch to the Strict co-editing mode to edit the file without other users interference and send your changes only after you save them. You can switch between the co-editing modes using the editor Advanced settings.",textStrict:"Strict mode",txtErrorLoadHistory:"Loading history failed",textBuyNow:"Visit website",textNoLicenseTitle:"%1 open source version",textContactUs:"Contact sales",errorViewerDisconnect:"Connection is lost. You can still view the document,<br>but will not be able to download until the connection is restored.",warnLicenseExp:"Your license has expired.<br>Please update your license and refresh the page.",titleLicenseExp:"License expired",openErrorText:"An error has occurred while opening the file",saveErrorText:"An error has occurred while saving the file",errorToken:"The document security token is not correctly formed.<br>Please contact your Document Server administrator.",errorTokenExpire:"The document security token has expired.<br>Please contact your Document Server administrator.",errorSessionAbsolute:"The document editing session has expired. Please reload the page.",errorSessionIdle:"The document has not been edited for quite a long time. Please reload the page.",errorSessionToken:"The connection to the server has been interrupted. Please reload the page.",errorAccessDeny:"You are trying to perform an action you do not have rights for.<br>Please contact your Document Server administrator.",txtEncoding:"Encoding",txtDelimiter:"Delimiter",txtSpace:"Space",txtTab:"Tab",advCSVOptions:"Choose CSV Options",advDRMOptions:"Protected File",advDRMEnterPassword:"You password please:",advDRMPassword:"Password",textOK:"OK",textCancel:"Cancel",textPreloader:"Loading... ",textUsername:"Username",textPassword:"Password",textBack:"Back",textClose:"Close",textDone:"Done",titleServerVersion:"Editor updated",errorServerVersion:"The editor version has been updated. The page will be reloaded to apply the changes.",txtAccent:"Accent",txtStyle_Normal:"Normal",txtStyle_Heading_1:"Heading 1",txtStyle_Heading_2:"Heading 2",txtStyle_Heading_3:"Heading 3",txtStyle_Heading_4:"Heading 4",txtStyle_Title:"Title",txtStyle_Neutral:"Neutral",txtStyle_Bad:"Bad",txtStyle_Good:"Good",txtStyle_Input:"Input",txtStyle_Output:"Output",txtStyle_Calculation:"Calculation",txtStyle_Check_Cell:"Check Cell",txtStyle_Explanatory_Text:"Explanatory Text",txtStyle_Note:"Note",txtStyle_Linked_Cell:"Linked Cell",txtStyle_Warning_Text:"Warning Text",txtStyle_Total:"Total",txtStyle_Currency:"Currency",txtStyle_Percent:"Percent",txtStyle_Comma:"Comma",errorMaxPoints:"The maximum number of points in series per chart is 4096.",txtProtected:"Once you enter the password and open the file, the current password to the file will be reset",warnNoLicense:"This version of %1 editors has certain limitations for concurrent connections to the document server.<br>If you need more please consider purchasing a commercial license.",warnNoLicenseUsers:"This version of %1 editors has certain limitations for concurrent users.<br>If you need more please consider purchasing a commercial license.",warnLicenseExceeded:"The number of concurrent connections to the document server has been exceeded and the document will be opened for viewing only.<br>Please contact your administrator for more information.",warnLicenseUsersExceeded:"The number of concurrent users has been exceeded and the document will be opened for viewing only.<br>Please contact your administrator for more information.",errorDataEncrypted:"Encrypted changes have been received, they cannot be deciphered.",pastInMergeAreaError:"Cannot change part of a merged cell",errorWrongBracketsCount:"Found an error in the formula entered.<br>Wrong cout of brackets.",errorWrongOperator:"An error in the entered formula. Wrong operator is used.<br>Please correct the error or use the Esc button to cancel the formula editing.",errorCountArgExceed:"Found an error in the formula entered.<br>Count of arguments exceeded.",errorCountArg:"Found an error in the formula entered.<br>Invalid number of arguments.",errorFormulaName:"Found an error in the formula entered.<br>Incorrect formula name.",errorFormulaParsing:"Internal error while the formula parsing.",errorArgsRange:"Found an error in the formula entered.<br>Incorrect arguments range.",errorUnexpectedGuid:"External error.<br>Unexpected Guid. Please, contact support.",errorFileRequest:"External error.<br>File Request. Please, contact support.",errorFileVKey:"External error.<br>Incorrect securety key. Please, contact support.",errorOperandExpected:"The entered function syntax is not correct. Please check if you are missing one of the parentheses - '(' or ')'.",errorMoveRange:"Cann't change a part of merged cell",errorBadImageUrl:"Image url is incorrect",errorAutoFilterDataRange:"The operation could not be done for the selected range of cells.<br>Select a uniform data range inside or outside the table and try again.",errorAutoFilterChangeFormatTable:"The operation could not be done for the selected cells as you cannot move a part of the table.<br>Select another data range so that the whole table was shifted and try again.",errorAutoFilterHiddenRange:"The operation cannot be performed because the area contains filtered cells.<br>Please unhide the filtered elements and try again.",errorAutoFilterChange:"The operation is not allowed, as it is attempting to shift cells in a table on your worksheet.",errorFillRange:"Could not fill the selected range of cells.<br>All the merged cells need to be the same size.",errorInvalidRef:"Enter a correct name for the selection or a valid reference to go to.",errorCreateDefName:"The existing named ranges cannot be edited and the new ones cannot be created<br>at the moment as some of them are being edited.",errorPasteMaxRange:"The copy and paste area does not match. Please select an area with the same size or click the first cell in a row to paste the copied cells.",errorLockedAll:"The operation could not be done as the sheet has been locked by another user.",errorLockedWorksheetRename:"The sheet cannot be renamed at the moment as it is being renamed by another user",errorOpenWarning:"The length of one of the formulas in the file exceeded<br>the allowed number of characters and it was removed.",errorFrmlWrongReferences:"The function refers to a sheet that does not exist.<br>Please check the data and try again.",errorCopyMultiselectArea:"This command cannot be used with multiple selections.<br>Select a single range and try again.",errorPrintMaxPagesCount:"Unfortunately, it’s not possible to print more than 1500 pages at once in the current version of the program.<br>This restriction will be eliminated in upcoming releases.",closeButtonText:"Close File",scriptLoadError:"The connection is too slow, some of the components could not be loaded. Please reload the page.",errorChangeArray:"You cannot change part of an array.",errorEditingDownloadas:"An error occurred during the work with the document.<br>Use the 'Download' option to save the file backup copy to your computer hard drive.",errorMultiCellFormula:"Multi-cell array formulas are not allowed in tables.",textPaidFeature:"Paid feature",textCustomLoader:"Please note that according to the terms of the license you are not entitled to change the loader.<br>Please contact our Sales Department to get a quote.",errorFrmlMaxTextLength:"Text values in formulas are limited to 255 characters.<br>Use the CONCATENATE function or concatenation operator (&)",waitText:"Please, wait..."}}(),SSE.Controllers.Main||{}))}),define("common/mobile/utils/utils",["jquery","underscore"],function(e,t){"use strict";!Common&&(Common={}),!Common.Utils&&(Common.Utils={}),Common.Utils.androidMenuTop=function(t,i){t.css({left:"",top:""});var a=t.width(),n=t.height(),o=i.outerWidth(),s=i.outerHeight(),r=i.offset(),l=i.parents(".page");l.length>0&&(r.top=r.top-l[0].scrollTop);var c=e(window).height(),d=e(window).width(),p=0,u=0,h="top";n+10<r.top?p=r.top-n-10:n+10<c-r.top-s?(h="bottom",p=r.top+s+10):(h="middle",p=s/2+r.top-n/2,p<=0?p=5:p+n>=c&&(p=c-n-5)),"top"===h||"bottom"===h?(u=o/2+r.left-a/2,u<5&&(u=5),u+a>d&&(u=d-a-5)):"middle"===h&&((u=r.left-a-10)<5||u+a>d)&&(u<5&&(u=r.left+o+10),u+a>d&&(u=d-a-5)),t.css({top:p+"px",left:u+"px"})},Common.Utils.addScrollIfNeed=function(i,a){Common.SharedSettings.get("sailfish")&&t.delay(function(){var t=e(i),n=e(a);0!=t.length&&0!=n&&(n.css("height","auto"),new IScroll(i))},500)}}),define("spreadsheeteditor/mobile/app/view/DocumentHolder",["jquery","underscore","backbone","common/mobile/utils/utils"],function(e,t,i){"use strict";SSE.Views.DocumentHolder=i.View.extend(function(){var i="context-menu-target";return{el:"#editor_sdk",template:t.template('<div id="'+i+'" style="position: absolute;"></div>'),events:{},initialize:function(){Common.NotificationCenter.on("document:ready",function(){this.$el.append(this.template())}.bind(this))},render:function(){e(this.el);return this},showMenu:function(a,n,o){if(!(a.length<1)){var s=t.template(["<% if(menuItems.itemsIcon) {%>","<% _.each(menuItems.itemsIcon, function(item) { %>",'<li data-event="<%= item.event %>"><a href="#" class="item-link list-button"><i class="icon <%= item.icon %>"></i></a></li>',"<% }); }%>","<% if(menuItems.items) {%>","<% _.each(menuItems.items, function(item) { %>",'<li data-event="<%= item.event %>"><a href="#" class="item-link list-button"><%= item.caption %></a></li>',"<% }); }%>"].join("")),r=e("#"+i).css({left:n,top:Math.max(0,o)});uiApp.closeModal(".document-menu.modal-in");var l='<div class="popover document-menu"><div class="popover-inner"><div class="list-block"><ul>'+s({menuItems:a})+"</ul></div></div></div>",c=uiApp.popover(l,r);Common.SharedSettings.get("android")&&Common.Utils.androidMenuTop(e(c),r),e(".modal-overlay").removeClass("modal-overlay-visible"),e(".document-menu li").single("click",t.buffered(function(t){var i=e(t.currentTarget),a=i.data("event");this.fireEvent("contextmenu:click",[this,a])},100,this))}},hideMenu:function(){e("#"+i).css({left:-1e3,top:-1e3}),uiApp.closeModal(".document-menu.modal-in")}}}())}),define("spreadsheeteditor/mobile/app/controller/DocumentHolder",["core","jquery","underscore","backbone","spreadsheeteditor/mobile/app/view/DocumentHolder"],function(e,t,i,a){"use strict";SSE.Controllers.DocumentHolder=a.Controller.extend(i.extend(function(){function e(e){var t=window.open(e,"_blank");t&&t.focus()}var a=[],n=!1;return{models:[],collections:[],views:["DocumentHolder"],initialize:function(){this.addListeners({DocumentHolder:{"contextmenu:click":this.onContextMenuClick}})},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onShowPopMenu",i.bind(this.onApiShowPopMenu,this)),this.api.asc_registerCallback("asc_onHidePopMenu",i.bind(this.onApiHidePopMenu,this)),Common.NotificationCenter.on("api:disconnect",i.bind(this.onCoAuthoringDisconnect,this)),this.api.asc_registerCallback("asc_onCoAuthoringDisconnect",i.bind(this.onCoAuthoringDisconnect,this))},setMode:function(e){(n=e.isEdit)&&this.api.asc_registerCallback("asc_onSetAFDialog",i.bind(this.onApiFilterOptions,this))},onLaunch:function(){var e=this;e.view=e.createView("DocumentHolder").render(),$$(window).on("resize",i.bind(e.onEditorResize,e))},onContextMenuClick:function(t,n){var o=this,s=o.api.asc_getCellInfo();switch(n){case"cut":o.api.asc_Cut();break;case"copy":o.api.asc_Copy();break;case"paste":o.api.asc_Paste();break;case"del":o.api.asc_emptyCells(Asc.c_oAscCleanOptions.All);break;case"wrap":o.api.asc_setCellTextWrap(!0);break;case"unwrap":o.api.asc_setCellTextWrap(!1);break;case"edit":o.view.hideMenu(),SSE.getController("EditContainer").showModal();break;case"merge":o.api.asc_mergeCellsDataLost(Asc.c_oAscMergeOptions.Merge)?i.defer(function(){uiApp.confirm(o.warnMergeLostData,void 0,function(){o.api.asc_mergeCells(Asc.c_oAscMergeOptions.Merge)})}):o.api.asc_mergeCells(Asc.c_oAscMergeOptions.Merge);break;case"unmerge":o.api.asc_mergeCells(Asc.c_oAscMergeOptions.None);break;case"hide":o.api[s.asc_getFlags().asc_getSelectionType()==Asc.c_oAscSelectionType.RangeRow?"asc_hideRows":"asc_hideColumns"]();break;case"show":o.api[s.asc_getFlags().asc_getSelectionType()==Asc.c_oAscSelectionType.RangeRow?"asc_showRows":"asc_showColumns"]();break;case"addlink":o.view.hideMenu(),SSE.getController("AddContainer").showModal({panel:"hyperlink"});break;case"openlink":var r=s.asc_getHyperlink();if(r.asc_getType()==Asc.c_oAscHyperlinkType.RangeLink);else{var l=r.asc_getHyperlinkUrl().replace(/\s/g,"%20");o.api.asc_getUrlType(l)>0&&e(l)}break;case"freezePanes":o.api.asc_freezePane()}"showActionSheet"==n&&a.length>0&&i.delay(function(){i.each(a,function(e){e.text=e.caption,e.onClick=function(){o.onContextMenuClick(null,e.event)}}),uiApp.actions([a,[{text:o.sheetCancel,bold:!0}]])},100),o.view.hideMenu()},onEditorResize:function(e){},onApiShowPopMenu:function(e,i){if(n&&!this.isDisconnected&&!(t(".popover.settings, .popup.settings, .picker-modal.settings, .modal-in, .actions-modal").length>0)){var a,o=this;a=o._initMenu(o.api.asc_getCellInfo()),o.view.showMenu(a,e,i)}},onApiHidePopMenu:function(){this.view.hideMenu()},_initMenu:function(e){var t,i,a,n,o,s,r,l,c=this,d=[],p=[],u=e.asc_getLocked();switch(e.asc_getFlags().asc_getSelectionType()){case Asc.c_oAscSelectionType.RangeCells:t=!0;break;case Asc.c_oAscSelectionType.RangeRow:i=!0;break;case Asc.c_oAscSelectionType.RangeCol:a=!0;break;case Asc.c_oAscSelectionType.RangeMax:break;case Asc.c_oAscSelectionType.RangeImage:o=!0;break;case Asc.c_oAscSelectionType.RangeShape:r=!0;break;case Asc.c_oAscSelectionType.RangeChart:n=!0;break;case Asc.c_oAscSelectionType.RangeChartText:l=!0;break;case Asc.c_oAscSelectionType.RangeShapeText:s=!0}if(!u&&(o||r||n||s||l)&&this.api.asc_getGraphicObjectProps().every(function(e){return e.asc_getObjectType()==Asc.c_oAscTypeSelectElement.Image&&(u=e.asc_getObjectValue().asc_getLocked()),!u}),u||this.api.isCellEdited)p=[{caption:c.menuCopy,event:"copy",icon:"icon-copy"}];else{var p=[{caption:c.menuCut,event:"cut",icon:"icon-cut"},{caption:c.menuCopy,event:"copy",icon:"icon-copy"},{caption:c.menuPaste,event:"paste",icon:"icon-paste"}];d.push({caption:c.menuDelete,event:"del"}),o||r||n||s||l?d.push({caption:c.menuEdit,event:"edit"}):(a||i?d.push({caption:c.menuHide,event:"hide"},{caption:c.menuShow,event:"show"}):t&&(!u&&d.push({caption:c.menuCell,event:"edit"}),e.asc_getFlags().asc_getMerge()==Asc.c_oAscMergeOptions.None&&d.push({caption:c.menuMerge,event:"merge"}),e.asc_getFlags().asc_getMerge()==Asc.c_oAscMergeOptions.Merge&&d.push({caption:c.menuUnmerge,event:"unmerge"}),d.push(e.asc_getFlags().asc_getWrapText()?{caption:c.menuUnwrap,event:"unwrap"}:{caption:c.menuWrap,event:"wrap"}),e.asc_getHyperlink()&&!e.asc_getFlags().asc_getMultiselect()&&e.asc_getHyperlink().asc_getType()==Asc.c_oAscHyperlinkType.WebLink?d.push({caption:c.menuOpenLink,event:"openlink"}):e.asc_getHyperlink()||e.asc_getFlags().asc_getMultiselect()||e.asc_getFlags().asc_getLockText()||!e.asc_getText()||d.push({caption:c.menuAddLink,event:"addlink"})),d.push({caption:this.api.asc_getSheetViewSettings().asc_getIsFreezePane()?c.menuUnfreezePanes:c.menuFreezePanes,event:"freezePanes"}))}return Common.SharedSettings.get("phone")&&d.length>2&&(d.slice(2),d=d.slice(0,2),d.push({caption:c.menuMore,event:"showActionSheet"})),{itemsIcon:p,items:d}},onCoAuthoringDisconnect:function(){this.isDisconnected=!0},onApiFilterOptions:function(e){if(n){var t=e.asc_getCellCoord(),i=t.asc_getX()+t.asc_getWidth()-9,a=t.asc_getY()+t.asc_getHeight()-9;SSE.getController("FilterOptions").showModal(i,a)}},warnMergeLostData:"Operation can destroy data in the selected cells.<br>Continue?",menuCopy:"Copy",menuCut:"Cut",menuPaste:"Paste",menuDelete:"Delete",menuAddLink:"Add Link",menuOpenLink:"Open Link",menuWrap:"Wrap",menuUnwrap:"Unwrap",menuMerge:"Merge",menuUnmerge:"Unmerge",menuShow:"Show",menuHide:"Hide",menuEdit:"Edit",menuCell:"Cell",menuMore:"More",sheetCancel:"Cancel",menuFreezePanes:"Freeze Panes",menuUnfreezePanes:"Unfreeze Panes"}}(),SSE.Controllers.DocumentHolder||{}))}),define("text!spreadsheeteditor/mobile/app/template/CellEditor.template",[],function(){return'<div id="cell-editing-box"><div class="ce-group group-name"><span id="ce-cell-name"></span> <a href="#" id="ce-function" class="link icon-only"><i class="icon icon-function"></i></a></div><div class="ce-group group-content"><textarea id="ce-cell-content" spellcheck="false" rows="1" cols="20"></textarea></div><div class="ce-group group-expand"><button id="ce-btn-expand" type="button" class="btn"><span class="caret"></span></button></div><div class="ce-group group-functions-list"><ul class="func-list"></ul></div></div>'}),define("spreadsheeteditor/mobile/app/view/CellEditor",["text!spreadsheeteditor/mobile/app/template/CellEditor.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.CellEditor=a.View.extend({el:".pages > .page",template:i.template(e),events:{"click button#ce-btn-expand":"expandEditor","click #ce-function":function(e){this.fireEvent("function:click",this)}},touch:{},tplHintItem:i.template("<li><a><%= caption %></a></li>"),initialize:function(e){},
render:function(){var e=t(this.el);return this.$el=t(this.template()).prependTo(e),this.$cellname=t("#ce-cell-name",this.el),this.$btnexpand=t("#ce-btn-expand",this.el),this.$boxfuncs=t(".group-functions-list",this.el),this.$listfuncs=t(".func-list",this.$boxfuncs),this.$listfuncs.on({touchstart:this.onTouchStart.bind(this),touchmove:this.onTouchMove.bind(this),touchend:this.onTouchEnd.bind(this)}),this},updateCellInfo:function(e){e&&this.$cellname.html("string"==typeof e?e:e.asc_getName())},expandEditor:function(){this.$el.hasClass("expanded")?(this.$el.removeClass("expanded"),this.$btnexpand.removeClass("collapse")):(this.$el.addClass("expanded"),this.$btnexpand.addClass("collapse"))},clearFunctionsHint:function(){this.$listfuncs.find("li").off("click"),this.$listfuncs.empty(),this.$listfuncs.scrollLeft(0)},cellNameDisabled:function(e){},resetFunctionsHint:function(e){this.clearFunctionsHint();var a=this,n=function(e,t,i){this.fireEvent("function:hint",[e,t])},o=[];i.each(e,function(e,i){var s=t(a.tplHintItem({caption:e.asc_getName()}));s.on("click",n.bind(a,e.asc_getName(),e.asc_getType())),o.push(s)}),this.$listfuncs.append(o)},hasHiddenFunctionsHint:function(){var e=this.$boxfuncs.offset().left,t=e+this.$boxfuncs.width(),i=this.$listfuncs.find("li"),a=i.first().get(0).getBoundingClientRect();return a.left<e||(a=i.last().get(0).getBoundingClientRect(),a.right>t)},onTouchStart:function(e){if(this.hasHiddenFunctionsHint()){var t=e.originalEvent.changedTouches;this.touch.startx=t[0].clientX,this.touch.scrollx=this.$listfuncs.scrollLeft(),this.touch.timer=setTimeout(function(){},500),e.preventDefault()}},onTouchMove:function(e){if(void 0!==this.touch.startx){var t=e.originalEvent.changedTouches;this.touch.longtouch||(this.touch.timer&&(clearTimeout(this.touch.timer),delete this.touch.timer),this.$listfuncs.scrollLeft(this.touch.scrollx+(this.touch.startx-t[0].clientX))),e.preventDefault()}},onTouchEnd:function(e){void 0!==this.touch.startx&&(this.touch.longtouch=!1,delete this.touch.startx,e.preventDefault())}})}),define("spreadsheeteditor/mobile/app/controller/CellEditor",["core","spreadsheeteditor/mobile/app/view/CellEditor"],function(e){"use strict";SSE.Controllers.CellEditor=Backbone.Controller.extend({views:["CellEditor"],events:function(){return{}},initialize:function(){var e=this;this.addListeners({CellEditor:{"function:click":this.onInsertFunction.bind(this),"function:hint":function(t,i){setTimeout(function(){e.api.asc_insertFormula(t,i,!1)},0)}}})},setApi:function(e){return this.api=e,this.api.asc_registerCallback("asc_onSelectionNameChanged",_.bind(this.onApiCellSelection,this)),this.api.asc_registerCallback("asc_onEditCell",_.bind(this.onApiEditCell,this)),this.api.asc_registerCallback("asc_onFormulaCompleteMenu",_.bind(this.onFormulaCompleteMenu,this)),this.api.asc_registerCallback("asc_onCoAuthoringDisconnect",_.bind(this.onApiDisconnect,this)),Common.NotificationCenter.on("api:disconnect",_.bind(this.onApiDisconnect,this)),this},setMode:function(e){this.mode=e},onInputKeyDown:function(e){if(Common.UI.Keys.UP===e.keyCode||Common.UI.Keys.DOWN===e.keyCode||Common.UI.Keys.TAB===e.keyCode||Common.UI.Keys.RETURN===e.keyCode||Common.UI.Keys.ESC===e.keyCode||Common.UI.Keys.LEFT===e.keyCode||Common.UI.Keys.RIGHT===e.keyCode){var t=$("#menu-formula-selection");t.hasClass("open")&&t.find(".dropdown-menu").trigger("keydown",e)}},onLaunch:function(){this.editor=this.createView("CellEditor").render()},onApiEditCell:function(e){e==Asc.c_oAscCellEditorState.editStart?(this.api.isCellEdited=!0,this.editor.cellNameDisabled(!0)):e==Asc.c_oAscCellEditorState.editEnd&&(this.api.isCellEdited=!1,this.api.isCEditorFocused=!1,this.editor.cellNameDisabled(!1))},onApiCellSelection:function(e){this.editor.updateCellInfo(e)},onApiDisconnect:function(){this.mode.isEdit=!1,$("#ce-function").addClass("disabled")},onCellsRange:function(e){},onCellName:function(e){if(e.keyCode==Common.UI.Keys.RETURN){var t=this.editor.$cellname.val();t&&t.length&&this.api.asc_findCell(t),Common.NotificationCenter.trigger("edit:complete",this.editor)}},onBlurCellEditor:function(){"clear"==this.api.isCEditorFocused?this.api.isCEditorFocused=void 0:this.api.isCellEdited&&(this.api.isCEditorFocused=!0)},onKeyupCellEditor:function(e){e.keyCode!=Common.UI.Keys.RETURN||e.altKey||(this.api.isCEditorFocused="clear")},onInsertFunction:function(){this.mode&&this.mode.isEdit&&SSE.getController("AddContainer").showModal({panel:"function",button:"#ce-function"})},onFormulaCompleteMenu:function(e){e&&e.length?(this.editor.resetFunctionsHint(e),!this.editor.$boxfuncs.hasClass(".opened")&&this.editor.$boxfuncs.addClass("opened")):this.editor.$boxfuncs.removeClass("opened")}})}),define("spreadsheeteditor/mobile/app/view/Statusbar",["core","underscore","common/mobile/utils/utils"],function(e){"use strict";SSE.Views.Statusbar=Backbone.View.extend(function(){function e(e){var t,i=arguments[1]||this.$boxTabs.offset().left,a=arguments[2]||i+this.$boxTabs.width();if("number"==typeof e?!(e<0)&&e<this.$boxTabs.children().length&&(t=this.$boxTabs.children().eq(e)):t=e.get("el"),t){var n=t.get(0).getBoundingClientRect();return!(n.left<i||n.right>a)}return!1}function t(e){var t=SSE.getCollection("Sheets");if("object"==typeof e?e==t.first()?e="first":e==t.last()&&(e="last"):"number"==typeof e&&(e=e>0?e+1<t.size()?t.at(e):"last":"first"),e<=0||"first"==e)this.$boxTabs.scrollLeft(0);else if("last"==e||e>=t.size()-1)this.$boxTabs.scrollLeft(1e4);else{var i=e.get("el");if(i){var a=this.$boxTabs.width(),n=i.position().left,o=n+parseInt(i.css("width"));n<0?this.$boxTabs.scrollLeft(n-26):o>a&&this.$boxTabs.scrollLeft(o-a+20)}}}function i(){var e=SSE.getCollection("Sheets"),t=this.$boxTabs.offset().left,i=t+this.$boxTabs.width(),a=e.first().get("el"),n=a.get(0).getBoundingClientRect();return n.left<t||(a=e.last().get("el"),n=a.get(0).getBoundingClientRect(),n.right>i)}function a(e){if(i.call(this)){var t=e.originalEvent.changedTouches;s.startx=t[0].clientX,s.scrollx=this.$boxTabs.scrollLeft(),s.timer=setTimeout(function(){},500),e.preventDefault()}}function n(e){if(void 0!==s.startx){var t=e.originalEvent.changedTouches;s.longtouch||(s.timer&&(clearTimeout(s.timer),delete s.timer),this.$boxTabs.scrollLeft(s.scrollx+(s.startx-t[0].clientX))),e.preventDefault()}}function o(e){void 0!==s.startx&&(s.longtouch=!1,delete s.startx,e.preventDefault())}var s={};return{el:".pages > .page",template:'<div class="statusbar"><div id="box-addtab" class="status-group"><a href="#" id="btn-addtab" class="button" style="display:none"><i class="icon icon-plus"></i></a></div><div class="box-tabs"><ul class="sheet-tabs bottom"></ul></div></div>',tabtemplate:_.template('<li class="tab<% if (locked) print(" locked"); %>"><a><%= label %></a></li>'),menutemplate:_.template('<% _.each(menuItems, function(item) { %><li data-event="<%= item.event %>" class="<% if (item.locked===true) print("disabled") %>"><a href="#" class="item-link list-button"><%= item.caption %></li><% }); %>'),events:{},api:void 0,initialize:function(e){_.extend(this,e)},render:function(){var e=this;return e.$el=$(e.template).appendTo($(e.el)),e.$boxTabs=e.$el.find(".box-tabs > ul"),e.$btnAddTab=e.$el.find("#box-addtab > .button"),e.$btnAddTab.single("click",_.buffered(function(t){e.fireEvent("sheet:addnew")},300)),e.$boxTabs.on({touchstart:a.bind(this),touchmove:n.bind(this),touchend:o}),e},setMode:function(e){"disconnect"==e?this.$btnAddTab.toggleClass("disabled",!0):e.isEdit&&this.$btnAddTab.show()},setVisible:function(e){e?this.show():this.hide()},addSheet:function(e){var t=this.$boxTabs.children().length,i=$(this.tabtemplate({label:e.get("name"),locked:e.get("locked")})).appendTo(this.$boxTabs);return i.on("click",this.onSheetClick.bind(this,t,e)),e.get("active")&&i.addClass("active"),e.set("el",i,{silent:!0}),i},addSheets:function(i){var a;i.each(function(e){this.addSheet(e),e.get("active")&&(a=e)},this),a&&!e.call(this,a)&&t.call(this,a)},clearTabs:function(){this.$boxTabs.children().off("click"),this.$boxTabs.empty()},setActiveTab:function(i){this.$boxTabs.children().removeClass("active").eq(i).addClass("active"),e.call(this,i)||t.call(this,i)},onSheetClick:function(e,t,i){return this.fireEvent("sheet:click",[e,t]),!1},changeViewMode:function(e){e?this.tabBarBox.css("left","152px"):this.tabBarBox.css("left",""),this.tabbar.options.draggable=e,this.editMode=e},showTabContextMenu:function(e,t){uiApp.closeModal(".document-menu.modal-in");var i='<div class="popover document-menu"><div class="popover-inner"><div class="list-block"><ul>'+this.menutemplate({menuItems:e})+"</ul></div></div></div>",a=t.get("el"),n=uiApp.popover(i,a);Common.SharedSettings.get("android")&&Common.Utils.androidMenuTop($(n),a),$(".modal-overlay").removeClass("modal-overlay-visible"),$(".document-menu li").single("click",_.buffered(function(e){uiApp.closeModal(".document-menu.modal-in");var i=$(e.currentTarget),a=i.data("event");this.fireEvent("contextmenu:click",[this,a,t])},100,this))}}}())}),define("spreadsheeteditor/mobile/app/model/sheet",["backbone"],function(e){"use strict";SSE.Models=SSE.Models||{},SSE.Models.Sheet=e.Model.extend({initialize:function(){},defaults:{index:void 0,name:null}})}),define("spreadsheeteditor/mobile/app/collection/sheets",["backbone","spreadsheeteditor/mobile/app/model/sheet"],function(e){"use strict";SSE.Collections=SSE.Collections||{},SSE.Collections.Sheets=e.Collection.extend({model:SSE.Models.Sheets})}),define("spreadsheeteditor/mobile/app/controller/Statusbar",["core","spreadsheeteditor/mobile/app/view/Statusbar","spreadsheeteditor/mobile/app/collection/sheets"],function(){"use strict";SSE.Controllers.Statusbar=Backbone.Controller.extend(_.extend({models:[],collections:["Sheets"],views:["Statusbar"],initialize:function(){this.addListeners({Statusbar:{"sheet:click":this.onTabClick,"sheet:addnew":this.onAddTab,"contextmenu:click":this.onTabMenu}})},events:function(){},onLaunch:function(){var e=this;this.statusbar=this.createView("Statusbar").render(),this.sheets=this.getApplication().getCollection("Sheets"),this.sheets.bind({add:function(t,i,a){var n=e.statusbar.addSheet(t);t.set("el",n,{silent:!0})},change:function(e){e.changed&&void 0!=e.changed.locked&&e.get("el").toggleClass("locked",e.changed.locked)},reset:function(t,i){e.statusbar.clearTabs(),e.statusbar.addSheets(t)}}),this.hiddensheets=this.getApplication().createCollection("Sheets"),Common.NotificationCenter.on("document:ready",this.onApiSheetsChanged.bind(this))},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onCoAuthoringDisconnect",_.bind(this.onApiDisconnect,this)),Common.NotificationCenter.on("api:disconnect",_.bind(this.onApiDisconnect,this)),this.api.asc_registerCallback("asc_onWorkbookLocked",_.bind(this.onWorkbookLocked,this)),this.api.asc_registerCallback("asc_onWorksheetLocked",_.bind(this.onWorksheetLocked,this)),this.api.asc_registerCallback("asc_onSheetsChanged",this.onApiSheetsChanged.bind(this))},setMode:function(e){this.statusbar.setMode(e),this.isEdit=e.isEdit},onApiSheetsChanged:function(){for(var e,t,i=this,a=this.api.asc_getWorksheetsCount(),n=-1,o=[],s=[],r=this.api.asc_getActiveWorksheetIndex();++n<a;)t=i.api.asc_isWorksheetLockedOrDeleted(n),e={index:n,active:r==n,name:i.api.asc_getWorksheetName(n),locked:t,color:i.api.asc_getWorksheetTabColor(n)},(this.api.asc_isWorksheetHidden(n)?o:s).push(new SSE.Models.Sheet(e));this.sheets.reset(s),this.hiddensheets.reset(o)},onApiDisconnect:function(){this.statusbar.setMode("disconnect"),this.isDisconnected=!0},onWorkbookLocked:function(e){return void this.statusbar.$btnAddTab.toggleClass("disabled",e)},onWorksheetLocked:function(e,t){var i=this.sheets.findWhere({index:e});i&&i.get("locked")!=t&&i.set("locked",t)},onApiEditCell:function(e){var t=e==Asc.c_oAscCellEditorState.editFormula,i=(Asc.c_oAscCellEditorState.editEnd,$(".statusbar-mask")),a=this.statusbar;a.isEditFormula=t,t&&i.length>0||!t&&0==i.length||(a.$el.find(".statusbar").toggleClass("masked",t),t?i=$("<div class='statusbar-mask'>").appendTo(a.$el):i.remove())},createDelayedElements:function(){this.statusbar.$el.css("z-index",""),this.statusbar.btnAddWorksheet.on("click",_.bind(this.onAddWorksheetClick,this)),Common.NotificationCenter.on("window:resize",_.bind(this.onWindowResize,this))},onWindowResize:function(e){},createSheetName:function(){for(var e=[],t=this.api.asc_getWorksheetsCount();t--;)e.push(this.api.asc_getWorksheetName(t).toLowerCase());for(var i,a=0;++a<1e3&&(i=this.strSheet+a,!(e.indexOf(i.toLowerCase())<0)););return i},createCopyName:function(e){for(var t=this.api.asc_getWorksheetsCount(),i=[];t--;)i.push(this.api.asc_getWorksheetName(t).toLowerCase());for(var a,n=/^(.*)\((\d)\)$/.exec(e),o=n?n[1]:e+" ",s=1;++s<1e3&&(a=o+"("+s+")",!(i.indexOf(a.toLowerCase())<0)););return a},deleteWorksheet:function(){var e=this;1==e.sheets.length?uiApp.alert(e.errorLastSheet):uiApp.confirm(e.warnDeleteSheet,void 0,_.buffered(function(){e.api.asc_deleteWorksheet()||_.defer(function(){uiApp.alert(e.errorRemoveSheet)})},300))},hideWorksheet:function(e,t){e?1==this.sheets.length?uiApp.alert(this.errorLastSheet):this.api.asc_hideWorksheet(t):this.api.asc_showWorksheet(t)},onAddWorksheetClick:function(e,t,i){this.api&&(this.api.asc_closeCellEditor(),this.api.asc_addWorksheet(this.createSheetName()),Common.NotificationCenter.trigger("comments:updatefilter",{property:"uid",value:new RegExp("^(doc_|sheet"+this.api.asc_getActiveWorksheetId()+"_)")},!1)),Common.NotificationCenter.trigger("edit:complete",this.statusbar)},selectTab:function(e){if(this.api){if(!this.api.asc_isWorksheetHidden(sheetindex)){var t=_.findWhere(this.statusbar.tabbar.tabs,{sheetindex:sheetindex});t&&this.statusbar.tabbar.setActive(t)}}},moveCurrentTab:function(e){if(this.api){var t=0,i=this.statusbar.tabbar,a=this.api.asc_getActiveWorksheetIndex(),n=i.tabs.length;this.statusbar.tabMenu.hide(),this.api.asc_closeCellEditor();for(var o=0;o<n;++o)if(i.tabs[o].sheetindex===a){t=o,e>0?++t>=n&&(t=0):--t<0&&(t=n-1),i.setActive(t),this.api.asc_showWorksheet(i.getAt(t).sheetindex);break}}},renameWorksheet:function(){var e=this;if(e.api.asc_getWorksheetsCount()>0){var t=e.api.asc_getActiveWorksheetIndex();if(e.api.asc_isWorksheetLockedOrDeleted(t))return;var i=e.api.asc_getWorksheetName(e.api.asc_getActiveWorksheetIndex()),a=uiApp.modal({title:e.strRenameSheet,afterText:'<div class="input-field"><input type="text" name="modal-sheet-name" placeholder="'+e.strSheetName+'" class="modal-text-input"></div>',buttons:[{text:"OK",bold:!0,onClick:function(){var n=$(a).find('.modal-text-input[name="modal-sheet-name"]').val(),o=e.api.asc_getWorksheetsCount(),s=[],r=_.isEmpty(n)?e.errNotEmpty:n.length>2&&'"'==n[0]&&'"'==n[n.length-1]||!/[:\\\/\*\?\[\]\']/.test(n)?null:e.errNameWrongChar;if(!r){for(;o--;)t!==o&&s.push(e.api.asc_getWorksheetName(o).toLowerCase());if(s)for(var l=n.toLowerCase(),c=s.length-1;c>=0;--c)s[c]===l&&(r=e.errNameExists)}r?uiApp.alert(r,e.notcriticalErrorTitle,function(){_.defer(function(){e.renameWorksheet()})}):n!=i&&e.api.asc_renameWorksheet(n)}},{text:e.cancelButtonText}]})}},onApiUpdateTabColor:function(e){this.loadTabColor(e)},updateThemeColors:function(){this.statusbar&&function(e,t){if(e){for(var i,a=Common.Utils.ThemeColor.getEffectColors(),n=0;n<a.length;++n)"object"==typeof e.currentColor&&void 0===i&&e.currentColor.effectId==a[n].effectId&&(i=a[n]);e.updateColors(a,Common.Utils.ThemeColor.getStandartColors()),void 0===e.currentColor?e.currentColor=a[t]:void 0!==i&&(e.currentColor=i)}}(this.statusbar.mnuTabColor,1)},onNewBorderColor:function(){this.statusbar&&this.statusbar.mnuTabColor&&this.statusbar.mnuTabColor.addNewColor()},loadTabColor:function(e){if(this.api&&!this.api.asc_isWorksheetHidden(e)){var t=_.findWhere(this.statusbar.tabbar.tabs,{sheetindex:e});t&&this.setTabLineColor(t,this.api.asc_getWorksheetTabColor(e))}},setTabLineColor:function(e,t){e&&(t=null!==t?"#"+Common.Utils.ThemeColor.getHexColor(t.get_r(),t.get_g(),t.get_b()):"",t.length?(t=e.isActive()?"0px 3px 0 "+t+" inset":"0px 3px 0 "+Common.Utils.RGBColor(t).toRGBA(.7)+" inset",e.$el.find("a").css("box-shadow",t)):e.$el.find("a").css("box-shadow",""))},onError:function(e,t,i){},onTabClick:function(e,t){var i=$(".document-menu.modal-in").length;uiApp.closeModal(".document-menu.modal-in");var a=t.get("index");a==this.api.asc_getActiveWorksheetIndex()?i||this.isEdit&&!this.isDisconnected&&(this.api.asc_closeCellEditor(),this.statusbar.showTabContextMenu(this._getTabMenuItems(t),t)):(this.api.asc_showWorksheet(a),this.statusbar.setActiveTab(e),Common.NotificationCenter.trigger("sheet:active",a))},onAddTab:function(){this.api.asc_closeCellEditor(),this.api.asc_addWorksheet(this.createSheetName())},onTabMenu:function(e,t,i){var a=this;switch(t){case"del":a.deleteWorksheet();break;case"hide":a.hideWorksheet(!0,i.get("index"));break;case"ins":a.api.asc_insertWorksheet(a.createSheetName());break;case"copy":var n=a.createCopyName(a.api.asc_getWorksheetName(a.api.asc_getActiveWorksheetIndex()));a.api.asc_copyWorksheet(i.get("index"),n);break;case"unhide":var o=[];_.each(this.hiddensheets.models,function(e){o.push({caption:e.get("name"),event:"reveal:"+e.get("index")})}),_.defer(function(){a.statusbar.showTabContextMenu(o,i)});break;case"ren":a.renameWorksheet();break;default:var s=/reveal\:(\d+)/.exec(t);s&&s[1]&&a.hideWorksheet(!1,parseInt(s[1]))}},_getTabMenuItems:function(e){var t=this.api.asc_isWorkbookLocked(),i=this.api.asc_isWorksheetLockedOrDeleted(e.get("index")),a=[{caption:this.menuDuplicate,event:"copy",locked:t||i},{caption:this.menuDelete,event:"del",locked:t||i},{caption:this.menuRename,event:"ren",locked:t||i},{caption:this.menuHide,event:"hide",locked:t||i}];return t||i||!this.hiddensheets.length||a.push({caption:this.menuUnhide,event:"unhide"}),a},menuDuplicate:"Duplicate",menuDelete:"Delete",menuHide:"Hide",menuUnhide:"Unhide",errorLastSheet:"Workbook must have at least one visible worksheet.",errorRemoveSheet:"Can't delete the worksheet.",warnDeleteSheet:"The worksheet maybe has data. Proceed operation?",strSheet:"Sheet",menuRename:"Rename",errNameExists:"Worksheet with such name already exist.",errNameWrongChar:"A sheet name cannot contains characters: \\, /, *, ?, [, ], :",errNotEmpty:"Sheet name must not be empty",strRenameSheet:"Rename Sheet",strSheetName:"Sheet Name",cancelButtonText:"Cancel",notcriticalErrorTitle:"Warning"},SSE.Controllers.Statusbar||{}))}),define("text!spreadsheeteditor/mobile/app/template/Settings.template",[],function(){
return'<div id="settings-root-view"><div class="navbar"><div class="navbar-inner"><div class="center sliding"><%= scope.textSettings %></div><div class="right"><% if (phone) { %><a href="#" class="link close-popup"><%= scope.textDone %></a><% } %></div></div></div><div class="pages"><div class="page" data-page="settings-root-view"><div class="page-content"><div class="list-block"><ul> <% if (phone) { %> <li><a id="settings-search" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-search"></i></div><div class="item-inner"><div class="item-title"><%= scope.textFind %></div></div></div></a></li> <% } %> <% if(width < 360) {%> <li><div id="settings-collaboration" class="item-content" style="display: none;"><div class="item-media"><i class="icon icon-collaboration"></i></div><div class="item-inner"><div class="item-title"><%= scope.textCollaboration %></div></div></div></li> <% } %> <li><a id="settings-spreadsheet" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-table-settings"></i></div><div class="item-inner"><div class="item-title"><%= scope.textSpreadsheetSettings %></div></div></div></a></li><li><a id="settings-application" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-app-settings"></i></div><div class="item-inner"><div class="item-title"><%= scope.textApplicationSettings %></div></div></div></a></li><li><a id="settings-download" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-download"></i></div><div class="item-inner"><div class="item-title"><%= scope.textDownload %></div></div></div></a></li><li><a id="settings-print" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-print"></i></div><div class="item-inner"><div class="item-title"><%= scope.textPrint %></div></div></div></a></li><li><a id="settings-document-info" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-info"></i></div><div class="item-inner"><div class="item-title"><%= scope.textDocInfo %></div></div></div></a></li><li><a id="settings-help" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-help"></i></div><div class="item-inner"><div class="item-title"><%= scope.textHelp %></div></div></div></a></li><li><a id="settings-about" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-about"></i></div><div class="item-inner"><div class="item-title"><%= scope.textAbout %></div></div></div></a></li></ul></div></div></div></div></div><div id="settings-info-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %> </a></div><div class="center sliding"><%= scope.textDocInfo %></div></div></div><div class="pages"><div class="page" data-page="settings-info-view"><div class="page-content"><div class="content-block-title display-spreadsheet-title"><%= scope.textDocTitle %></div><div class="list-block display-spreadsheet-title"><ul><li class="item-content"><div class="item-inner"><div id="settings-spreadsheet-title" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-owner"><%= scope.textOwner %></div><div class="list-block display-owner"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-owner" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-location"><%= scope.textLocation %></div><div class="list-block display-location"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-location" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-uploaded"><%= scope.textUploaded %></div><div class="list-block display-uploaded"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-uploaded" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-title"><%= scope.textTitle %></div><div class="list-block display-title"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-title" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-subject"><%= scope.textSubject %></div><div class="list-block display-subject"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-subject" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-comment"><%= scope.textComment %></div><div class="list-block display-comment"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-comment" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-last-mode"><%= scope.textLastModified %></div><div class="list-block display-last-mode"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-last-mod" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-mode-by"><%= scope.textLastModifiedBy %></div><div class="list-block display-mode-by"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-mod-by" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-created-date"><%= scope.textCreated %></div><div class="list-block display-created-date"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-date" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-application"><%= scope.textApplication %></div><div class="list-block display-application"><ul><li class="item-content"><div class="item-inner"><div id="settings-sse-application" class="item-title"><%= scope.textLoading %></div></div></li></ul></div><div class="content-block-title display-author"><%= scope.textAuthor %></div><div class="list-block display-author"><ul id="list-creator"><li class="item-content"><div class="item-inner"><div id="settings-sse-author" class="item-title"><%= scope.textLoading %></div></div></li></ul></div></div></div></div></div><div id="settings-download-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %> </a></div><div class="center sliding"><%= scope.textDownload %></div></div></div><div class="pages"><div class="page formats" data-page="settings-download-view"><div class="page-content"><div class="content-block-title"><%= scope.textDownloadAs %></div><div class="list-block"><ul><li><a data-format="<%= saveas.xlsx %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-xlsx"></i></div><div class="item-inner"><div class="item-title">XLSX</div></div></div></a></li><li><a data-format="<%= saveas.pdf %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-pdf"></i></div><div class="item-inner"><div class="item-title">PDF</div></div></div></a></li><li><a data-format="<%= saveas.pdfa %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-pdfa"></i></div><div class="item-inner"><div class="item-title">PDF/A</div></div></div></a></li><li><a data-format="<%= saveas.ods %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-ods"></i></div><div class="item-inner"><div class="item-title">ODS</div></div></div></a></li><li><a data-format="<%= saveas.csv %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-csv"></i></div><div class="item-inner"><div class="item-title">CSV</div></div></div></a></li><li><a data-format="<%= saveas.xltx %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-xltx"></i></div><div class="item-inner"><div class="item-title">XLTX</div></div></div></a></li><li><a data-format="<%= saveas.ots %>" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-ots"></i></div><div class="item-inner"><div class="item-title">OTS</div></div></div></a></li></ul></div></div></div></div></div><div id="settings-history-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %> </a></div><div class="center sliding">Version History</div></div></div><div class="pages"><div class="page" data-page="settings-history-view"><div class="page-content"><div class="content-block-title">Saved versions</div><div class="content-block inset"><div class="content-block-inner"><p>Under construction</p></div></div></div></div></div></div><div id="settings-about-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %> </a></div><div class="center sliding"><%= scope.textAbout %></div></div></div><div class="pages"><div class="page about" data-page="settings-about-view"><div class="page-content"><div class="content-block"><div class="logo" style="display: inline-block; width: 100%; height: 55px;"></div><div id="settings-about-logo" style="margin-top: 20px;display: none;"></div></div><div class="content-block"><h3>SPREADSHEET EDITOR</h3><h3><%= scope.textVersion %> <%= prodversion %></h3></div><div class="content-block"><h3 id="settings-about-name" class="vendor"><%= publishername %></h3><p><label><%= scope.textAddress %>:</label><a id="settings-about-address" class="external" href="#"><%= publisheraddr %></a></p><p><label><%= scope.textEmail %>:</label><a id="settings-about-email" class="external" target="_blank" href="mailto:<%= supportemail %>"><%= supportemail %></a></p><p><label><%= scope.textTel %>:</label><a id="settings-about-tel" class="external" target="_blank" href="tel:<%= phonenum %>"><%= phonenum %></a></p><p><a id="settings-about-url" class="external" target="_blank" href="<%= publisherurl %>"><%= printed_url %></a></p><p><label id="settings-about-info" style="display: none;"></label></p></div><div class="content-block" id="settings-about-licensor" style="display: none;"><div class="content-block-inner" style="padding-top:0; padding-bottom: 1px;"></div><p><label><%= scope.textPoweredBy %></label></p><h3 class="vendor"><%= publishername %></h3><p><a class="external" target="_blank" href="<%= publisherurl %>"><%= printed_url %></a></p></div></div></div></div></div><div id="settings-application-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %> </a></div><div class="center sliding"><%= scope.textApplicationSettings %></div></div></div><div class="pages"><div class="page" data-page="settings-application-view"><div class="page-content"><div class="content-block-title"><%= scope.textUnitOfMeasurement %></div><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="unit-of-measurement" value="0"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textCentimeter %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="unit-of-measurement" value="1"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textPoint %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="unit-of-measurement" value="2"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textInch %></div></div></label></li></ul></div><div class="content-block-title"><%= scope.textFormulaLanguage %></div><div class="list-block"><ul><li class="media-item"><a id="language-formula" class="item-link item-content" data-page="#language-formula-view"><div class="item-inner"><div class="item-title-row"><div class="item-title"><%= scope.textCustom %></div></div><div class="item-subtitle"><%= scope.textExample + ": "%><span class="item-example"><%= scope.textCustomSize %></span></div></div></a></li></ul></div><div class="content-block-title"><%= scope.textRegionalSettings %></div><div class="list-block"><ul><li class="media-item"><a id="regional-settings" class="item-link item-content" data-page="#regional-settings-view"><div class="item-inner"><div class="item-title-row"><div class="item-title"><%= scope.textCustom %></div></div><div class="item-subtitle"><%= scope.textExample + ": "%><span class="item-example"><%= scope.textCustomSize %></span></div></div></a></li></ul></div><div class="content-block-title display-view"><%= scope.textCommentingDisplay %></div><div class="list-block display-view"><ul><div id="settings-display-comments" class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDisplayComments %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div><div id="settings-display-resolved" class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDisplayResolvedComments %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></ul></div><div class="list-block display-view"><ul><li id="r1-c1-style"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textR1C1Style %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div></div></div></div></div><div id="settings-spreadsheet-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textSpreadsheetSettings %></div></div></div><div class="page" id="page-settings-spreadsheet-view" data-page="settings-spreadsheet-view"><div class="page-content"><div class="content-block-title"><%= scope.textOrientation %></div><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="table-orientation" value="0"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textPortrait %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="table-orientation" value="1"> <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textLandscape %></div></div></label></li></ul></div><div class="content-block-title"><%= scope.textFormat %></div><div class="list-block"><ul><li class="media-item"><a id="settings-spreadsheet-format" class="item-link item-content" data-page="#settings-page-size-view"><div class="item-inner"><div class="item-title-row"><div class="item-title"><%= scope.textCustom %></div></div><div class="item-subtitle"><%= scope.textCustomSize %></div></div></a></li><li><a id="margin-settings" class="item-link item-content" data-page="#margins-view"><div class="item-inner"><div class="item-title-row"><div class="item-title"><%= scope.textMargins %></div></div></div></a></li></ul></div><div class="list-block"><ul><li id="hide-headings"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textHideHeadings %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li><li id="hide-gridlines"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textHideGridlines %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div><div class="list-block"><ul><li><a id="color-schemes" class="item-link item-content"><div class="item-inner"><div class="item-title-row"><div class="item-title"><%= scope.textColorSchemes %></div></div></div></a></li></ul></div></div></div></div><div id="color-schemes-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textColorSchemes %></div></div></div><div class="pages"><div class="page" data-page="color-schemes-view"><div class="page-content"><div id="color-schemes-content" class="list-block"></div></div></div></div></div><div id="settings-page-size-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textSpreadsheetFormats %></div></div></div><div class="pages"><div class="page" data-page="settings-page-size-view"><div class="page-content"><div class="list-block media-list"><ul></ul></div></div></div></div></div><div id="margins-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textMargins %></div></div></div><div class="pages"><div class="page" data-page="margins-view"><div class="page-content"><div class="list-block"><ul><li id="spreadsheet-margin-top"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textTop %></div><div class="item-after splitter"> <% if (!android) { %><label></label><% } %> <p class="buttons-row"><span class="button decrement"><% if (android) { %><i class="icon icon-expand-down"></i><% } else { %>-<% } %></span> <% if (android) { %><label></label><% } %> <span class="button increment"><% if (android) { %><i class="icon icon-expand-up"></i><% } else { %>+<% } %></span></p></div></div></div></li><li id="spreadsheet-margin-bottom"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textBottom %></div><div class="item-after splitter"> <% if (!android) { %><label></label><% } %> <p class="buttons-row"><span class="button decrement"><% if (android) { %><i class="icon icon-expand-down"></i><% } else { %>-<% } %></span> <% if (android) { %><label></label><% } %> <span class="button increment"><% if (android) { %><i class="icon icon-expand-up"></i><% } else { %>+<% } %></span></p></div></div></div></li><li id="spreadsheet-margin-left"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLeft %></div><div class="item-after splitter"> <% if (!android) { %><label></label><% } %> <p class="buttons-row"><span class="button decrement"><% if (android) { %><i class="icon icon-expand-down"></i><% } else { %>-<% } %></span> <% if (android) { %><label></label><% } %> <span class="button increment"><% if (android) { %><i class="icon icon-expand-up"></i><% } else { %>+<% } %></span></p></div></div></div></li><li id="spreadsheet-margin-right"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textRight %></div><div class="item-after splitter"> <% if (!android) { %><label></label><% } %> <p class="buttons-row"><span class="button decrement"><% if (android) { %><i class="icon icon-expand-down"></i><% } else { %>-<% } %></span> <% if (android) { %><label></label><% } %> <span class="button increment"><% if (android) { %><i class="icon icon-expand-up"></i><% } else { %>+<% } %></span></p></div></div></div></li></ul></div></div></div></div></div><div id="regional-settings-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textRegionalSettings %></div></div></div><div class="pages"><div class="page" data-page="regional-settings-view"><div class="page-content"><div class="list-block"><ul></ul></div></div></div></div></div><div id="language-formula-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textFormulaLanguage %></div></div></div><div class="pages"><div class="page" data-page="language-formula-view"><div class="page-content"><div class="list-block media-list"><ul></ul></div></div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/Settings",["text!spreadsheeteditor/mobile/app/template/Settings.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.Settings=a.View.extend(i.extend(function(){var a,n=!1,o=!1,s=!0,r=!0,l=!1;return{template:i.template(e),events:{},initialize:function(){Common.NotificationCenter.on("settingscontainer:show",i.bind(this.initEvents,this)),Common.Gateway.on("opendocument",i.bind(this.loadDocument,this))},initEvents:function(){var e=this;t("#settings-document-info").single("click",i.bind(e.showDocumentInfo,e)),t("#settings-download").single("click",i.bind(e.showDownload,e)),t("#settings-history").single("click",i.bind(e.showHistory,e)),t("#settings-help").single("click",i.bind(e.showHelp,e)),t("#settings-about").single("click",i.bind(e.showAbout,e)),t("#settings-application").single("click",i.bind(e.showSetApp,e)),t("#settings-spreadsheet").single("click",i.bind(e.showSetSpreadsheet,e)),Common.Utils.addScrollIfNeed(".view[data-page=settings-root-view] .pages",".view[data-page=settings-root-view] .page"),e.initControls()},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this,saveas:{xlsx:Asc.c_oAscFileType.XLSX,pdf:Asc.c_oAscFileType.PDF,pdfa:Asc.c_oAscFileType.PDFA,ods:Asc.c_oAscFileType.ODS,csv:Asc.c_oAscFileType.CSV,xltx:Asc.c_oAscFileType.XLTX,ots:Asc.c_oAscFileType.OTS},width:t(window).width(),prodversion:"5.4.2",publishername:"Ascensio System SIA",publisheraddr:"20A-12 Ernesta Birznieka-Upisha street, Riga, Latvia, EU, LV-1050",publisherurl:"https://www.onlyoffice.com/",printed_url:"https://www.onlyoffice.com/".replace(/https?:\/{2}/,"").replace(/\/$/,""),supportemail:"support@onlyoffice.com",phonenum:"+371 660-16425"})),this},setMode:function(e){a=e.isEdit,n=!e.isEdit&&e.canEdit&&e.canRequestEditRights,o=e.canDownload||e.canDownloadOrigin,l=e.canPrint,e.customization&&e.canBrandingExt&&(s=!1!==e.customization.about),e.customization&&(r=!1!==e.customization.help)},rootLayout:function(){if(this.layout){var e=this.layout.find("#settings-root-view");Common.SharedSettings.get("phone");return a?e.find("#settings-search .item-title").text(this.textFindAndReplace):e.find("#settings-spreadsheet").hide(),o||e.find("#settings-download").hide(),s||e.find("#settings-about").hide(),r||e.find("#settings-help").hide(),l||e.find("#settings-print").hide(),e.html()}return""},initControls:function(){},showPage:function(e){var t=SSE.getController("Settings").rootView();if(t&&this.layout){var i=this.layout.find(e);Framework7.prototype.device.android&&i.find(".page").append(i.find(".navbar")),t.router.load({content:i.html()}),this.fireEvent("page:show",[this,e])}},showSetApp:function(){this.showPage("#settings-application-view"),t("#language-formula").single("click",i.bind(this.showFormulaLanguage,this)),t("#regional-settings").single("click",i.bind(this.showRegionalSettings,this)),a||t(".page[data-page=settings-application-view] .page-content > :not(.display-view)").hide()},showFormulaLanguage:function(){this.showPage("#language-formula-view")},showColorSchemes:function(){this.showPage("#color-schemes-view")},showRegionalSettings:function(){this.showPage("#regional-settings-view")},showSetSpreadsheet:function(){this.showPage("#settings-spreadsheet-view"),t("#color-schemes").single("click",i.bind(this.showColorSchemes,this)),t("#settings-spreadsheet-format").single("click",i.bind(this.showPageSize,this)),t("#margin-settings").single("click",i.bind(this.showMargins,this))},showPageSize:function(){this.showPage("#settings-page-size-view")},showMargins:function(){this.showPage("#margins-view")},showDocumentInfo:function(){this.showPage("#settings-info-view")},showDownload:function(){this.showPage("#settings-download-view"),Common.Utils.addScrollIfNeed(".page[data-page=settings-download-view]",".page[data-page=settings-download-view] .page-content")},showHistory:function(){this.showPage("#settings-history-view")},showHelp:function(){this.fireEvent("settings:showhelp")},showAbout:function(){this.showPage("#settings-about-view"),Common.Utils.addScrollIfNeed(".page[data-page=settings-about-view]",".page[data-page=settings-about-view] .page-content")},loadDocument:function(e){var t={};e.doc&&(t=i.extend(t,e.doc.permissions),t.edit)},renderPageSizes:function(e,a){var n=t(".page[data-page=settings-page-size-view]"),o=n.find("ul"),s=[];i.each(e,function(e,t){s.push(i.template(["<li>",'<label class="label-radio item-content">','<input type="radio" name="spreadsheet-format" value="<%= item.value %>" <% if (index == selectIndex) { %>checked="checked"<% } %> >','<% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %>','<div class="item-inner">','<div class="item-title-row">','<div class="item-title"><%= item.caption %></div>',"</div>",'<div class="item-subtitle"><%= parseFloat(Common.Utils.Metric.fnRecalcFromMM(item.value[0]).toFixed(2)) %> <%= Common.Utils.Metric.getCurrentMetricName() %> x <%= parseFloat(Common.Utils.Metric.fnRecalcFromMM(item.value[1]).toFixed(2)) %> <%= Common.Utils.Metric.getCurrentMetricName() %></div>',"</div>","</label>","</li>"].join(""))({android:Framework7.prototype.device.android,item:e,index:t,selectIndex:a}))}),o.html(s.join(""))},renderFormLang:function(e,a){var n=t(".page[data-page=language-formula-view]"),o=n.find("ul"),s=[],r=this.textExample;i.each(a,function(t,a){s.push(i.template(["<li>",'<label class="label-radio item-content">','<input type="radio" name="language-formula" value="<%= item.value %>" <% if (index == selectIndex) { %>checked="checked"<% } %> >','<% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %>','<div class="item-inner">','<div class="item-title-row">','<div class="item-title"><%= item.displayValue %></div>',"</div>",'<div class="item-subtitle"><%= textExamp + ": "%> <%= item.exampleValue %></div>',"</div>","</label>","</li>"].join(""))({android:Framework7.prototype.device.android,item:t,index:a,selectIndex:e,textExamp:r}))}),o.html(s.join(""))},renderRegSettings:function(e,a){var n=t(".page[data-page=regional-settings-view]"),o=n.find("ul"),s=[];i.each(a,function(t){var a=["<li>",'<label class="label-radio item-content">','<input type="radio" name="region-settings" value="<%= item.code %>" <% if (item.code == selectReg) { %>checked="checked"<% } %> >','<% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %>','<div class="item-inner">','<div class="item-title-row">','<i class="icon lang-flag <%= item.langName%>"></i>','<div class="item-title"><%= item.displayName %></div>',"</div>","</div>","</label>","</li>"].join("");s.push(i.template(a)({android:Framework7.prototype.device.android,item:t,selectReg:e}))}),o.html(s)},unknownText:"Unknown",textFindAndReplace:"Find and Replace",textSettings:"Settings",textDone:"Done",textFind:"Find",textEditDoc:"Edit Document",textDownload:"Download",textDocInfo:"Document Info",textHelp:"Help",textAbout:"About",textBack:"Back",textDocTitle:"Document title",textLoading:"Loading...",textAuthor:"Author",textCreateDate:"Create date",textDownloadAs:"Download As...",textVersion:"Version",textAddress:"address",textEmail:"email",textTel:"tel",textPoweredBy:"Powered by",textPrint:"Print",textApplicationSettings:"Application Settings",textUnitOfMeasurement:"Unit of Measurement",textCentimeter:"Centimeter",textPoint:"Point",textInch:"Inch",textSpreadsheetSettings:"Spreadsheet Settings",textColorSchemes:"Color Schemes",textHideHeadings:"Hide Headings",textHideGridlines:"Hide Gridlines",textOrientation:"Orientation",textPortrait:"Portrait",textLandscape:"Landscape",textFormat:"Format",textSpreadsheetFormats:"Spreadsheet Formats",textCustom:"Custom",textCustomSize:"Custom Size",textMargins:"Margins",textTop:"Top",textLeft:"Left",textBottom:"Bottom",textRight:"Right",textCollaboration:"Collaboration",textFormulaLanguage:"Formula Language",textExample:"Example",textR1C1Style:"R1C1 Reference Style",textRegionalSettings:"Regional Settings",textCommentingDisplay:"Commenting Display",textDisplayComments:"Comments",textDisplayResolvedComments:"Resolved Comments",textSubject:"Subject",textTitle:"Title",textComment:"Comment",textOwner:"Owner",textApplication:"Application",textCreated:"Created",textLastModified:"Last Modified",textLastModifiedBy:"Last Modified By",textUploaded:"Uploaded",textLocation:"Location"}}(),SSE.Views.Settings||{}))}),define("spreadsheeteditor/mobile/app/controller/Settings",["core","spreadsheeteditor/mobile/app/view/Settings"],function(e){"use strict";SSE.Controllers.Settings=Backbone.Controller.extend(_.extend(function(){var e,t,i,a,n=0,o=[0,0],s=Common.Utils.Metric.getMetricName(Common.Utils.Metric.c_MetricUnits.cm),r=[{caption:"US Letter",subtitle:Common.Utils.String.format("21,59{0} x 27,94{0}",s),value:[215.9,279.4]},{caption:"US Legal",subtitle:Common.Utils.String.format("21,59{0} x 35,56{0}",s),value:[215.9,355.6]},{caption:"A4",subtitle:Common.Utils.String.format("21{0} x 29,7{0}",s),value:[210,297]},{caption:"A5",subtitle:Common.Utils.String.format("14,8{0} x 21{0}",s),value:[148,210]},{caption:"B5",subtitle:Common.Utils.String.format("17,6{0} x 25{0}",s),value:[176,250]},{caption:"Envelope #10",subtitle:Common.Utils.String.format("10,48{0} x 24,13{0}",s),value:[104.8,241.3]},{caption:"Envelope DL",subtitle:Common.Utils.String.format("11{0} x 22{0}",s),value:[110,220]},{caption:"Tabloid",subtitle:Common.Utils.String.format("27,94{0} x 43,18{0}",s),value:[279.4,431.8]},{caption:"A3",subtitle:Common.Utils.String.format("29,7{0} x 42{0}",s),value:[297,420]},{caption:"Tabloid Oversize",subtitle:Common.Utils.String.format("30,48{0} x 45,71{0}",s),value:[304.8,457.1]},{caption:"ROC 16K",subtitle:Common.Utils.String.format("19,68{0} x 27,3{0}",s),value:[196.8,273]},{caption:"Envelope Choukei 3",subtitle:Common.Utils.String.format("11,99{0} x 23,49{0}",s),value:[119.9,234.9]},{caption:"Super B/A3",subtitle:Common.Utils.String.format("33,02{0} x 48,25{0}",s),value:[330.2,482.5]},{caption:"A0",subtitle:Common.Utils.String.format("84,1{0} x 118,9{0}",s),value:[841,1189]},{caption:"A1",subtitle:Common.Utils.String.format("59,4{0} x 84,1{0}",s),value:[594,841]},{caption:"A2",subtitle:Common.Utils.String.format("42{0} x 59,4{0}",s),value:[420,594]},{caption:"A6",subtitle:Common.Utils.String.format("10,5{0} x 14,8{0}",s),
value:[105,148]}],l=Common.Utils.Metric.getMetricName(Common.Utils.Metric.getCurrentMetric()),c=[{value:"en",displayValue:"English",exampleValue:" SUM; MIN; MAX; COUNT"},{value:"de",displayValue:"Deutsch",exampleValue:" SUMME; MIN; MAX; ANZAHL"},{value:"es",displayValue:"Spanish",exampleValue:" SUMA; MIN; MAX; CALCULAR"},{value:"fr",displayValue:"French",exampleValue:" SOMME; MIN; MAX; NB"},{value:"it",displayValue:"Italian",exampleValue:" SOMMA; MIN; MAX; CONTA.NUMERI"},{value:"ru",displayValue:"Russian",exampleValue:" СУММ; МИН; МАКС; СЧЁТ"},{value:"pl",displayValue:"Polish",exampleValue:" SUMA; MIN; MAX; ILE.LICZB"}],d=[{value:1068},{value:1026},{value:1029},{value:1031},{value:2055},{value:1032},{value:3081},{value:2057},{value:1033},{value:3082},{value:2058},{value:1035},{value:1036},{value:1040},{value:1041},{value:1042},{value:1062},{value:1043},{value:1045},{value:1046},{value:2070},{value:1049},{value:1051},{value:1060},{value:2077},{value:1053},{value:1055},{value:1058},{value:1066},{value:2052}],p=[];return{models:[],collections:[],views:["Settings"],initialize:function(){Common.NotificationCenter.on("settingscontainer:show",_.bind(this.initEvents,this)),this.addListeners({Settings:{"page:show":this.onPageShow,"settings:showhelp":function(e){var t="https://helpcenter.onlyoffice.com";"/"!==t.charAt(t.length-1)&&(t+="/"),Common.SharedSettings.get("sailfish")?t+="mobile-applications/documents/sailfish/index.aspx":Common.SharedSettings.get("android")?t+="mobile-applications/documents/android/index.aspx":t+="mobile-applications/documents/index.aspx",window.open(t,"_blank"),this.hideModal()}}}),this.localMarginProps=null,d.forEach(function(e){var t=Common.util.LanguageInfo.getLocalLanguageName(e.value);p.push({code:e.value,displayName:t[1],langName:t[0]})})},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onSendThemeColorSchemes",_.bind(this.onSendThemeColorSchemes,this))},onLaunch:function(){this.createView("Settings").render()},setMode:function(e){this.getView("Settings").setMode(e),e.canBranding&&(i=e.customization)},initEvents:function(){},rootView:function(){return e},showModal:function(){if(uiApp.closeModal(),t=Common.SharedSettings.get("phone")?uiApp.popup('<div class="popup settings container-settings"><div class="content-block"><div class="view settings-root-view navbar-through">'+this.getView("Settings").rootLayout()+"</div></div></div>"):uiApp.popover('<div class="popover settings container-settings"><div class="popover-angle"></div><div class="popover-inner"><div class="content-block"><div class="view popover-view settings-root-view navbar-through">'+this.getView("Settings").rootLayout()+"</div></div></div></div>",$$("#toolbar-settings")),!0===Framework7.prototype.device.android&&($$(".view.settings-root-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.settings-root-view .navbar").prependTo(".view.settings-root-view > .pages > .page")),e=uiApp.addView(".settings-root-view",{dynamicNavbar:!0,domCache:!0}),!Common.SharedSettings.get("phone")){this.picker=$$(t);var i=$(".modal-overlay");$$(this.picker).on("opened",function(){i.on("removeClass",function(){i.hasClass("modal-overlay-visible")||i.addClass("modal-overlay-visible")})}).on("close",function(){i.off("removeClass"),i.removeClass("modal-overlay-visible")})}Common.NotificationCenter.trigger("settingscontainer:show"),this.onPageShow(this.getView("Settings"))},hideModal:function(){t&&uiApp.closeModal(t)},onPageShow:function(e,i){var a=this;$("#settings-search").single("click",_.bind(a._onSearch,a)),$(t).find(".formats a").single("click",_.bind(a._onSaveFormat,a)),$("#settings-print").single("click",_.bind(a._onPrint,a)),$("#settings-collaboration").single("click",_.bind(a.onCollaboration,a)),a.initSettings(i)},initSettings:function(e){var t=this;if("#settings-about-view"==e)t.setLicInfo(i);else if("#settings-application-view"==e)t.initPageApplicationSettings(),Common.Utils.addScrollIfNeed(".page[data-page=settings-application-view]",".page[data-page=settings-application-view] .page-content");else if("#color-schemes-view"==e)t.initPageColorSchemes(),Common.Utils.addScrollIfNeed(".page[data-page=color-schemes-view]",".page[data-page=color-schemes-view] .page-content");else if("#settings-spreadsheet-view"==e)t.initSpreadsheetSettings();else if("#settings-page-size-view"==e)t.initSpreadsheetPageSize();else if("#margins-view"==e)t.initSpreadsheetMargins();else if("#language-formula-view"==e)t.initFormulaLang();else if("#regional-settings-view"==e)t.initRegSettings();else if("#settings-info-view"==e)t.initPageInfo();else{var a=SSE.getController("Main").returnUserCount();a>0&&$("#settings-collaboration").show()}},initPageInfo:function(){var e=Common.SharedSettings.get("document")||{},t=e.info||{};e.title?$("#settings-spreadsheet-title").html(e.title):$(".display-spreadsheet-title").remove();var i=t.owner||t.author;i?$("#settings-sse-owner").html(i):$(".display-owner").remove(),i=t.uploaded||t.created,i?$("#settings-sse-uploaded").html(i):$(".display-uploaded").remove(),t.folder?$("#settings-sse-location").html(t.folder):$(".display-location").remove();var a=this.api?this.api.asc_getAppProps():null;if(a){var n=(a.asc_getApplication()||"")+" "+(a.asc_getAppVersion()||"");n?$("#settings-sse-application").html(n):$(".display-application").remove()}var o=this.api?this.api.asc_getCoreProps():null;if(o){i=o.asc_getTitle(),i?$("#settings-sse-title").html(i):$(".display-title").remove(),i=o.asc_getSubject(),i?$("#settings-sse-subject").html(i):$(".display-subject").remove(),i=o.asc_getDescription(),i?$("#settings-sse-comment").html(i):$(".display-comment").remove(),i=o.asc_getModified(),i?$("#settings-sse-last-mod").html(i.toLocaleString()):$(".display-last-mode").remove(),i=o.asc_getLastModifiedBy(),i?$("#settings-sse-mod-by").html(i):$(".display-mode-by").remove(),i=o.asc_getCreated(),i?$("#settings-sse-date").html(i.toLocaleString()):$(".display-created-date").remove(),i=o.asc_getCreator();var s="";i&&i.split(/\s*[,;]\s*/).forEach(function(e){s=s+"<li class='item-content'><div class='item-inner'><div class='item-title'>"+e+"</div></div></li>"}),s?$("#list-creator").html(s):$(".display-author").remove()}},initRegSettings:function(){var e=Number(Common.localStorage.getItem("sse-settings-regional"));this.getView("Settings").renderRegSettings(e||1033,p),$(".page[data-page=regional-settings-view] input:radio[name=region-settings]").single("change",_.bind(this.onRegSettings,this)),Common.Utils.addScrollIfNeed(".page[data-page=regional-settings-view]",".page[data-page=regional-settings-view] .page-content")},onRegSettings:function(e){var t=$(e.currentTarget).val();Common.localStorage.setItem("sse-settings-regional",t),this.initPageApplicationSettings(),null!==t&&this.api.asc_setLocale(parseInt(t))},initFormulaLang:function(){var e=Common.localStorage.getItem("sse-settings-func-lang"),t=_.findWhere(c,{value:e});this.getView("Settings").renderFormLang(t?c.indexOf(t):0,c),$(".page[data-page=language-formula-view] input:radio[name=language-formula]").single("change",_.bind(this.onFormulaLangChange,this)),Common.Utils.addScrollIfNeed(".page[data-page=language-formula-view]",".page[data-page=language-formula-view] .page-content")},onFormulaLangChange:function(e){var t=$(e.currentTarget).val();Common.localStorage.setItem("sse-settings-func-lang",t),this.initPageApplicationSettings(),SSE.getController("AddFunction").onDocumentReady()},onCollaboration:function(){SSE.getController("Common.Controllers.Collaboration").showModal()},initSpreadsheetSettings:function(){var e=this,t=$(".page[data-page=settings-spreadsheet-view]"),i=t.find("#hide-headings input"),a=t.find("#hide-gridlines input"),o=$(".page[data-page=settings-spreadsheet-view] input:radio[name=table-orientation]");i.single("change",_.bind(e.clickCheckboxHideHeadings,e)),a.single("change",_.bind(e.clickCheckboxHideGridlines,e));var s=e.api.asc_getSheetViewSettings();i.prop("checked",!s.asc_getShowRowColHeaders()),a.prop("checked",!s.asc_getShowGridLines());var l=this.api.asc_getActiveWorksheetIndex(),c=this.api.asc_getPageOptions(l),d=c.asc_getPageSetup();d.asc_getOrientation()===Asc.c_oAscPageOrientation.PagePortrait?$('.page[data-page=settings-spreadsheet-view] input:radio[name=table-orientation][value="0"]').prop("checked",!0):$('.page[data-page=settings-spreadsheet-view] input:radio[name=table-orientation][value="1"]').prop("checked",!0),o.single("change",_.bind(e.onOrientationChange,e));var p=$("#settings-spreadsheet-format");this.changeCurrentPageSize(d.asc_getWidth(),d.asc_getHeight()),p.find(".item-title").text(r[n].caption);var u=Common.localStorage.getItem("se-mobile-settings-unit");u=null!==u?parseInt(u):Common.Utils.Metric.getDefaultMetric(),Common.Utils.Metric.setCurrentMetric(u);var h=Common.Utils.Metric.getMetricName(Common.Utils.Metric.getCurrentMetric()),m=parseFloat(Common.Utils.Metric.fnRecalcFromMM(r[n].value[0]).toFixed(2)),f=parseFloat(Common.Utils.Metric.fnRecalcFromMM(r[n].value[1]).toFixed(2)),g=m+" "+h+" x "+f+" "+h;p.find(".item-subtitle").text(g)},changeCurrentPageSize:function(e,t){(Math.abs(o[0]-e)>.1||Math.abs(o[1]-t)>.1)&&(o=[e,t],_.find(r,function(i,a){Math.abs(i.value[0]-e)<.1&&Math.abs(i.value[1]-t)<.1&&(n=a)},this))},initSpreadsheetPageSize:function(){this.getView("Settings").renderPageSizes(r,n),$(".page[data-page=settings-page-size-view] input:radio[name=spreadsheet-format]").single("change",_.bind(this.onFormatChange,this)),Common.Utils.addScrollIfNeed(".page[data-page=settings-page-size-view]",".page[data-page=settings-page-size-view] .page-content")},onFormatChange:function(e){var t=$(e.currentTarget).val(),i=t.split(",");this.api.asc_changeDocSize(parseFloat(i[0]),parseFloat(i[1]),this.api.asc_getActiveWorksheetIndex()),this.initSpreadsheetSettings()},initSpreadsheetMargins:function(){var e=this,t=e.api.asc_getActiveWorksheetIndex(),i=e.api.asc_getPageOptions(t);e.localMarginProps=i.asc_getPageMargins(),l=Common.Utils.Metric.getMetricName(Common.Utils.Metric.getCurrentMetric());var a=parseFloat(Common.Utils.Metric.fnRecalcFromMM(e.localMarginProps.asc_getLeft()).toFixed(2)),n=parseFloat(Common.Utils.Metric.fnRecalcFromMM(e.localMarginProps.asc_getTop()).toFixed(2)),o=parseFloat(Common.Utils.Metric.fnRecalcFromMM(e.localMarginProps.asc_getRight()).toFixed(2)),s=parseFloat(Common.Utils.Metric.fnRecalcFromMM(e.localMarginProps.asc_getBottom()).toFixed(2));e.localMarginProps&&($("#spreadsheet-margin-top .item-after label").text(n+" "+l),$("#spreadsheet-margin-bottom .item-after label").text(s+" "+l),$("#spreadsheet-margin-left .item-after label").text(a+" "+l),$("#spreadsheet-margin-right .item-after label").text(o+" "+l)),_.each(["top","left","bottom","right"],function(t){$(Common.Utils.String.format("#spreadsheet-margin-{0} .button",t)).single("click",_.bind(e.onPageMarginsChange,e,t))})},onPageMarginsChange:function(e,t){var i=this,a=$(t.currentTarget),n=1,o=(Common.Utils.Metric.getMetricName(Common.Utils.Metric.c_MetricUnits.cm),null);switch(n=Common.Utils.Metric.getCurrentMetric()==Common.Utils.Metric.c_MetricUnits.pt?1:.1,n=Common.Utils.Metric.fnRecalcToMM(n),e){case"left":o=i.localMarginProps.asc_getLeft();break;case"top":o=i.localMarginProps.asc_getTop();break;case"right":o=i.localMarginProps.asc_getRight();break;case"bottom":o=i.localMarginProps.asc_getBottom()}var s=new Asc.asc_CPageMargins;switch(s.asc_setTop(i.localMarginProps.asc_getTop()),s.asc_setBottom(i.localMarginProps.asc_getBottom()),s.asc_setLeft(i.localMarginProps.asc_getLeft()),s.asc_setRight(i.localMarginProps.asc_getRight()),o=a.hasClass("decrement")?Math.max(0,o-n):Math.min(482.5,o+n),e){case"left":s.asc_setLeft(o);break;case"top":s.asc_setTop(o);break;case"right":s.asc_setRight(o);break;case"bottom":s.asc_setBottom(o)}$(Common.Utils.String.format("#document-margin-{0} .item-after label",e)).text(parseFloat(Common.Utils.Metric.fnRecalcFromMM(o)).toFixed(2)+" "+l),i.api.asc_changePageMargins(s.asc_getLeft(),s.asc_getRight(),s.asc_getTop(),s.asc_getBottom(),i.api.asc_getActiveWorksheetIndex()),i.initSpreadsheetMargins()},onOrientationChange:function(e){var t=$(e.currentTarget).attr("value");this.api.asc_changePageOrient(Number(t)===Asc.c_oAscPageOrientation.PagePortrait,this.api.asc_getActiveWorksheetIndex())},clickCheckboxHideHeadings:function(e){var t=$(e.currentTarget),i=t.prop("checked");this.api.asc_setDisplayHeadings(!i)},clickCheckboxHideGridlines:function(e){var t=$(e.currentTarget),i=t.prop("checked");this.api.asc_setDisplayGridlines(!i)},initPageColorSchemes:function(){$("#color-schemes-content").html(a),$(".color-schemes-menu").on("click",_.bind(this.onColorSchemaClick,this))},onSendThemeColorSchemes:function(e){a="",_.each(e,function(e,t){var i=e.get_colors();a=a+"<a class='color-schemes-menu item-link no-indicator'><input type='hidden' value='"+t+"'><div class='item-content'><div class='item-inner'><span class='color-schema-block'>";for(var n=2;n<7;n++){var o="#"+Common.Utils.ThemeColor.getHexColor(i[n].get_r(),i[n].get_g(),i[n].get_b());a=a+"<span class='color' style='background: "+o+";'></span>"}a=a+"</span><span class='text'>"+e.get_name()+"</span></div></div></a>"},this)},onColorSchemaClick:function(e){if(this.api){var t=$(e.currentTarget).children("input").val();this.api.asc_ChangeColorScheme(t)}},setLicInfo:function(e){if(e&&"object"==typeof e&&"object"==typeof e.customer){$(".page[data-page=settings-about-view] .logo").hide(),$("#settings-about-tel").parent().hide(),$("#settings-about-licensor").show();var t=e.customer,i=t.name;if(i&&i.length?$("#settings-about-name").text(i):$("#settings-about-name").hide(),i=t.address,i&&i.length?$("#settings-about-address").text(i):$("#settings-about-address").parent().hide(),(i=t.mail)&&i.length?$("#settings-about-email").attr("href","mailto:"+i).text(i):$("#settings-about-email").parent().hide(),(i=t.www)&&i.length){var a=/^https?:\/{2}/i.test(i)?"":"http://";$("#settings-about-url").attr("href",a+i).text(i)}else $("#settings-about-url").hide();(i=t.info)&&i.length&&$("#settings-about-info").show().text(i),(i=t.logo)&&i.length&&$("#settings-about-logo").show().html('<img src="'+i+'" style="max-width:216px; max-height: 35px;" />')}},initPageApplicationSettings:function(){var e=this,t=$(".page[data-page=settings-application-view] input:radio[name=unit-of-measurement]");t.single("change",_.bind(e.unitMeasurementChange,e));var i=Common.localStorage.getItem("se-mobile-settings-unit");i=null!==i?parseInt(i):Common.Utils.Metric.getDefaultMetric(),t.val([i]),i=Common.localStorage.getItem("sse-settings-func-lang");var a=_.findWhere(c,{value:i});a||(a=c[0]);var n=$("#language-formula");n.find(".item-title").text(a.displayValue),n.find(".item-example").text(a.exampleValue),i=Number(Common.localStorage.getItem("sse-settings-regional"));var a=_.findWhere(p,{code:i});a||(a=_.findWhere(p,{code:1033}));var o=$("#regional-settings");o.find(".item-title").text(a.displayName);var s=new Asc.asc_CFormatCellsInfo;s.asc_setType(Asc.c_oAscNumFormatType.None),s.asc_setSymbol(i);var r=this.api.asc_getFormatCells(s),l=this.api.asc_getLocaleExample(r[4],1000.01,i);l=l+" "+this.api.asc_getLocaleExample(r[5],Asc.cDate().getExcelDateWithTime(),i),l=l+" "+this.api.asc_getLocaleExample(r[6],Asc.cDate().getExcelDateWithTime(),i),o.find(".item-example").text(l),i=Common.localStorage.getBool("sse-settings-r1c1");var d=$(".page[data-page=settings-application-view] #r1-c1-style input");d.prop("checked",i),d.single("change",_.bind(e.clickR1C1Style,e));var u=Common.localStorage.getBool("sse-settings-livecomment",!0);$("#settings-display-comments input:checkbox").attr("checked",u),$("#settings-display-comments input:checkbox").single("change",_.bind(e.onChangeDisplayComments,e));var h=Common.localStorage.getBool("sse-settings-resolvedcomment",!0);u||($("#settings-display-resolved").addClass("disabled"),h=!1),$("#settings-display-resolved input:checkbox").attr("checked",h),$("#settings-display-resolved input:checkbox").single("change",_.bind(e.onChangeDisplayResolved,e))},onChangeDisplayComments:function(e){var t=$(e.currentTarget).is(":checked");if(t){var i=Common.localStorage.getBool("sse-settings-resolvedcomment");this.api.asc_showComments(i),$("#settings-display-resolved").removeClass("disabled")}else this.api.asc_hideComments(),$("#settings-display-resolved input").prop("checked",!1),Common.localStorage.setBool("sse-settings-resolvedcomment",!1),$("#settings-display-resolved").addClass("disabled");Common.localStorage.setBool("sse-settings-livecomment",t)},onChangeDisplayResolved:function(e){if(Common.localStorage.getBool("sse-settings-livecomment")){var t=$(e.currentTarget).is(":checked");this.api&&this.api.asc_showComments(t),Common.localStorage.setBool("sse-settings-resolvedcomment",t)}},clickR1C1Style:function(e){var t=$(e.currentTarget),i=t.prop("checked");Common.localStorage.setBool("sse-settings-r1c1",i),this.api.asc_setR1C1Mode(i)},unitMeasurementChange:function(e){var t=$(e.currentTarget).val();t=null!==t?parseInt(t):Common.Utils.Metric.getDefaultMetric(),Common.Utils.Metric.setCurrentMetric(t),Common.localStorage.setItem("se-mobile-settings-unit",t)},_onSearch:function(e){var t=SSE.getController("Toolbar").getView("Toolbar");t&&t.showSearch(),this.hideModal()},_onPrint:function(e){var t=this;_.defer(function(){t.api.asc_Print()}),t.hideModal()},_onSaveFormat:function(e){var t=this,i=$(e.currentTarget).data("format");t.hideModal(),i&&(i==Asc.c_oAscFileType.CSV?setTimeout(function(){uiApp.confirm(t.warnDownloadAs,t.notcriticalErrorTitle,function(){Common.NotificationCenter.trigger("download:advanced",Asc.c_oAscAdvancedOptionsID.CSV,t.api.asc_getAdvancedOptions(),2,new Asc.asc_CDownloadOptions(i))})},50):setTimeout(function(){t.api.asc_DownloadAs(new Asc.asc_CDownloadOptions(i))},50))},notcriticalErrorTitle:"Warning",warnDownloadAs:"If you continue saving in this format all features except the text will be lost.<br>Are you sure you want to continue?"}}(),SSE.Controllers.Settings||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditContainer",["core","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Controllers.EditContainer=a.Controller.extend(i.extend(function(){var e=[];return{models:[],collections:[],views:[],initialize:function(){},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onFocusObject",i.bind(this.onApiFocusObject,this)),this.api.asc_registerCallback("asc_onSelectionChanged",i.bind(this.onApiSelectionChanged,this))},onLaunch:function(){},showModal:function(){var e=this;SSE.getController("Editor").getView("Editor").f7View,Framework7.prototype.device.android;$$(".container-edit.modal-in").length>0||(uiApp.closeModal(),e._showByStack(Common.SharedSettings.get("phone")),SSE.getController("Toolbar").getView("Toolbar").hideSearch())},hideModal:function(){this.picker&&uiApp.closeModal(this.picker)},_emptyEditController:function(){return{caption:this.textSettings,layout:'<div class="content-block inset"><div class="content-block-inner"> <p>Select object to edit</p></div></div>'}},_layoutEditorsByStack:function(){var t=this,a=[];return e.length<1?a.push(t._emptyEditController()):(i.contains(e,"cell")&&a.push({caption:t.textCell,id:"edit-cell",layout:SSE.getController("EditCell").getView("EditCell").rootLayout()}),i.contains(e,"table")&&a.push({caption:t.textTable,id:"edit-table",layout:SSE.getController("EditTable").getView("EditTable").rootLayout()}),i.contains(e,"shape")&&a.push({caption:t.textShape,id:"edit-shape",layout:SSE.getController("EditShape").getView("EditShape").rootLayout()}),i.contains(e,"image")&&a.push({caption:t.textImage,id:"edit-image",layout:SSE.getController("EditImage").getView("EditImage").rootLayout()}),i.contains(e,"chart")&&a.push({caption:t.textChart,id:"edit-chart",layout:SSE.getController("EditChart").getView("EditChart").rootLayout()}),i.contains(e,"text")&&a.push({caption:t.textText,id:"edit-text",layout:SSE.getController("EditText").getView("EditText").rootLayout()}),i.contains(e,"hyperlink")&&a.push({caption:t.textHyperlink,id:"edit-link",layout:SSE.getController("EditHyperlink").getView("EditHyperlink").rootLayout()})),a},_showByStack:function(e){var a=this,n=SSE.getController("Editor").getView("Editor").f7View,o=!0===Framework7.prototype.device.android,s=a._layoutEditorsByStack();if(!($$(".container-edit.modal-in").length>0)){var r=t('<div class="navbar"><div data-page="index" class="navbar-inner"><div class="center sliding categories"></div>'+(e?'<div class="right sliding"><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a></div>':"")+"</div></div>");s.length<2?r.find(".center").removeClass("categories").html(s[0].caption):o?(r.find(".center").append('<div class="toolbar tabbar"><div data-page="index" class="toolbar-inner"></div></div>'),i.each(s,function(e,t){r.find(".toolbar-inner").append('<a href="#'+e.id+'" class="tab-link '+(t<1?"active":"")+'">'+e.caption+"</a>")}),r.find(".toolbar-inner").append('<span class="tab-link-highlight" style="width: '+100/s.length+'%;"></span>')):(r.find(".center").append('<div class="buttons-row"></div>'),i.each(s,function(e,t){r.find(".buttons-row").append('<a href="#'+e.id+'" class="tab-link button '+(t<1?"active":"")+'">'+e.caption+"</a>")}));var l=t('<div class="pages"><div class="page" data-page="index"><div class="page-content"><div class="tabs-animated-wrap"><div class="tabs"></div></div></div></div></div>');if(i.each(s,function(e,t){l.find(".tabs").append('<div id="'+e.id+'" class="tab view '+(t<1?"active":"")+'"><div class="pages"><div class="page no-navbar"><div class="page-content">'+e.layout+"</div></div></div></div>")}),e)a.picker=$$(uiApp.pickerModal('<div class="picker-modal settings container-edit"><div class="view edit-root-view navbar-through">'+r.prop("outerHTML")+l.prop("outerHTML")+"</div></div>")).on("opened",function(){i.isFunction(a.api.asc_OnShowContextMenu)&&a.api.asc_OnShowContextMenu()}).on("close",function(e){n.showNavbar(),Common.NotificationCenter.trigger("layout:changed","navbar",{hidden:!1})}).on("closed",function(){i.isFunction(a.api.asc_OnHideContextMenu)&&a.api.asc_OnHideContextMenu()}),n.hideNavbar(),Common.NotificationCenter.trigger("layout:changed","navbar",{hidden:!0});else{a.picker=uiApp.popover('<div class="popover settings container-edit"><div class="popover-angle"></div><div class="popover-inner"><div class="content-block"><div class="view popover-view edit-root-view navbar-through">'+r.prop("outerHTML")+l.prop("outerHTML")+"</div></div></div>",$$("#toolbar-edit"));var c=t(".modal-overlay");$$(a.picker).on("opened",function(){c.on("removeClass",function(){c.hasClass("modal-overlay-visible")||c.addClass("modal-overlay-visible")}),i.isFunction(a.api.asc_OnShowContextMenu)&&a.api.asc_OnShowContextMenu()}).on("close",function(){c.off("removeClass"),c.removeClass("modal-overlay-visible")}).on("closed",function(){i.isFunction(a.api.asc_OnHideContextMenu)&&a.api.asc_OnHideContextMenu()})}t(".container-edit .tab").single("show",function(e){Common.NotificationCenter.trigger("editcategory:show",e)}),o&&($$(".view.edit-root-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.edit-root-view .navbar").prependTo(".view.edit-root-view > .pages > .page")),a.rootView=uiApp.addView(".edit-root-view",{dynamicNavbar:!0,domCache:!0}),Common.NotificationCenter.trigger("editcontainer:show")}},onApiFocusObject:function(t){e=[],i.each(t,function(t){var i=t.get_ObjectType();Asc.c_oAscTypeSelectElement.Paragraph==i?e.push("text","paragraph"):Asc.c_oAscTypeSelectElement.Table==i?e.push("table"):Asc.c_oAscTypeSelectElement.Image==i?t.get_ObjectValue().get_ChartProperties()?e.push("chart"):t.get_ObjectValue().get_ShapeProperties()?e.push("shape"):e.push("image"):Asc.c_oAscTypeSelectElement.Hyperlink==i&&e.push("hyperlink")}),e.indexOf("chart")>-1&&(e=i.without(e,"shape")),e=i.uniq(e),e=[]},onApiSelectionChanged:function(t){e=[];var i,a,n,o,s,r=t.asc_getFlags().asc_getSelectionType(),l=(t.asc_getLocked(),t.asc_getLockedTable(),!1);switch(r){case Asc.c_oAscSelectionType.RangeCells:!0;break;case Asc.c_oAscSelectionType.RangeRow:!0;break;case Asc.c_oAscSelectionType.RangeCol:!0;break;case Asc.c_oAscSelectionType.RangeMax:!0;break;case Asc.c_oAscSelectionType.RangeImage:a=!0;break;case Asc.c_oAscSelectionType.RangeShape:o=!0;break;case Asc.c_oAscSelectionType.RangeChart:i=!0;break;case Asc.c_oAscSelectionType.RangeChartText:s=!0;break;case Asc.c_oAscSelectionType.RangeShapeText:n=!0}if(a||o||i){a=o=i=!1;for(var c=this.api.asc_getGraphicObjectProps(),d=0;d<c.length;d++)if(c[d].asc_getObjectType()==Asc.c_oAscTypeSelectElement.Image){var p=c[d].asc_getObjectValue();l=l||p.asc_getLocked();var u=p.asc_getShapeProperties();u?u.asc_getFromChart()?i=!0:o=!0:p.asc_getChartProperties()?(i=!0,!0):a=!0}}else if(n||s){for(var c=this.api.asc_getGraphicObjectProps(),d=0;d<c.length;d++){var h=c[d].asc_getObjectType();if(h==Asc.c_oAscTypeSelectElement.Image){var m=c[d].asc_getObjectValue();m.asc_getVerticalTextAlign(),m.asc_getVert();l=l||m.asc_getLocked()}else h==Asc.c_oAscTypeSelectElement.Paragraph||h==Asc.c_oAscTypeSelectElement.Math&&!0}t.asc_getHyperlink(),this.api.asc_canAddShapeHyperlink()}i||s?(e.push("chart"),s&&e.push("text")):o||n?(e.push("shape"),n&&e.push("text")):a?e.push("image"):(e.push("cell"),t.asc_getHyperlink()&&e.push("hyperlink"))},textSettings:"Settings",textCell:"Cell",textTable:"Table",textShape:"Shape",textImage:"Image",textChart:"Chart",textText:"Text",textHyperlink:"Hyperlink"}}(),SSE.Controllers.EditContainer||{}))}),define("text!spreadsheeteditor/mobile/app/template/EditCell.template",[],function(){
return'<div id="edit-cell-root"><div class="list-block"><ul><li><a id="font-fonts" class="item-link"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textFonts %></div><div class="item-after" style="color: #000;"><span></span><span style="margin-left: 5px;"></span></div></div></div></a></li><li><div class="item-content buttons"><div class="item-inner"><div class="row"><a id="font-bold" class="button"><b><%= scope.textCharacterBold %></b></a><a id="font-italic" class="button"><i><%= scope.textCharacterItalic %></i></a><a id="font-underline" class="button" style="text-decoration: underline;"><%= scope.textCharacterUnderline %></a></div></div></div></li><li><a id="text-color" class="item-link"><div class="item-content"> <% if (!android) { %><div class="item-media" style="padding-top: 0;"><i class="icon icon-text-color"><span class="color-preview"></span></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textTextColor %></div> <% if (android) { %><div class="item-after"><div class="color-preview"></div></div><% } %> </div></div></a></li><li><a id="fill-color" class="item-link"><div class="item-content"> <% if (!android) { %><div class="item-media" style="padding-top: 0;"><i class="icon icon-fill-color"><span class="color-preview"></span></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textFillColor %></div> <% if (android) { %><div class="item-after"><div class="color-preview"></div></div><% } %> </div></div></a></li><li><a id="text-format" class="item-link" data-page="#edit-text-format"><div class="item-content"> <% if (!android) { %><div class="item-media"><i class="icon icon-text-additional"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textTextFormat %></div></div></div></a></li><li><a id="border-style" class="item-link" data-page="#edit-border-style"><div class="item-content"> <% if (!android) { %><div class="item-media"><i class="icon icon-table-borders-all" style="width: 22px; height: 22px;"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textBorderStyle %></div></div></div></a></li></ul></div><div class="list-block"><ul><a class="item-link" data-page="#edit-cell-format"><div class="item-content"> <% if (!android) { %><div class="item-media"><i class="icon icon-format-general"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textFormat %></div></div></div></a></ul></div><div class="content-block-title"><%= scope.textCellStyle %></div><div class="list-block"><ul><li class="cell-styles dataview"></li></ul></div></div><div id="edit-text-fonts"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textFonts %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-text-font-page"><div class="page-content"><div class="list-block"><ul><li id="font-size"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textSize %></div><div class="item-after splitter"> <% if (!android) { %><label></label><% } %> <p class="buttons-row"><span class="button decrement no-ripple"><% if (android) { %><i class="icon icon-expand-down"></i><% } else { %>-<% } %></span> <% if (android) { %><label></label><% } %> <span class="button increment no-ripple"><% if (android) { %><i class="icon icon-expand-up"></i><% } else { %>+<% } %></span></p></div></div></div></li></ul></div><div class="content-block-title"><%= scope.textFonts %></div><div id="font-list" class="list-block virtual-list"></div></div></div></div><div id="edit-text-color"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textTextColor %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-text-color"><div class="page-content"></div></div></div><div id="edit-fill-color"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textFillColor %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-fill-color"><div class="page-content"></div></div></div><div id="edit-cell-border-color"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textBorderColor %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-border-color"><div class="page-content"></div></div></div><div id="edit-text-format"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textTextFormat %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-text-format"><div class="page-content"><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="text-halign" value="left"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-align-left"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textAlignLeft %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="text-halign" value="center"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-align-center"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textAlignCenter %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="text-halign" value="right"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-align-right"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textAlignRight %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="text-halign" value="justify"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-align-jast"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textJustified %></div></div></label></li></ul></div><div class="list-block"><ul><li><label class="label-radio item-content"><input type="radio" name="text-valign" value="top"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-valign-top"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textAlignTop %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="text-valign" value="center"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-valign-middle"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textAlignMiddle %></div></div></label></li><li><label class="label-radio item-content"><input type="radio" name="text-valign" value="bottom"> <% if (android) { %> <div class="item-media"><i class="icon icon-form-radio"></i></div> <% } else { %> <div class="item-media"><i class="icon icon-text-valign-bottom"></i></div> <% } %> <div class="item-inner"><div class="item-title"><%= scope.textAlignBottom %></div></div></label></li></ul></div><div class="list-block"><ul><li id="edit-cell-wrap-text"><div class="item-content"> <% if (!android) { %><div class="item-media"><i class="icon icon-cell-wrap"></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textWrapText %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div></div></div></div><div id="edit-border-style"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textBorderStyle %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-border-style"><div class="page-content"><div class="list-block"><ul><li><a data-type="none" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-none"></i></div><div class="item-inner"><div class="item-title"><%= scope.textNoBorder %></div></div></div></a></li><li><a data-type="all" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-all"></i></div><div class="item-inner"><div class="item-title"><%= scope.textAllBorders %></div></div></div></a></li><li><a data-type="2" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-bottom"></i></div><div class="item-inner"><div class="item-title"><%= scope.textBottomBorder %></div></div></div></a></li><li><a data-type="0" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-top"></i></div><div class="item-inner"><div class="item-title"><%= scope.textTopBorder %></div></div></div></a></li><li><a data-type="3" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-left"></i></div><div class="item-inner"><div class="item-title"><%= scope.textLeftBorder %></div></div></div></a></li><li><a data-type="1" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-right"></i></div><div class="item-inner"><div class="item-title"><%= scope.textRightBorder %></div></div></div></a></li><li><a data-type="inner" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-inner"></i></div><div class="item-inner"><div class="item-title"><%= scope.textInBorders %></div></div></div></a></li><li><a data-type="6" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-center"></i></div><div class="item-inner"><div class="item-title"><%= scope.textInVertBorder %></div></div></div></a></li><li><a data-type="7" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-middle"></i></div><div class="item-inner"><div class="item-title"><%= scope.textInHorBorder %></div></div></div></a></li><li><a data-type="5" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-dup"></i></div><div class="item-inner"><div class="item-title"><%= scope.textDiagUpBorder %></div></div></div></a></li><li><a data-type="4" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-table-borders-ddown"></i></div><div class="item-inner"><div class="item-title"><%= scope.textDiagDownBorder %></div></div></div></a></li></ul></div><div class="content-block-title"><%= scope.textStyles %></div><div class="list-block"><ul><li><a id="edit-border-color" class="item-link" data-page="#edit-cell-border-color"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textColor %></div><div class="item-after"><div class="color-preview"></div></div></div></div></a></li><li><a id="edit-border-size" class="item-link smart-select" data-back-on-select="true"><select name="cell-border-size"><option value="<%=  Asc.c_oAscBorderStyles.Thin %>"><%= scope.textThin %></option><option value="<%=  Asc.c_oAscBorderStyles.Medium %>"><%= scope.textMedium %></option><option value="<%=  Asc.c_oAscBorderStyles.Thick %>"><%= scope.textThick %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textSize %></div><div class="item-after"><%= scope.textThin %></div></div></div></a></li></ul></div></div></div></div></div><div id="edit-cell-format"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textFormat %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-cell-format"><div class="page-content"><div class="list-block"><ul><li><a data-type="R2VuZXJhbA==" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-general"></i></div><div class="item-inner"><div class="item-title"><%= scope.textGeneral %></div></div></div></a></li><li><a data-type="MC4wMA==" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-number"></i></div><div class="item-inner"><div class="item-title"><%= scope.textNumber %></div></div></div></a></li><li><a data-type="JTIzMA==" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-integer"></i></div><div class="item-inner"><div class="item-title"><%= scope.textInteger %></div></div></div></a></li><li><a data-type="MC4wMEUlMkIwMA==" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-scientific"></i></div><div class="item-inner"><div class="item-title"><%= scope.textScientific %></div></div></div></a></li><li><a class="item-link" data-page="#edit-cell-format-accounting"><div class="item-content"><div class="item-media"><i class="icon icon-format-accounting"></i></div><div class="item-inner"><div class="item-title"><%= scope.textAccounting %></div></div></div></a></li><li><a class="item-link" data-page="#edit-cell-format-currency"><div class="item-content"><div class="item-media"><i class="icon icon-format-currency"></i></div><div class="item-inner"><div class="item-title"><%= scope.textCurrency %></div></div></div></a></li><li><a class="item-link" data-page="#edit-cell-format-date"><div class="item-content"><div class="item-media"><i class="icon icon-format-date"></i></div><div class="item-inner"><div class="item-title"><%= scope.textDate %></div></div></div></a></li><li><a class="item-link" data-page="#edit-cell-format-time"><div class="item-content"><div class="item-media"><i class="icon icon-format-time"></i></div><div class="item-inner"><div class="item-title"><%= scope.textTime %></div></div></div></a></li><li><a data-type="MC4wMCUyNQ==" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-percentage"></i></div><div class="item-inner"><div class="item-title"><%= scope.textPercentage %></div></div></div></a></li><li><a data-type="JTQw" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-format-text"></i></div><div class="item-inner"><div class="item-title"><%= scope.textText %></div></div></div></a></li></ul></div></div></div></div></div><div id="edit-cell-format-accounting"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textAccounting %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-cell-format"><div class="page-content"><div class="list-block"><ul><li><a data-type="XyglMjQqJTIwJTIzJTJDJTIzJTIzMC4wMF8pJTNCXyglMjQqJTIwKCUyMyUyQyUyMyUyMzAuMDApJTNCXyglMjQqJTIwJTIyLSUyMiUzRiUzRl8pJTNCXyglNDBfKQ==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDollar %></div><div class="item-after">$</div></div></div></a></li><li><a data-type="XyglRTIlODIlQUMqJTIwJTIzJTJDJTIzJTIzMC4wMF8pJTNCXyglRTIlODIlQUMqJTIwKCUyMyUyQyUyMyUyMzAuMDApJTNCXyglRTIlODIlQUMqJTIwJTIyLSUyMiUzRiUzRl8pJTNCXyglNDBfKQ==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textEuro %></div><div class="item-after">€</div></div></div></a></li><li><a data-type="XyglQzIlQTMqJTIwJTIzJTJDJTIzJTIzMC4wMF8pJTNCXyglQzIlQTMqJTIwKCUyMyUyQyUyMyUyMzAuMDApJTNCXyglQzIlQTMqJTIwJTIyLSUyMiUzRiUzRl8pJTNCXyglNDBfKQ==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textPound %></div><div class="item-after">£</div></div></div></a></li><li><a data-type="Xy0qJTIwJTIzJTJDJTIzJTIzMC4wMCU1QiUyNCVEMSU4MC4tNDE5JTVEXy0lM0ItKiUyMCUyMyUyQyUyMyUyMzAuMDAlNUIlMjQlRDElODAuLTQxOSU1RF8tJTNCXy0qJTIwJTIyLSUyMiUzRiUzRiU1QiUyNCVEMSU4MC4tNDE5JTVEXy0lM0JfLSU0MF8t" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textRouble %></div><div class="item-after">₽</div></div></div></a></li><li><a data-type="XyglQzIlQTUqJTIwJTIzJTJDJTIzJTIzMC4wMF8pJTNCXyglQzIlQTUqJTIwKCUyMyUyQyUyMyUyMzAuMDApJTNCXyglQzIlQTUqJTIwJTIyLSUyMiUzRiUzRl8pJTNCXyglNDBfKQ==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textYen %></div><div class="item-after">¥</div></div></div></a></li></ul></div></div></div></div></div><div id="edit-cell-format-currency"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textCurrency %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-cell-format"><div class="page-content"><div class="list-block"><ul><li><a data-type="JTI0JTIzJTJDJTIzJTIzMC4wMA==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDollar %></div><div class="item-after">$</div></div></div></a></li><li><a data-type="JUUyJTgyJUFDJTIzJTJDJTIzJTIzMC4wMA==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textEuro %></div><div class="item-after">€</div></div></div></a></li><li><a data-type="JUMyJUEzJTIzJTJDJTIzJTIzMC4wMA==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textPound %></div><div class="item-after">£</div></div></div></a></li><li><a data-type="JTIzJTJDJTIzJTIzMC4wMCUyMiVEMSU4MC4lMjI=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textRouble %></div><div class="item-after">₽</div></div></div></a></li><li><a data-type="JUMyJUE1JTIzJTJDJTIzJTIzMC4wMA==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textYen %></div><div class="item-after">¥</div></div></div></a></li></ul></div></div></div></div></div><div id="edit-cell-format-date"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textDate %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-cell-format"><div class="page-content"><div class="list-block"><ul><li><a data-type="TU0tZGQteXk=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">07-24-88</div><div class="item-after">MM-dd-yy</div></div></div></a></li><li><a data-type="TU0tZGQteXl5eQ==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">07-24-1988</div><div class="item-after">MM-dd-yyyy</div></div></div></a></li><li><a data-type="ZGQtTU0teXk=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">24-07-88</div><div class="item-after">dd-MM-yy</div></div></div></a></li><li><a data-type="ZGQtTU0teXl5eQ==" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">24-07-1988</div><div class="item-after">dd-MM-yyyy</div></div></div></a></li><li><a data-type="ZGQtTU1NLXl5eXk=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">24-Jul-1988</div><div class="item-after">dd-MMM-yyyy</div></div></div></a></li><li><a data-type="ZGQtTU1N" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">24-Jul</div><div class="item-after">dd-MMM</div></div></div></a></li><li><a data-type="TU1NLXl5" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">Jul-88</div><div class="item-after">MMM-yy</div></div></div></a></li></ul></div></div></div></div></div><div id="edit-cell-format-time"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textTime %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-cell-format"><div class="page-content"><div class="list-block"><ul><li><a data-type="SEg6bW0=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">10:56</div><div class="item-after">HH:mm</div></div></div></a></li><li><a data-type="SEg6TU06c3M=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">21:56:00</div><div class="item-after">HH:MM:ss</div></div></div></a></li><li><a data-type="aGg6bW0gdHQ=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">05:56 AM</div><div class="item-after">hh:mm tt</div></div></div></a></li><li><a data-type="aGg6bW06c3MgdHQ=" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">05:56:00 AM</div><div class="item-after">hh:mm:ss tt</div></div></div></a></li><li><a data-type="W2hdOm1tOnNz" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title">38:56:00</div><div class="item-after">[h]:mm:ss</div></div></div></a></li></ul></div></div></div></div></div>'}),void 0===Common)var Common={};if(Common.UI=Common.UI||{},define("common/mobile/lib/component/ThemeColorPalette",["jquery","underscore","backbone"],function(e,t,i){"use strict";Common.UI.ThemeColorPalette=i.View.extend(t.extend({options:{dynamiccolors:10,standardcolors:10,themecolors:10,effects:5,allowReselect:!0,transparent:!1,value:"000000",cls:"",style:""},template:t.template(["<% var me = this; %>",'<div class="list-block color-palette <%= me.options.cls %>" style="<%= me.options.style %>">',"<ul>",'<li class="theme-colors">','<div style="padding: 15px 0 0 15px;"><%= me.textThemeColors %></div>','<div class="item-content">','<div class="item-inner">',"<% _.each(themeColors, function(row) { %>",'<div class="row">',"<% _.each(row, function(effect) { %>",'<a data-effectid="<%=effect.effectId%>" data-effectvalue="<%=effect.effectValue%>" data-color="<%=effect.color%>" style="background:#<%=effect.color%>"></a>',"<% }); %>","</div>","<% }); %>","</div>","</div>","</li>",'<li class="standart-colors">','<div style="padding: 15px 0 0 15px;"><%= me.textStandartColors %></div>','<div class="item-content">','<div class="item-inner">',"<% _.each(standartColors, function(color, index) { %>","<% if (0 == index && me.options.transparent) { %>",'<a data-color="transparent" class="transparent"></a>',"<% } else { %>",'<a data-color="<%=color%>" style="background:#<%=color%>"></a>',"<% } %>","<% }); %>","</div>","</div>","</li>","</ul>","</div>"].join("")),initialize:function(i){var a=this,n=e(a.el);a.options=t({}).extend(a.options,i),a.render(),n.find(".color-palette a").on("click",t.bind(a.onColorClick,a))},render:function(){var i=this,a=[],n=-1,o=Common.Utils.ThemeColor.getStandartColors();if(!(e(i.el).find(".list-block.color-palette").length>0))return t.each(Common.Utils.ThemeColor.getEffectColors(),function(e,t){0==t%i.options.themecolors&&(a.push([]),n++),a[n].push(e)}),e(i.el).append(i.template({themeColors:a,standartColors:o})),i},isColor:function(e){return"string"==typeof e&&/[0-9A-Fa-f]{6}/.test(e)},isTransparent:function(e){return"string"==typeof e&&"transparent"==e},isEffect:function(e){return"object"==typeof e&&void 0!==e.effectId},onColorClick:function(t){var i=this,a=e(i.el),n=e(t.currentTarget);a.find(".color-palette a").removeClass("active"),n.addClass("active");var o=n.data("color").toString(),s=n.data("effectid");i.currentColor=o,s&&(i.currentColor={color:o,effectId:s}),i.trigger("select",i,i.currentColor)},select:function(i){var a=this,n=e(a.el);i!=a.currentColor&&(a.currentColor=i,a.clearSelection(),t.isObject(i)?t.isUndefined(i.effectId)?t.isUndefined(i.effectValue)||n.find("a[data-effectvalue="+i.effectValue+"][data-color="+i.color+"]").addClass("active"):n.find("a[data-effectid="+i.effectId+"]").addClass("active"):(/#?[a-fA-F0-9]{6}/.test(i)&&(i=/#?([a-fA-F0-9]{6})/.exec(i)[1]),/^[a-fA-F0-9]{6}|transparent$/.test(i)||t.indexOf(Common.Utils.ThemeColor.getStandartColors(),i)>-1?n.find(".standart-colors a[data-color="+i+"]").addClass("active"):n.find(".custom-colors a[data-color="+i+"]").addClass("active")))},clearSelection:function(){e(this.el).find(".color-palette a").removeClass("active")},textThemeColors:"Theme Colors",textStandartColors:"Standard Colors"},Common.UI.ThemeColorPalette||{}))}),define("spreadsheeteditor/mobile/app/view/edit/EditCell",["text!spreadsheeteditor/mobile/app/template/EditCell.template","jquery","underscore","backbone","common/mobile/lib/component/ThemeColorPalette"],function(e,t,i,a){"use strict";SSE.Views.EditCell=a.View.extend(i.extend(function(){var a,n;return{template:i.template(e),events:{},initialize:function(){n=SSE.getController("EditCell"),Common.NotificationCenter.on("editcontainer:show",i.bind(this.initEvents,this)),this.on("page:show",i.bind(this.updateItemHandlers,this))},initEvents:function(){var e=this;e.updateItemHandlers(),t("#font-fonts").single("click",i.bind(e.showFonts,e)),t("#text-color").single("click",i.bind(e.showTextColor,e)),t("#fill-color").single("click",i.bind(e.showFillColor,e)),Common.Utils.addScrollIfNeed("#edit-cell .pages","#edit-cell .page"),e.initControls()},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#edit-cell-root").html():""},initControls:function(){},renderStyles:function(e){var a=t("#edit-cell .cell-styles");if(a.length>0){var o=n.getStyleSize(),s=parseInt(a.width()/(o.width+5)),r=-1,l=[];i.each(e,function(e,t){0==t%s&&(l.push([]),r++),l[r].push(e)});var c=i.template(["<% _.each(styles, function(row) { %>",'<ul class="row">',"<% _.each(row, function(style) { %>",'<li data-type="<%= style.asc_getName() %>">','<div class="thumb" style="background-image:url(<%= style.asc_getImage() %>); width: <%= styleSize.width %>px; height: <%= styleSize.height %>px;">',"</li>","<% }); %>","</ul>","<% }); %>"].join(""))({styles:l,styleSize:o});a.html(c),t("#edit-cell .cell-styles li").single("click",i.buffered(function(e){var i=t(e.currentTarget),a=i.data("type");t("#edit-cell .cell-styles li").removeClass("active"),i.addClass("active"),this.fireEvent("style:click",[this,a])},100,this))}},updateItemHandlers:function(){var e=["#edit-cell",".page[data-page=edit-border-style]",".page[data-page=edit-cell-format]"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");Common.Utils.addScrollIfNeed(".page[data-page=edit-border-style]",".page[data-page=edit-border-style] .page-content"),Common.Utils.addScrollIfNeed(".page[data-page=edit-cell-format]",".page[data-page=edit-cell-format] .page-content"),Common.Utils.addScrollIfNeed(".page[data-page=edit-text-format]",".page[data-page=edit-text-format] .page-content"),t(e).single("click",i.bind(this.onItemClick,this))},showPage:function(e,t){var i=SSE.getController("EditContainer").rootView;if(i&&this.layout){var a=this.layout.find(e);Framework7.prototype.device.android&&a.find(".page").append(a.find(".navbar")),i.router.load({content:a.html()}),!0!==t&&this.fireEvent("page:show",[this,e])}},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&this.showPage(a)},showFonts:function(){this.showPage("#edit-text-fonts");var e=this,o=t('<div><li><label class="label-radio item-content"><input type="radio" name="font-name" value="{{name}}">'+(Framework7.prototype.device.android?'<div class="item-media"><i class="icon icon-form-radio"></i></div>':"")+'<div class="item-inner"><div class="item-title" style="font-family: \'{{name}}\';">{{name}}</div></div></label></li></div>');a=uiApp.virtualList("#font-list.virtual-list",{items:SSE.getController("EditCell").getFonts(),template:o.html(),onItemsAfterInsert:function(a,o){var s=n.getFontInfo();t("#font-list input[name=font-name]").val([s.name]),t("#font-list li").single("click",i.buffered(function(t){e.fireEvent("font:click",[e,t])},100))}}),Common.Utils.addScrollIfNeed(".page[data-page=edit-text-font-page]",".page[data-page=edit-text-font-page] .page-content")},showTextColor:function(){this.showPage("#edit-text-color",!0),this.paletteTextColor=new Common.UI.ThemeColorPalette({el:t(".page[data-page=edit-text-color] .page-content")}),Common.Utils.addScrollIfNeed(".page[data-page=edit-text-color]",".page[data-page=edit-text-color] .page-content"),this.fireEvent("page:show",[this,"#edit-text-color"])},showFillColor:function(){
this.showPage("#edit-fill-color",!0),this.paletteFillColor=new Common.UI.ThemeColorPalette({el:t(".page[data-page=edit-fill-color] .page-content"),transparent:!0}),Common.Utils.addScrollIfNeed(".page[data-page=edit-fill-color]",".page[data-page=edit-fill-color] .page-content"),this.fireEvent("page:show",[this,"#edit-fill-color"])},textBack:"Back",textFonts:"Fonts",textTextColor:"Text Color",textFillColor:"Fill Color",textTextFormat:"Text Format",textBorderStyle:"Border Style",textSize:"Size",textFormat:"Format",textCellStyle:"Cell Styles",textAlignLeft:"Align Left",textAlignCenter:"Align Center",textAlignRight:"Align Right",textJustified:"Justified",textAlignTop:"Align Top",textAlignMiddle:"Align Middle",textAlignBottom:"Align Bottom",textWrapText:"Wrap Text",textNoBorder:"No Border",textAllBorders:"All Borders",textBottomBorder:"Bottom Border",textTopBorder:"Top Border",textLeftBorder:"Left Border",textRightBorder:"Right Border",textInBorders:"Inside Borders",textInVertBorder:"Inside Vertical Border",textInHorBorder:"Inside Horizontal Border",textDiagUpBorder:"Diagonal Up Border",textDiagDownBorder:"Diagonal Down Border",textColor:"Color",textThin:"Thin",textMedium:"Medium",textThick:"Thick",textInteger:"Integer",textGeneral:"General",textNumber:"Number",textScientific:"Scientific",textAccounting:"Accounting",textCurrency:"Currency",textDate:"Date",textTime:"Time",textPercentage:"Percentage",textText:"Text",textDollar:"Dollar",textEuro:"Euro",textPound:"Pound",textRouble:"Rouble",textYen:"Yen",textCharacterBold:"B",textCharacterItalic:"I",textCharacterUnderline:"U"}}(),SSE.Views.EditCell||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditCell",["core","spreadsheeteditor/mobile/app/view/edit/EditCell","jquery","underscore","backbone","common/mobile/lib/component/ThemeColorPalette"],function(e,t,i,a,n){"use strict";SSE.Controllers.EditCell=n.Controller.extend(a.extend(function(){function e(e,i){a.each(e,function(e){var i=e.asc_getFontId();t.push({id:i,name:e.asc_getFontName(),imgidx:e.asc_getFontThumbnail(),type:e.asc_getFontType()})}),Common.NotificationCenter.trigger("fonts:load",t,i)}var t=[],n=[],o=void 0,s=[],r={},l={color:"000000",width:Asc.c_oAscBorderStyles.Medium},c={width:100,height:50},d=!1;return{models:[],collections:[],views:["EditCell"],initialize:function(){Common.NotificationCenter.on("editcontainer:show",a.bind(this.initEvents,this)),this.addListeners({EditCell:{"page:show":this.onPageShow,"font:click":this.onFontClick,"style:click":this.onStyleClick}})},setApi:function(t){var i=this;i.api=t,i.api.asc_setThumbnailStylesSizes(c.width,c.height),i.api.asc_registerCallback("asc_onInitEditorFonts",a.bind(e,i)),i.api.asc_registerCallback("asc_onSelectionChanged",a.bind(i.onApiSelectionChanged,i)),i.api.asc_registerCallback("asc_onEditorSelectionChanged",a.bind(i.onApiEditorSelectionChanged,i)),i.api.asc_registerCallback("asc_onInitEditorStyles",a.bind(i.onApiInitEditorStyles,i))},setMode:function(e){d=e.isEdit},onLaunch:function(){this.createView("EditCell").render()},initEvents:function(){if(!(i("#edit-cell").length<1)){var e=this;i("#font-bold").single("click",a.bind(e.onBold,e)),i("#font-italic").single("click",a.bind(e.onItalic,e)),i("#font-underline").single("click",a.bind(e.onUnderline,e)),e.getView("EditCell").renderStyles(s),e.initSettings()}},onPageShow:function(e,t){this.initSettings(t)},initSettings:function(e){var t=this;"#edit-text-fonts"==e?t.initFontsPage():"#edit-text-color"==e?t.initTextColorPage():"#edit-fill-color"==e?t.initFillColorPage():"#edit-cell-border-color"==e?t.initBorderColorPage():"#edit-text-format"==e?t.initTextFormat():"#edit-border-style"==e?t.initBorderStyle():!a.isUndefined(e)&&e.indexOf("#edit-cell-format")>-1?t.initCellFormat():t.initCellSettings(o)},getFonts:function(){return t},getStack:function(){return n},getFontInfo:function(){return r},getCell:function(){return o},getStyleSize:function(){return c},initFontsPage:function(){var e=this,t=r.size;t=a.isUndefined(t)?this.textAuto:t+" "+this.textPt,i("#font-size .item-after label").html(t),i("#font-size .button").single("click",a.bind(e.onFontSize,e))},initTextColorPage:function(){var e=this,t=e.getView("EditCell").paletteTextColor,i=e._sdkToThemeColor(r.color);t&&(t.select(i),t.on("select",a.bind(e.onTextColor,e)))},initFillColorPage:function(){var e=this,t=e.getView("EditCell").paletteFillColor,i=e._sdkToThemeColor(o.asc_getFill().asc_getColor());t&&(t.select(i),t.on("select",a.bind(e.onFillColor,e)))},initBorderColorPage:function(){var e=this,t=new Common.UI.ThemeColorPalette({el:i(".page[data-page=edit-border-color] .page-content")});t&&(t.select(l.color),t.on("select",a.bind(function(e,t){l.color=t,i("#edit-border-color .color-preview").css("background-color","#"+(a.isObject(l.color)?l.color.color:l.color))},e)))},initTextFormat:function(){var e=this,t=i(".page[data-page=edit-text-format]"),n=o.asc_getHorAlign(),s=o.asc_getVertAlign(),r="left",l="bottom",c=o.asc_getFlags().asc_getWrapText();switch(s==Asc.c_oAscVAlign.Top?l="top":s==Asc.c_oAscVAlign.Center&&(l="center"),n){case AscCommon.align_Center:r="center";break;case AscCommon.align_Right:r="right";break;case AscCommon.align_Justify:r="justify"}if(i("#text-format .item-media i").removeClass().addClass(Common.Utils.String.format("icon icon-text-align-{0}",r)),t.length>0){var d=t.find("input:radio[name=text-halign]"),p=t.find("input:radio[name=text-valign]"),u=t.find("#edit-cell-wrap-text input");d.val([r]),p.val([l]),u.prop("checked",c),d.single("change",a.bind(e.onHAlignChange,e)),p.single("change",a.bind(e.onVAlignChange,e)),u.single("change",a.bind(e.onWrapTextChange,e))}},initCellFormat:function(){var e=this,t=i(".page[data-page=edit-cell-format]");t.length>0&&t.find(".item-link.no-indicator[data-type]").single("click",a.bind(e.onCellFormat,e))},initBorderStyle:function(){i(".page[data-page=edit-border-style] a[data-type]").single("click",a.bind(this.onBorderStyle,this)),i("#edit-border-color .color-preview").css("background-color","#"+(a.isObject(l.color)?l.color.color:l.color)),i("#edit-border-size select").val(l.width),i("#edit-border-size .item-after").text(i("#edit-border-size select option[value="+l.width+"]").text()),i("#edit-border-size select").single("change",function(e){l.width=parseInt(i(e.currentTarget).val())})},initFontSettings:function(e){if(!a.isUndefined(e)){var t=this,n=e.asc_getName()||this.textFonts;r.name=n,i("#font-fonts .item-title").html(n),i("#font-bold").toggleClass("active",!0===e.asc_getBold()),i("#font-italic").toggleClass("active",!0===e.asc_getItalic()),i("#font-underline").toggleClass("active",!0===e.asc_getUnderline()),r.size=e.asc_getSize();var o=r.size;o=a.isUndefined(o)?this.textAuto:o+" "+this.textPt,i("#font-fonts .item-after span:first-child").html(o),i("#font-size .item-after label").html(o),r.color=e.asc_getColor();var s=r.color,l=t._sdkToThemeColor(s);i("#text-color .color-preview").css("background-color","#"+(a.isObject(l)?l.color:l))}},initCellSettings:function(e){if(!a.isUndefined(e)){var t=this,n=e.asc_getFlags().asc_getSelectionType(),o=e.asc_getFont();t.initFontSettings(o);var s=e.asc_getFill().asc_getColor(),r=t._sdkToThemeColor(s);i("#fill-color .color-preview").css("background-color","#"+(a.isObject(r)?r.color:r));var l=e.asc_getStyleName();i('#edit-cell .cell-styles li[data-type="'+l+'"]').addClass("active"),n!=Asc.c_oAscSelectionType.RangeChart&&n!=Asc.c_oAscSelectionType.RangeChartText&&t.initTextFormat()}},onApiInitEditorStyles:function(e){window.styles_loaded=!1,s=e,this.getView("EditCell").renderStyles(e),window.styles_loaded=!0},onFontSize:function(e){var t=this,n=i(e.currentTarget),o=r.size;n.hasClass("decrement")?a.isUndefined(o)?t.api.asc_decreaseFontSize():o=Math.max(1,--o):a.isUndefined(o)?t.api.asc_increaseFontSize():o=Math.min(100,++o),a.isUndefined(o)||t.api.asc_setCellFontSize(o)},onFontClick:function(e,t){var a=i(t.currentTarget).find("input");a&&this.api.asc_setCellFontName(a.prop("value"))},onStyleClick:function(e,t){this.api.asc_setCellStyle(t)},onBold:function(e){var t=this._toggleButton(e);this.api&&this.api.asc_setCellBold(t)},onItalic:function(e){var t=this._toggleButton(e);this.api&&this.api.asc_setCellItalic(t)},onUnderline:function(e){var t=this._toggleButton(e);this.api&&this.api.asc_setCellUnderline(t)},onTextColor:function(e,t){this.api.asc_setCellTextColor(Common.Utils.ThemeColor.getRgbColor(t))},onFillColor:function(e,t){this.api.asc_setCellBackgroundColor("transparent"==t?null:Common.Utils.ThemeColor.getRgbColor(t))},onHAlignChange:function(e){var t=i(e.currentTarget),a=t.prop("value"),n=AscCommon.align_Left;"center"==a?n=AscCommon.align_Center:"right"==a?n=AscCommon.align_Right:"justify"==a&&(n=AscCommon.align_Justify),this.api.asc_setCellAlign(n)},onVAlignChange:function(e){var t=i(e.currentTarget),a=t.prop("value"),n=Asc.c_oAscVAlign.Bottom;"top"==a?n=Asc.c_oAscVAlign.Top:"center"==a&&(n=Asc.c_oAscVAlign.Center),this.api.asc_setCellVertAlign(n)},onWrapTextChange:function(e){var t=i(e.currentTarget),a=t.prop("checked");this.api.asc_setCellTextWrap(a)},onCellFormat:function(e){var t=i(e.currentTarget),a=decodeURIComponent(atob(t.data("type")));this.api.asc_setCellFormat(a)},onBorderStyle:function(e){var t=this,a=i(e.currentTarget),n=a.data("type"),o=[],s=l.width,r=Common.Utils.ThemeColor.getRgbColor(l.color);if("inner"==n)o[Asc.c_oAscBorderOptions.InnerV]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.InnerH]=new Asc.asc_CBorder(s,r);else if("all"==n)o[Asc.c_oAscBorderOptions.InnerV]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.InnerH]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Left]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Top]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Right]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Bottom]=new Asc.asc_CBorder(s,r);else if("outer"==n)o[Asc.c_oAscBorderOptions.Left]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Top]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Right]=new Asc.asc_CBorder(s,r),o[Asc.c_oAscBorderOptions.Bottom]=new Asc.asc_CBorder(s,r);else if("none"!=n){var c=parseInt(n);o[c]=new Asc.asc_CBorder(s,r)}t.api.asc_setCellBorders(o)},onApiEditorSelectionChanged:function(e){d&&(r=e,this.initFontSettings(e))},onApiSelectionChanged:function(e){d&&(o=e,this.initCellSettings(e))},_toggleButton:function(e){return i(e.currentTarget).toggleClass("active").hasClass("active")},_sdkToThemeColor:function(e){var t="transparent";return e&&(t=e.get_type()==Asc.c_oAscColor.COLOR_TYPE_SCHEME?{color:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b()),effectValue:e.get_value()}:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b())),t},textFonts:"Fonts",textAuto:"Auto",textPt:"pt"}}(),SSE.Controllers.EditCell||{}))}),define("text!spreadsheeteditor/mobile/app/template/EditText.template",[],function(){return'<div id="edit-text-root"><div class="list-block"><ul><li><a id="font-fonts" class="item-link" data-page="#edit-text-fonts"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textFonts %></div><div class="item-after" style="color: #000;"><span></span><span style="margin-left: 5px;"></span></div></div></div></a></li><li><div class="item-content buttons"><div class="item-inner"><div class="row"><a id="font-bold" class="button"><b><%= scope.textCharacterBold %></b></a><a id="font-italic" class="button"><i><%= scope.textCharacterItalic %></i></a><a id="font-underline" class="button" style="text-decoration: underline;"><%= scope.textCharacterUnderline %></a></div></div></div></li><li><a id="font-color" class="item-link" data-page="#edit-text-color"><div class="item-content"> <% if (!android) { %><div class="item-media" style="padding-top: 0;"><i class="icon icon-text-color"><span class="color-preview"></span></i></div><% } %> <div class="item-inner"><div class="item-title"><%= scope.textTextColor %></div> <% if (android) { %><div class="item-after"><div class="color-preview"></div></div><% } %> </div></div></a></li></ul></div><div class="list-block" id="edit-text-align-block"><ul><li><div class="item-content buttons"><div class="item-inner"><div class="row"><a id="font-left" class="button no-ripple" data-value="left"><i class="icon icon-text-align-left"></i></a> <a id="font-center" class="button no-ripple" data-value="center"><i class="icon icon-text-align-center"></i></a> <a id="font-right" class="button no-ripple" data-value="right"><i class="icon icon-text-align-right"></i></a> <a id="font-just" class="button no-ripple" data-value="justify"><i class="icon icon-text-align-jast"></i></a></div></div></div></li><li><div class="item-content buttons"><div class="item-inner"><div class="row"><a id="font-top" class="button no-ripple" data-value="top"><i class="icon icon-text-valign-top"></i></a> <a id="font-middle" class="button no-ripple" data-value="center"><i class="icon icon-text-valign-middle"></i></a> <a id="font-bottom" class="button no-ripple" data-value="bottom"><i class="icon icon-text-valign-bottom"></i></a></div></div></div></li></ul></div></div><div id="edit-text-fonts"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textFonts %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-text-fonts"><div class="page-content"><div class="list-block"><ul><li id="font-size"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textSize %></div><div class="item-after splitter"> <% if (!android) { %><label></label><% } %> <p class="buttons-row"><span class="button decrement no-ripple"><% if (android) { %><i class="icon icon-expand-down"></i><% } else { %>-<% } %></span> <% if (android) { %><label></label><% } %> <span class="button increment no-ripple"><% if (android) { %><i class="icon icon-expand-up"></i><% } else { %>+<% } %></span></p></div></div></div></li></ul></div><div class="content-block-title"><%= scope.textFonts %></div><div id="font-list" class="list-block virtual-list"></div></div></div></div><div id="edit-text-color"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textTextColor %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-text-color"><div class="page-content"></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/edit/EditText",["text!spreadsheeteditor/mobile/app/template/EditText.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.EditText=a.View.extend(i.extend(function(){var a=[];return{template:i.template(e),events:{},initialize:function(){Common.NotificationCenter.on("editcontainer:show",i.bind(this.initEvents,this)),Common.NotificationCenter.on("fonts:load",i.bind(this.onApiFontsLoad,this)),this.on("page:show",i.bind(this.updateItemHandlers,this))},initEvents:function(){var e=this;e.updateItemHandlers(),e.initControls()},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#edit-text-root").html():""},initControls:function(){},updateItemHandlers:function(){var e=["#edit-text"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");t(e).single("click",i.bind(this.onItemClick,this))},showPage:function(e,t){var i=SSE.getController("EditContainer").rootView;if(i&&this.layout){var a=this.layout.find(e);Framework7.prototype.device.android&&a.find(".page").append(a.find(".navbar")),i.router.load({content:a.html()}),!0!==t&&this.fireEvent("page:show",[this,e]),this.initEvents()}},renderFonts:function(){var e=this,n=t('<div><li><label class="label-radio item-content"><input type="radio" name="font-name" value="{{name}}">'+(Framework7.prototype.device.android?'<div class="item-media"><i class="icon icon-form-radio"></i></div>':"")+'<div class="item-inner"><div class="item-title" style="font-family: \'{{name}}\';">{{name}}</div></div></label></li></div>');uiApp.virtualList("#font-list.virtual-list",{items:a,template:n.html(),onItemsAfterInsert:function(a,n){var o=SSE.getController("EditText").getFontInfo();t("#font-list input[name=font-name]").val([o.name]),t("#font-list li").single("click",i.buffered(function(t){e.fireEvent("font:click",[e,t])},100))}})},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&this.showPage(a)},onApiFontsLoad:function(e,t){a=e},textBack:"Back",textFonts:"Fonts",textTextColor:"Text Color",textFillColor:"Fill Color",textSize:"Size",textCharacterBold:"B",textCharacterItalic:"I",textCharacterUnderline:"U"}}(),SSE.Views.EditText||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditText",["core","spreadsheeteditor/mobile/app/view/edit/EditText","jquery","underscore","backbone"],function(e,t,i,a,n){"use strict";SSE.Controllers.EditText=n.Controller.extend(a.extend(function(){var e={inUnknown:0,inChart:1,inShape:2},t=e.inUnknown,n=void 0,o=void 0,s=!1;return{models:[],collections:[],views:["EditText"],initialize:function(){Common.NotificationCenter.on("editcontainer:show",a.bind(this.initEvents,this)),this.addListeners({EditText:{"page:show":this.onPageShow,"font:click":this.onFontClick}})},setApi:function(e){var t=this;t.api=e,t.api.asc_registerCallback("asc_onSelectionChanged",a.bind(t.onApiSelectionChanged,t)),t.api.asc_registerCallback("asc_onEditorSelectionChanged",a.bind(t.onApiEditorSelectionChanged,t))},setMode:function(e){s=e.isEdit},onPageShow:function(e,t){this.initSettings(t)},onLaunch:function(){this.createView("EditText").render()},initEvents:function(){this.initSettings()},initSettings:function(e){if(!(i("#edit-text").length<1)){var t=this;"#edit-text-fonts"==e?t.initFontsPage():"#edit-text-color"==e?t.initTextColorPage():t.initRootPage()}},initRootPage:function(){if(!a.isUndefined(n)){var s=this,r=n.asc_getName()||this.textFonts;i("#font-fonts .item-title").html(r);var l=n.asc_getSize();l=a.isUndefined(l)?this.textAuto:l+" "+this.textPt,i("#font-fonts .item-after span:first-child").html(l),i("#font-size .item-after label").html(l),i("#font-bold").toggleClass("active",!0===n.asc_getBold()),i("#font-italic").toggleClass("active",!0===n.asc_getItalic()),i("#font-underline").toggleClass("active",!0===n.asc_getUnderline());var c=n.asc_getColor(),d=s._sdkToThemeColor(c);i("#font-color .color-preview").css("background-color","#"+(a.isObject(d)?d.color:d)),i("#edit-text-align-block").css("display",t==e.inShape?"block":"none");var p=o.asc_getHorAlign(),u=o.asc_getVertAlign();i("#font-left").toggleClass("active",p===AscCommon.align_Left),i("#font-center").toggleClass("active",p===AscCommon.align_Center),i("#font-right").toggleClass("active",p===AscCommon.align_Right),i("#font-just").toggleClass("active",p===AscCommon.align_Justify),i("#font-top").toggleClass("active",u===Asc.c_oAscVAlign.Top),i("#font-middle").toggleClass("active",u===Asc.c_oAscVAlign.Center),i("#font-bottom").toggleClass("active",u===Asc.c_oAscVAlign.Bottom),i("#font-bold").single("click",a.bind(s.onBold,s)),i("#font-italic").single("click",a.bind(s.onItalic,s)),i("#font-underline").single("click",a.bind(s.onUnderline,s)),i("#font-left").single("click",a.bind(s.onHAlign,s,AscCommon.align_Left)),i("#font-center").single("click",a.bind(s.onHAlign,s,AscCommon.align_Center)),i("#font-right").single("click",a.bind(s.onHAlign,s,AscCommon.align_Right)),i("#font-just").single("click",a.bind(s.onHAlign,s,AscCommon.align_Justify)),i("#font-top").single("click",a.bind(s.onVAlign,s,Asc.c_oAscVAlign.Top)),i("#font-middle").single("click",a.bind(s.onVAlign,s,Asc.c_oAscVAlign.Center)),i("#font-bottom").single("click",a.bind(s.onVAlign,s,Asc.c_oAscVAlign.Bottom))}},initFontsPage:function(){var e=this,t=n.size;t=a.isUndefined(t)?this.textAuto:t+" "+this.textPt,i("#font-size .item-after label").html(t),i("#font-size .button").single("click",a.bind(e.onFontSize,e)),a.defer(function(){e.getView("EditText").renderFonts()},e)},initTextColorPage:function(){var e=this,t=e._sdkToThemeColor(n.color),o=new Common.UI.ThemeColorPalette({el:i(".page[data-page=edit-text-color] .page-content")});o&&(o.select(t),o.on("select",a.bind(e.onTextColor,e)))},onFontSize:function(e){var t=this,o=i(e.currentTarget),s=n.size;o.hasClass("decrement")?a.isUndefined(s)?t.api.asc_decreaseFontSize():s=Math.max(1,--s):a.isUndefined(s)?t.api.asc_increaseFontSize():s=Math.min(100,++s),a.isUndefined(s)||t.api.asc_setCellFontSize(s)},onFontClick:function(e,t){var a=i(t.currentTarget).find("input");a&&this.api.asc_setCellFontName(a.prop("value"))},onBold:function(e){var t=this._toggleButton(e);this.api&&this.api.asc_setCellBold(t)},onItalic:function(e){var t=this._toggleButton(e);this.api&&this.api.asc_setCellItalic(t)},onUnderline:function(e){var t=this._toggleButton(e);this.api&&this.api.asc_setCellUnderline(t)},onHAlign:function(e,t){var a=i(t.currentTarget);a.parent(".row").find("a.button").removeClass("active"),a.addClass("active"),this.api.asc_setCellAlign(e)},onVAlign:function(e,t){var a=i(t.currentTarget);a.parent(".row").find("a.button").removeClass("active"),a.addClass("active"),this.api.asc_setCellVertAlign(e)},onTextColor:function(e,t){this.api.asc_setCellTextColor(Common.Utils.ThemeColor.getRgbColor(t)),i("#font-color .color-preview").css("background-color","#"+(a.isObject(t)?t.color:t))},onHAlignChange:function(e){var t=i(e.currentTarget),a=t.prop("value"),n=AscCommon.align_Left;"center"==a?n=AscCommon.align_Center:"right"==a?n=AscCommon.align_Right:"justify"==a&&(n=AscCommon.align_Justify),this.api.asc_setCellAlign(n)},onVAlignChange:function(e){var t=i(e.currentTarget),a=t.prop("value"),n=Asc.c_oAscVAlign.Bottom;"top"==a?n=Asc.c_oAscVAlign.Top:"center"==a&&(n=Asc.c_oAscVAlign.Center),this.api.asc_setCellVertAlign(n)},getFontInfo:function(){return n},onApiSelectionChanged:function(i){if(s){o=i,n=i.asc_getFont();switch(i.asc_getFlags().asc_getSelectionType()){case Asc.c_oAscSelectionType.RangeChartText:t=e.inChart;break;case Asc.c_oAscSelectionType.RangeShapeText:t=e.inShape;break;default:t=e.inUnknown}}},onApiEditorSelectionChanged:function(e){s&&(n=e)},_toggleButton:function(e){return i(e.currentTarget).toggleClass("active").hasClass("active")},_sdkToThemeColor:function(e){var t="transparent";return e&&(t=e.get_type()==Asc.c_oAscColor.COLOR_TYPE_SCHEME?{color:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b()),effectValue:e.get_value()}:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b())),t},textFonts:"Fonts",textAuto:"Auto",textPt:"pt"}}(),SSE.Controllers.EditText||{}))}),define("text!spreadsheeteditor/mobile/app/template/EditImage.template",[],function(){return'<div id="edit-image-root"><div class="list-block"><ul><li><a id="image-replace" class="item-link" data-page="#edit-image-replace-view"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textReplace %></div></div></div></a></li><li><a id="image-reorder" class="item-link" data-page="#edit-image-reorder-view"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textReorder %></div></div></div></a></li></ul></div><div class="list-block"><ul><li> <% if (android) { %> <a id="image-default" class="button button-raised button-fill" style="margin: 20px 16px;"><%= scope.textDefault %></a> <% } else { %> <a id="image-default" class="item-link list-button" style="text-align: center;"><%= scope.textDefault %></a> <% } %> </li><li> <% if (android) { %> <a id="image-default" class="button button-raised button-fill" style="margin: 20px 16px; background-color: #f44336;"><%= scope.textRemove %></a> <% } else { %> <a id="image-remove" class="item-link list-button" style="text-align: center; color: #f00"><%= scope.textRemove %></a> <% } %> </li></ul></div></div><div id="edit-image-reorder-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textReorder %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page image-reorder" data-page="edit-image-reorder-view"><div class="page-content"><div class="list-block"><ul><li><a data-type="all-up" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-foreground"></i></div><div class="item-inner"><div class="item-title"><%= scope.textToForeground %></div></div></div></a></li><li><a data-type="all-down" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-background"></i></div><div class="item-inner"><div class="item-title"><%= scope.textToBackground %></div></div></div></a></li><li><a data-type="move-up" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-forward"></i></div><div class="item-inner"><div class="item-title"><%= scope.textForward %></div></div></div></a></li><li><a data-type="move-down" class="item-link no-indicator"><div data-type="move-down" class="item-content"><div class="item-media"><i class="icon icon-move-backward"></i></div><div class="item-inner"><div class="item-title"><%= scope.textBackward %></div></div></div></a></li></ul></div></div></div></div><div id="edit-image-replace-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textReplace %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-image-replace-view"><div class="page-content"><div class="list-block"><ul><li><a id="edit-image-file" class="item-link no-indicator no-fastclick"><div class="item-content"><div class="item-media"><i class="icon icon-image-library"></i></div><div class="item-inner"><div class="item-title"><%= scope.textFromLibrary %></div></div></div></a></li><li><a id="edit-image-url" class="item-link" data-page="#edit-image-url-view"><div class="item-content"><div class="item-media"><i class="icon icon-link"></i></div><div class="item-inner"><div class="item-title"><%= scope.textFromURL %></div></div></div></a></li></ul></div></div></div></div><div id="edit-image-url-view"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textLinkSettings %></div></div></div><div class="page edit-image-url-link" data-page="edit-image-url-view"><div class="page-content"><div class="content-block-title"><%= scope.textAddress %></div><div class="list-block"><ul><li><div class="item-content"><div class="item-inner"><div class="item-input"><input type="url" placeholder="<%= scope.textImageURL %>"></div></div></div></li></ul></div><div class="list-block disabled buttons"> <% if (android) { %> <a href="#" class="button button-fill button-raised" style="margin: 20px 16px;"><%= scope.textReplaceImg %></a> <% } else { %> <ul><li><a href="#" class="list-button item-link"><%= scope.textReplaceImg %></a></li></ul> <% } %> </div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/edit/EditImage",["text!spreadsheeteditor/mobile/app/template/EditImage.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.EditImage=a.View.extend(i.extend(function(){return{template:i.template(e),events:{},initialize:function(){Common.NotificationCenter.on("editcontainer:show",i.bind(this.initEvents,this)),Common.NotificationCenter.on("editcategory:show",i.bind(this.categoryShow,this)),this.on("page:show",i.bind(this.updateItemHandlers,this))},initEvents:function(){var e=this;e.updateItemHandlers(),e.initControls()},categoryShow:function(e){},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#edit-image-root").html():""},initControls:function(){},updateItemHandlers:function(){var e=["#edit-image",".page[data-page=edit-image-replace-view]"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");t(e).single("click",i.bind(this.onItemClick,this))},showPage:function(e,t){var i=SSE.getController("EditContainer").rootView;if(i&&this.layout){var a=this.layout.find(e);Framework7.prototype.device.android&&a.find(".page").append(a.find(".navbar")),i.router.load({content:a.html()}),!0!==t&&this.fireEvent("page:show",[this,e]),this.initEvents()}},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&this.showPage(a)},textReplace:"Replace",textReorder:"Reorder",textDefault:"Default Size",textRemove:"Remove Image",textBack:"Back",textToForeground:"Bring to Foreground",textToBackground:"Send to Background",textForward:"Move Forward",textBackward:"Move Backward",textFromLibrary:"Picture from Library",textFromURL:"Picture from URL",textLinkSettings:"Link Settings",textAddress:"Address",textImageURL:"Image URL",textReplaceImg:"Replace Image"}}(),SSE.Views.EditImage||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditImage",["core","spreadsheeteditor/mobile/app/view/edit/EditImage","jquery","underscore","backbone"],function(e,t,i,a,n){"use strict";SSE.Controllers.EditImage=n.Controller.extend(a.extend(function(){var e=[],t=void 0,n=!1;return{models:[],collections:[],views:["EditImage"],initialize:function(){Common.NotificationCenter.on("editcontainer:show",a.bind(this.initEvents,this)),this.addListeners({EditImage:{"page:show":this.onPageShow}})},setApi:function(e){var t=this;t.api=e,t.api.asc_registerCallback("asc_onSelectionChanged",a.bind(t.onApiSelectionChanged,t)),t.api.asc_registerCallback("asc_onFocusObject",a.bind(t.onApiFocusObject,t))},setMode:function(e){n=e.isEdit},onPageShow:function(e,t){this.initSettings(t)},onLaunch:function(){this.createView("EditImage").render()},initEvents:function(){this.initSettings()},initSettings:function(e){if(!(i("#edit-image").length<1)){var t=this;"#edit-image-replace-view"==e?t.initReplacePage():"#edit-image-reorder-view"==e?t.initReorderPage():"#edit-image-url-view"==e?t.initLinkPage():t.initRootPage()}},initRootPage:function(){i("#image-default").single("click",a.bind(this.onDefaultSize,this)),i("#image-remove").single("click",a.bind(this.onRemoveImage,this))},initReplacePage:function(){i("#edit-image-file").single("click",a.bind(this.onReplaceByFile,this))},initReorderPage:function(){i(".page[data-page=edit-image-reorder-view] a.item-link").single("click",a.bind(this.onReorder,this))},initLinkPage:function(){i(".edit-image-url-link .button, .edit-image-url-link .list-button").single("click",a.bind(this.onReplaceByUrl,this)),i(".edit-image-url-link input[type=url]").single("input",a.bind(function(e){i(".edit-image-url-link .buttons").toggleClass("disabled",a.isEmpty(i(e.currentTarget).val()))},this)),a.delay(function(){i(".edit-image-url-link input[type=url]").focus()
},1e3)},getImage:function(){return t},onDefaultSize:function(){var e=this;if(e.api){var t=e.api.asc_getOriginalImageSize(),i=new Asc.asc_CImgProperty;i.put_Width(t.get_ImageWidth()),i.put_Height(t.get_ImageHeight()),i.put_ResetCrop(!0),e.api.asc_setGraphicObjectProps(i)}},onRemoveImage:function(){this.api.asc_Remove(),SSE.getController("EditContainer").hideModal()},onReplaceByFile:function(){this.api.asc_changeImageFromFile(),SSE.getController("EditContainer").hideModal()},onReplaceByUrl:function(){var e=this,t=i(".edit-image-url-link input[type=url]");if(t){var n=t.val().replace(/ /g,"");a.isEmpty(n)?uiApp.alert(e.textEmptyImgUrl):/((^https?)|(^ftp)):\/\/.+/i.test(n)?(SSE.getController("EditContainer").hideModal(),a.defer(function(){var t=new Asc.asc_CImgProperty;t.asc_putImageUrl(n),e.api.asc_setGraphicObjectProps(t)})):uiApp.alert(e.txtNotUrl)}},onReorder:function(e){var t,a=i(e.currentTarget),n=a.data("type");t="all-up"==n?Asc.c_oAscDrawingLayerType.BringToFront:"all-down"==n?Asc.c_oAscDrawingLayerType.SendToBack:"move-up"==n?Asc.c_oAscDrawingLayerType.BringForward:Asc.c_oAscDrawingLayerType.SendBackward,this.api.asc_setSelectedDrawingObjectLayer(t)},onApiSelectionChanged:function(e){if(n){var t=this,i=[];e.asc_getFlags().asc_getSelectionType()==Asc.c_oAscSelectionType.RangeImage&&(i=t.api.asc_getGraphicObjectProps()),t.onApiFocusObject(i)}},onApiFocusObject:function(i){if(e=i,n){var o=[];a.each(e,function(e){e.get_ObjectType()==Asc.c_oAscTypeSelectElement.Image&&o.push(e.get_ObjectValue())});t=function(e){return e.length>0?e[e.length-1]:void 0}(o)}},textEmptyImgUrl:"You need to specify image URL.",txtNotUrl:'This field should be a URL in the format "http://www.example.com"'}}(),SSE.Controllers.EditImage||{}))}),define("text!spreadsheeteditor/mobile/app/template/EditShape.template",[],function(){return'<div id="edit-shape-root"><div class="list-block"><ul><li><a id="shape-style" class="item-link" data-page="#edit-shape-style"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textStyle %></div></div></div></a></li><li><a id="shape-replace" class="item-link" data-page="#edit-shape-replace"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textReplace %></div></div></div></a></li><li><a id="shape-reorder" class="item-link" data-page="#edit-shape-reorder"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textReorder %></div></div></div></a></li></ul></div><div class="list-block"><ul><li> <% if (android) { %> <a id="shape-remove" class="button button-raised button-fill" style="margin: 20px 16px; background-color: #f44336;"><%= scope.textRemoveShape %></a> <% } else { %> <a id="shape-remove" class="item-link list-button" style="text-align: center; color: #f00"><%= scope.textRemoveShape %></a> <% } %> </li></ul></div></div><div id="edit-shape-reorder"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textReorder %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page shape-reorder" data-page="edit-shape-reorder"><div class="page-content"><div class="list-block"><ul><li><a data-type="all-up" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-foreground"></i></div><div class="item-inner"><div class="item-title"><%= scope.textToForeground %></div></div></div></a></li><li><a data-type="all-down" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-background"></i></div><div class="item-inner"><div class="item-title"><%= scope.textToBackground %></div></div></div></a></li><li><a data-type="move-up" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-forward"></i></div><div class="item-inner"><div class="item-title"><%= scope.textForward %></div></div></div></a></li><li><a data-type="move-down" class="item-link no-indicator"><div data-type="move-down" class="item-content"><div class="item-media"><i class="icon icon-move-backward"></i></div><div class="item-inner"><div class="item-title"><%= scope.textBackward %></div></div></div></a></li></ul></div></div></div></div><div id="edit-shape-replace"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textReplace %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page shape-replace" data-page="edit-shape-replace"><div class="page-content dataview shapes"> <% _.each(shapes, function(row) { %> <ul class="row"> <% _.each(row, function(shape) { %> <li data-type="<%= shape.type %>"><div class="thumb" style="-webkit-mask-image:url(\'<%= imgpath %>/<%= shape.thumb %>\')"></div></li> <% }); %> </ul> <% }); %> </div></div></div><div id="edit-shape-style"><div class="navbar"><div class="navbar-inner edit-shape-style" data-page="edit-shape-style"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding categories"> <% if (android) { %> <div class="toolbar tabbar"><div data-page="index" class="toolbar-inner"><a href="#tab-shape-fill" data-type="fill" class="tab-link active"><%= scope.textFill %></a><a href="#tab-shape-border" data-type="border" class="tab-link"><%= scope.textBorder %></a><a href="#tab-shape-effects" data-type="effects" class="tab-link"><%= scope.textEffects %></a></div></div> <% } else { %> <div class="buttons-row"><a href="#tab-shape-fill" data-type="fill" class="tab-link button active"><%= scope.textFill %></a><a href="#tab-shape-border" data-type="border" class="tab-link button"><%= scope.textBorder %></a><a href="#tab-shape-effects" data-type="effects" class="tab-link button"><%= scope.textEffects %></a></div> <% } %> </div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-shape-style"><div class="tabs-animated-wrap"><div class="tabs"><div id="tab-shape-fill" class="page-content tab active"></div><div id="tab-shape-border" class="page-content tab"><div class="list-block"><ul><li id="edit-shape-bordersize"><div style="padding: 15px 0 0 15px;"><%= scope.textSize %></div><div class="item-content"><div class="item-inner"><div class="item-input"><div class="range-slider"><input type="range" min="0" max="7" value="0" step="1"></div></div><div class="item-after value">0 pt</div></div></div></li><li><a id="edit-shape-bordercolor" class="item-link" data-page="#edit-shape-border-color-view"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textColor %></div><div class="item-after"><div class="color-preview"></div></div></div></div></a></li></ul></div></div><div id="tab-shape-effects" class="page-content tab"><div class="list-block"><ul><li id="edit-shape-effect"><div style="padding: 15px 0 0 15px;"><%= scope.textOpacity %></div><div class="item-content"><div class="item-inner"><div class="item-input"><div class="range-slider"><input type="range" min="0" max="100" value="0" step="1"></div></div><div class="item-after value">0 %</div></div></div></li></ul></div></div></div></div></div></div><div id="edit-shape-style-nofill"><div class="navbar"><div class="navbar-inner edit-shape-style" data-page="edit-shape-style"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textBorder %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-shape-style"><div class="page-content"><div class="list-block"><ul><li id="edit-shape-bordersize"><div style="padding: 15px 0 0 15px;"><%= scope.textSize %></div><div class="item-content"><div class="item-inner"><div class="item-input"><div class="range-slider"><input type="range" min="0" max="7" value="0" step="1"></div></div><div class="item-after value">0 pt</div></div></div></li><li><a id="edit-shape-bordercolor" class="item-link" data-page="#edit-shape-border-color-view"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textColor %></div><div class="item-after"><div class="color-preview"></div></div></div></div></a></li></ul></div></div></div></div><div id="edit-shape-border-color-view"><div class="navbar"><div class="navbar-inner" data-page="edit-shape-border-color"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textColor %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-shape-border-color-view"><div class="page-content"></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/edit/EditShape",["text!spreadsheeteditor/mobile/app/template/EditShape.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.EditShape=a.View.extend(i.extend(function(){return{template:i.template(e),events:{},initialize:function(){Common.NotificationCenter.on("editcontainer:show",i.bind(this.initEvents,this)),Common.NotificationCenter.on("editcategory:show",i.bind(this.categoryShow,this)),this.on("page:show",i.bind(this.updateItemHandlers,this)),this.isShapeCanFill=!0},initEvents:function(){var e=this;t(".edit-shape-style .categories a").single("click",i.bind(e.showStyleCategory,e)),Common.Utils.addScrollIfNeed("#edit-shape .pages","#edit-shape .page"),e.updateItemHandlers(),e.initControls()},categoryShow:function(e){},render:function(){var e=Common.SharedSettings.get("shapes").slice();return e.splice(0,1),this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),imgpath:"../mobile/resources/img/shapes",shapes:e,scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#edit-shape-root").html():""},initControls:function(){},updateItemHandlers:function(){var e=["#edit-shape",".page[data-page=edit-shape-style]"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");Common.Utils.addScrollIfNeed(".page[data-page=edit-shape-border-color-view]",".page[data-page=edit-shape-border-color-view] .page-content"),t(e).single("click",i.bind(this.onItemClick,this))},showPage:function(e,t){var i=SSE.getController("EditContainer").rootView;if(i&&this.layout){var a=this.layout.find(e);Framework7.prototype.device.android&&a.find(".page").append(a.find(".navbar")),i.router.load({content:a.html()}),!0!==t&&this.fireEvent("page:show",[this,e]),this.initEvents()}},showStyleCategory:function(e){t(".page[data-page=edit-shape-style] .list-block.inputs-list").removeClass("inputs-list")},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&("#edit-shape-style"!=a||this.isShapeCanFill||(a="#edit-shape-style-nofill"),this.showPage(a),this.isShapeCanFill||this.showStyleCategory()),Common.Utils.addScrollIfNeed(".page[data-page=edit-shape-style]",".page[data-page=edit-shape-style] .page-content"),Common.Utils.addScrollIfNeed(".page[data-page=edit-shape-replace]",".page[data-page=edit-shape-replace] .page-content"),Common.Utils.addScrollIfNeed(".page[data-page=edit-shape-reorder]",".page[data-page=edit-shape-reorder] .page-content")},textStyle:"Style",textReplace:"Replace",textReorder:"Reorder",textRemoveShape:"Remove Shape",textBack:"Back",textToForeground:"Bring to Foreground",textToBackground:"Send to Background",textForward:"Move Forward",textBackward:"Move Backward",textFill:"Fill",textBorder:"Border",textEffects:"Effects",textSize:"Size",textColor:"Color",textOpacity:"Opacity"}}(),SSE.Views.EditShape||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditShape",["core","spreadsheeteditor/mobile/app/view/edit/EditShape","jquery","underscore","backbone"],function(e,t,i,a,n){"use strict";SSE.Controllers.EditShape=n.Controller.extend(a.extend(function(){var e=[],t=void 0,n={color:"000000",width:1},o=(Common.Utils.Metric.getCurrentMetricName(),!1),s=function(){var e=[0,.5,1,1.5,2.25,3,4.5,6];return{sizeByIndex:function(t){return t<1?e[0]:t>e.length-1?e[e.length-1]:e[t]},indexSizeByValue:function(t){var i=0;return a.each(e,function(e,a){Math.abs(e-t)<.25&&(i=a)}),i},sizeByValue:function(t){return e[this.indexSizeByValue(t)]}}}();return{models:[],collections:[],views:["EditShape"],initialize:function(){Common.NotificationCenter.on("editcontainer:show",a.bind(this.initEvents,this)),this.addListeners({EditShape:{"page:show":this.onPageShow}})},setApi:function(e){var t=this;t.api=e,t.api.asc_registerCallback("asc_onSelectionChanged",a.bind(t.onApiSelectionChanged,t)),t.api.asc_registerCallback("asc_onFocusObject",a.bind(t.onApiFocusObject,t))},setMode:function(e){o=e.isEdit},onPageShow:function(e,t){this.initSettings(t)},onLaunch:function(){this.createView("EditShape").render()},initEvents:function(){this.initSettings()},initSettings:function(e){if(!(i("#edit-shape").length<1)){var t=this;"#edit-shape-style"==e||"#edit-shape-style-nofill"==e?t.initStylePage():"#edit-shape-border-color-view"==e?t.initBorderColorPage():"#edit-shape-replace"==e?t.initReplacePage():"#edit-shape-reorder"==e?t.initReorderPage():t.initRootPage()}},initRootPage:function(){i("#shape-remove").single("click",a.bind(this.onRemoveShape,this)),this.getView("EditShape").isShapeCanFill=t.get_ShapeProperties().asc_getCanFill()},initStylePage:function(){var e,n=this,o=t.get_ShapeProperties(),r=new Common.UI.ThemeColorPalette({el:i("#tab-shape-fill"),transparent:!0});r.on("select",a.bind(n.onFillColor,n));var l=o.asc_getFill();l.asc_getType()==Asc.c_oAscFill.FILL_TYPE_SOLID&&(e=n._sdkToThemeColor(l.asc_getFill().asc_getColor())),r.select(e);var c=n._mm2pt(o.get_stroke().get_width()),d=o.get_stroke().get_type();i("#edit-shape-bordersize input").val([d==Asc.c_oAscStrokeType.STROKE_NONE?0:s.indexSizeByValue(c)]),i("#edit-shape-bordersize .item-after").text((d==Asc.c_oAscStrokeType.STROKE_NONE?0:s.sizeByValue(c))+" "+Common.Utils.Metric.getMetricName(Common.Utils.Metric.c_MetricUnits.pt)),i("#edit-shape-bordersize input").single("change touchend",a.buffered(n.onBorderSize,100,n)),i("#edit-shape-bordersize input").single("input",a.bind(n.onBorderSizeChanging,n)),n._initBorderColorView(),i("#edit-shape-effect input").val([o.get_fill().asc_getTransparent()?o.get_fill().asc_getTransparent()/2.55:100]),i("#edit-shape-effect .item-after").text(i("#edit-shape-effect input").val()+" %"),i("#edit-shape-effect input").single("change touchend",a.buffered(n.onOpacity,100,n)),i("#edit-shape-effect input").single("input",a.bind(n.onOpacityChanging,n))},_initBorderColorView:function(){if(t){var e=this,o=t.get_ShapeProperties().get_stroke();n.color=o&&o.get_type()==Asc.c_oAscStrokeType.STROKE_COLOR?e._sdkToThemeColor(o.get_color()):"transparent",i("#edit-shape-bordercolor .color-preview").css("background-color","transparent"==n.color?n.color:"#"+(a.isObject(n.color)?n.color.color:n.color))}},initReplacePage:function(){i(".shape-replace li").single("click",a.buffered(this.onReplace,100,this))},initReorderPage:function(){i(".page[data-page=edit-shape-reorder] a.item-link").single("click",a.bind(this.onReorder,this))},initBorderColorPage:function(){var e=this,t=new Common.UI.ThemeColorPalette({el:i(".page[data-page=edit-shape-border-color-view] .page-content")});t&&(t.select(n.color),t.on("select",a.bind(e.onBorderColor,e)))},getShape:function(){return t},onRemoveShape:function(){this.api.asc_Remove(),SSE.getController("EditContainer").hideModal()},onReorder:function(e){var t,a=i(e.currentTarget),n=a.data("type");t="all-up"==n?Asc.c_oAscDrawingLayerType.BringToFront:"all-down"==n?Asc.c_oAscDrawingLayerType.SendToBack:"move-up"==n?Asc.c_oAscDrawingLayerType.BringForward:Asc.c_oAscDrawingLayerType.SendBackward,this.api.asc_setSelectedDrawingObjectLayer(t)},onReplace:function(e){var t=i(e.currentTarget),a=t.data("type");this.api.asc_changeShapeType(a)},onBorderSize:function(e){var t=this,a=i(e.currentTarget),o=a.val(),r=new Asc.asc_CImgProperty,l=new Asc.asc_CShapeProperty,c=new Asc.asc_CStroke;o=s.sizeByIndex(parseInt(o)),o<.01?c.put_type(Asc.c_oAscStrokeType.STROKE_NONE):(c.put_type(Asc.c_oAscStrokeType.STROKE_COLOR),"transparent"==n.color?c.put_color(Common.Utils.ThemeColor.getRgbColor({color:"000000",effectId:29})):c.put_color(Common.Utils.ThemeColor.getRgbColor(Common.Utils.ThemeColor.colorValue2EffectId(n.color))),c.put_width(t._pt2mm(o))),l.put_stroke(c),r.asc_putShapeProperties(l),t.api.asc_setGraphicObjectProps(r),t._initBorderColorView()},onBorderSizeChanging:function(e){var t=i(e.currentTarget);i("#edit-shape-bordersize .item-after").text(s.sizeByIndex(t.val())+" "+Common.Utils.Metric.getMetricName(Common.Utils.Metric.c_MetricUnits.pt))},onOpacity:function(e){var t=this,a=i(e.currentTarget),n=a.val(),o=new Asc.asc_CImgProperty,s=new Asc.asc_CShapeFill,r=new Asc.asc_CShapeProperty;s.asc_putTransparent(parseInt(2.55*n)),r.asc_putFill(s),o.put_ShapeProperties(r),t.api.asc_setGraphicObjectProps(o)},onOpacityChanging:function(e){var t=i(e.currentTarget);i("#edit-shape-effect .item-after").text(t.val()+" %")},onFillColor:function(e,i){var a=this;t.get_ShapeProperties();if(a.api){var n=new Asc.asc_CImgProperty,o=new Asc.asc_CShapeProperty,s=new Asc.asc_CShapeFill;"transparent"==i?(s.put_type(Asc.c_oAscFill.FILL_TYPE_NOFILL),s.put_fill(null)):(s.put_type(Asc.c_oAscFill.FILL_TYPE_SOLID),s.put_fill(new Asc.asc_CFillSolid),s.get_fill().put_color(Common.Utils.ThemeColor.getRgbColor(i))),o.asc_putFill(s),n.asc_putShapeProperties(o),a.api.asc_setGraphicObjectProps(n)}},onBorderColor:function(e,o){var s=this,r=t.get_ShapeProperties();if(i("#edit-shape-bordercolor .color-preview").css("background-color","transparent"==o?o:"#"+(a.isObject(o)?o.color:o)),n.color=o,s.api&&r&&r.get_stroke().get_type()==Asc.c_oAscStrokeType.STROKE_COLOR){var l=new Asc.asc_CImgProperty,c=new Asc.asc_CShapeProperty,d=new Asc.asc_CStroke;r.get_stroke().get_width()<.01?d.put_type(Asc.c_oAscStrokeType.STROKE_NONE):(d.put_type(Asc.c_oAscStrokeType.STROKE_COLOR),d.put_color(Common.Utils.ThemeColor.getRgbColor(o)),d.put_width(r.get_stroke().get_width()),d.asc_putPrstDash(r.get_stroke().asc_getPrstDash())),c.put_stroke(d),l.asc_putShapeProperties(c),s.api.asc_setGraphicObjectProps(l)}},onApiSelectionChanged:function(e){if(o){var t=this,i=[];e.asc_getFlags().asc_getSelectionType()==Asc.c_oAscSelectionType.RangeShape&&(i=t.api.asc_getGraphicObjectProps()),t.onApiFocusObject(i)}},onApiFocusObject:function(i){if(e=i,o){e.length<1&&(e=this.api.asc_getGraphicObjectProps());var n=[];a.each(e,function(e){e.get_ObjectType()==Asc.c_oAscTypeSelectElement.Image&&e.get_ObjectValue()&&e.get_ObjectValue().get_ShapeProperties()&&n.push(e)});t=function(e){if(e.length>0){return e[e.length-1].get_ObjectValue()}}(n),t&&(this.getView("EditShape").isShapeCanFill=t.get_ShapeProperties().asc_getCanFill())}},_pt2mm:function(e){return 25.4*e/72},_mm2pt:function(e){return 72*e/25.4},_sdkToThemeColor:function(e){var t="transparent";return e&&(t=e.get_type()==Asc.c_oAscColor.COLOR_TYPE_SCHEME?{color:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b()),effectValue:e.get_value()}:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b())),t}}}(),SSE.Controllers.EditShape||{}))}),define("text!spreadsheeteditor/mobile/app/template/EditChart.template",[],function(){
return'<div id="edit-chart-root"><div class="list-block"><ul><li><a id="chart-style" class="item-link" data-page="#edit-chart-style"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDesign %></div></div></div></a></li><li><a id="chart-layout" class="item-link" data-page="#edit-chart-layout"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLayout %></div></div></div></a></li><li><a id="chart-vaxis" class="item-link" data-page="#edit-chart-vertical-axis"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textVerAxis %></div></div></div></a></li><li><a id="chart-haxis" class="item-link" data-page="#edit-chart-horizontal-axis"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textHorAxis %></div></div></div></a></li><li><a id="chart-reorder" class="item-link" data-page="#edit-chart-reorder"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textReorder %></div></div></div></a></li></ul></div><div class="list-block"> <% if (!android) { %> <ul><li><a id="chart-remove" class="item-link list-button" style="text-align: center; color: #f00"><%= scope.textRemoveChart %></a></li></ul> <% } else { %> <a id="chart-remove" class="button button-raised button-fill" style="margin: 20px 16px; background-color: #f44336;"><%= scope.textRemoveChart %></a> <% } %> </div></div><div id="edit-chart-reorder"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textReorder %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-chart-reorder"><div class="page-content"><div class="list-block"><ul><li><a data-type="all-up" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-foreground"></i></div><div class="item-inner"><div class="item-title"><%= scope.textToForeground %></div></div></div></a></li><li><a data-type="all-down" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-background"></i></div><div class="item-inner"><div class="item-title"><%= scope.textToBackground %></div></div></div></a></li><li><a data-type="move-up" class="item-link no-indicator"><div class="item-content"><div class="item-media"><i class="icon icon-move-forward"></i></div><div class="item-inner"><div class="item-title"><%= scope.textForward %></div></div></div></a></li><li><a data-type="move-down" class="item-link no-indicator"><div data-type="move-down" class="item-content"><div class="item-media"><i class="icon icon-move-backward"></i></div><div class="item-inner"><div class="item-title"><%= scope.textBackward %></div></div></div></a></li></ul></div></div></div></div><div id="edit-chart-style"><div class="navbar"><div class="navbar-inner edit-chart-style" data-page="edit-chart-style"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textDesign %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div> <% if (!android) { %> <div class="edit-chart-style subnavbar categories"><div class="buttons-row"><a href="#tab-chart-type" class="button tab-link active"><%= scope.textType %></a><a href="#tab-chart-style" class="button tab-link"><%= scope.textStyle %></a><a href="#tab-chart-fill" class="button tab-link"><%= scope.textFill %></a><a href="#tab-chart-border" class="button tab-link"><%= scope.textBorder %></a></div></div> <% } %> </div> <% if (android) { %> <div class="edit-chart-style subnavbar categories" style="padding: 0;"><div class="toolbar tabbar" style="top: 0;"><div data-page="index" class="toolbar-inner"><a href="#tab-chart-type" class="tab-link active"><%= scope.textType %></a><a href="#tab-chart-style" class="tab-link"><%= scope.textStyle %></a><a href="#tab-chart-fill" class="tab-link"><%= scope.textFill %></a><a href="#tab-chart-border" class="tab-link"><%= scope.textBorder %></a></div></div></div> <% } %> </div><div class="page with-subnavbar" data-page="edit-chart-style"><div class="tabs-animated-wrap"><div class="tabs"><div id="tab-chart-type" class="page-content tab dataview chart-types active"> <% _.each(types, function(row) { %> <ul class="row"> <% _.each(row, function(type) { %> <li data-type="<%= type.type %>"><div class="thumb" style="background-image:url(\'../mobile/resources/img/charts/<%= type.thumb %>\')"></div></li> <% }); %> </ul> <% }); %> </div><div id="tab-chart-style" class="page-content tab dataview chart-styles"></div><div id="tab-chart-fill" class="page-content tab"></div><div id="tab-chart-border" class="page-content tab"><div class="list-block"><ul><li id="edit-chart-bordersize"><div style="padding: 15px 0 0 15px;"><%= scope.textSize %></div><div class="item-content"><div class="item-inner"><div class="item-input"><div class="range-slider"><input type="range" min="0" max="7" value="0" step="1"></div></div><div class="item-after value">0 pt</div></div></div></li><li><a id="edit-chart-bordercolor" class="item-link" data-page="#edit-chart-border-color-view"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textColor %></div><div class="item-after"><div class="color-preview"></div></div></div></div></a></li></ul></div></div></div></div></div></div><div id="edit-chart-border-color-view"><div class="navbar"><div class="navbar-inner" data-page="edit-chart-border-color"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textColor %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="page" data-page="edit-chart-border-color"><div class="page-content"></div></div></div><div id="edit-chart-layout"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textLayout %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-chart-layout"><div class="page-content"><div class="list-block"><ul><li><a id="chart-layout-title" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-title"><option value="0" selected="selected"><%= scope.textNone %></option><option value="1"><%= scope.textOverlay %></option><option value="2"><%= scope.textNoOverlay %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textChartTitle %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li><a id="chart-layout-legend" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-legend"><option value="0" selected="selected"><%= scope.textNone %></option><option value="1"><%= scope.textLeft %></option><option value="2"><%= scope.textTop %></option><option value="3"><%= scope.textRight %></option><option value="4"><%= scope.textBottom %></option><option value="5"><%= scope.textLeftOverlay %></option><option value="6"><%= scope.textRightOverlay %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLegend %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div><div class="content-block-title"><%= scope.textAxisTitle %></div><div class="list-block"><ul><li><a id="chart-layout-axis-title-horizontal" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-axis-title-horizontal"><option value="0" selected="selected"><%= scope.textNone %></option><option value="1"><%= scope.textNoOverlay %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textHorizontal %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li><a id="chart-layout-axis-title-vertical" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-axis-title-vertical"><option value="0" selected="selected"><%= scope.textNone %></option><option value="1"><%= scope.textRotated %></option><option value="3"><%= scope.textHorizontal %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textVertical %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div><div class="content-block-title"><%= scope.textGridlines %></div><div class="list-block"><ul><li><a id="chart-layout-gridlines-horizontal" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-gridlines-horizontal"><option value="0" selected="selected"><%= scope.textNone %></option><option value="1"><%= scope.textMajor %></option><option value="2"><%= scope.textMinor %></option><option value="3"><%= scope.textMajorMinor %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textHorizontal %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li><a id="chart-layout-gridlines-vertical" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-gridlines-vertical"><option value="0" selected="selected"><%= scope.textNone %></option><option value="1"><%= scope.textMajor %></option><option value="2"><%= scope.textMinor %></option><option value="3"><%= scope.textMajorMinor %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textVertical %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div><div class="list-block"><ul><li><a id="chart-layout-data-labels" class="item-link smart-select" data-back-on-select="true"><select name="chart-layout-data-labels"><option value="0" selected="selected"><%= scope.textNone %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDataLabels %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div></div></div></div></div><div id="edit-chart-vertical-axis"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textAxisOptions %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-chart-vertical-axis"><div class="page-content"><div class="list-block"><ul><li id="edit-vertical-axis-min-val"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMinValue %></div><div class="item-after"><div class="item-input"><input class="field right placeholder-color" type="number" placeholder="<%= scope.textAuto %>"></div></div></div></div></li><li id="edit-vertical-axis-max-val"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMaxValue %></div><div class="item-after"><div class="item-input"><input class="field right placeholder-color" type="number" placeholder="<%= scope.textAuto %>"></div></div></div></div></li></ul></div><div class="list-block"><ul><li><a id="vertical-axis-cross" class="item-link smart-select" data-back-on-select="true"><select name="vertical-axis-cross"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textAxisCrosses %></div><div class="item-after"><%= scope.textAuto %></div></div></div></a></li><li id="edit-vertical-axis-cross-value" style="display: none;"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textCrossesValue %></div><div class="item-after"><div class="item-input"><input class="field right placeholder-color" type="number" placeholder="0"></div></div></div></div></li></ul></div><div class="list-block"><ul><li><a id="vertical-axis-display-units" class="item-link smart-select" data-back-on-select="true"><select name="vertical-axis-display-units"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDisplayUnits %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li id="vertical-axis-in-reverse"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textValReverseOrder %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div><div class="content-block-title"><%= scope.textTickOptions %></div><div class="list-block"><ul><li><a id="vertical-axis-tick-major" class="item-link smart-select" data-back-on-select="true"><select name="vertical-axis-tick-major"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMajorType %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li><a id="vertical-axis-tick-minor" class="item-link smart-select" data-back-on-select="true"><select name="vertical-axis-tick-minor"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMinorType %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div><div class="content-block-title"><%= scope.textLabelOptions %></div><div class="list-block"><ul><li><a id="vertical-axis-label-pos" class="item-link smart-select" data-back-on-select="true"><select name="vertical-axis-label-pos"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLabelPos %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div></div></div></div></div><div id="edit-chart-horizontal-axis"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= scope.textAxisOptions %></div><div class="right"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="edit-chart-horizontal-axis"><div class="page-content"><div class="list-block"><ul><li><a id="horizontal-axis-cross" class="item-link smart-select" data-back-on-select="true"><select name="horizontal-axis-cross"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textAxisCrosses %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li id="edit-horizontal-axis-cross-value" style="display: none;"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textCrossesValue %></div><div class="item-after"><div class="item-input"><input class="field right placeholder-color" type="number" placeholder="0"></div></div></div></div></li></ul></div><div class="list-block"><ul><li><a id="horizontal-axis-position" class="item-link smart-select" data-back-on-select="true"><select name="horizontal-axis-position"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textAxisPosition %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li id="horizontal-axis-in-reverse"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textValReverseOrder %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div><div class="content-block-title"><%= scope.textTickOptions %></div><div class="list-block"><ul><li><a id="horizontal-axis-tick-major" class="item-link smart-select" data-back-on-select="true"><select name="horizontal-axis-tick-major"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMajorType %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li><li><a id="horizontal-axis-tick-minor" class="item-link smart-select" data-back-on-select="true"><select name="horizontal-axis-tick-minor"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textMinorType %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div><div class="content-block-title"><%= scope.textLabelOptions %></div><div class="list-block"><ul><li><a id="horizontal-axis-label-pos" class="item-link smart-select" data-back-on-select="true"><select name="horizontal-axis-label-pos"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLabelPos %></div><div class="item-after"><%= scope.textNone %></div></div></div></a></li></ul></div></div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/edit/EditChart",["text!spreadsheeteditor/mobile/app/template/EditChart.template","jquery","underscore","backbone","common/mobile/lib/component/ThemeColorPalette"],function(e,t,i,a){"use strict";SSE.Views.EditChart=a.View.extend(i.extend(function(){var a,n=[{type:Asc.c_oAscChartTypeSettings.barNormal,thumb:"chart-03.png"},{type:Asc.c_oAscChartTypeSettings.barStacked,thumb:"chart-02.png"},{type:Asc.c_oAscChartTypeSettings.barStackedPer,thumb:"chart-01.png"},{type:Asc.c_oAscChartTypeSettings.lineNormal,thumb:"chart-06.png"},{type:Asc.c_oAscChartTypeSettings.lineStacked,thumb:"chart-05.png"},{type:Asc.c_oAscChartTypeSettings.lineStackedPer,thumb:"chart-04.png"},{type:Asc.c_oAscChartTypeSettings.hBarNormal,thumb:"chart-09.png"},{type:Asc.c_oAscChartTypeSettings.hBarStacked,thumb:"chart-08.png"},{type:Asc.c_oAscChartTypeSettings.hBarStackedPer,thumb:"chart-07.png"},{type:Asc.c_oAscChartTypeSettings.areaNormal,thumb:"chart-12.png"},{type:Asc.c_oAscChartTypeSettings.areaStacked,thumb:"chart-11.png"},{type:Asc.c_oAscChartTypeSettings.areaStackedPer,thumb:"chart-10.png"},{type:Asc.c_oAscChartTypeSettings.pie,thumb:"chart-13.png"},{type:Asc.c_oAscChartTypeSettings.doughnut,thumb:"chart-14.png"},{type:Asc.c_oAscChartTypeSettings.pie3d,thumb:"chart-22.png"},{type:Asc.c_oAscChartTypeSettings.scatter,thumb:"chart-15.png"},{type:Asc.c_oAscChartTypeSettings.stock,thumb:"chart-16.png"},{type:Asc.c_oAscChartTypeSettings.line3d,thumb:"chart-21.png"},{type:Asc.c_oAscChartTypeSettings.barNormal3d,thumb:"chart-17.png"},{type:Asc.c_oAscChartTypeSettings.barStacked3d,thumb:"chart-18.png"},{type:Asc.c_oAscChartTypeSettings.barStackedPer3d,thumb:"chart-19.png"},{type:Asc.c_oAscChartTypeSettings.hBarNormal3d,thumb:"chart-25.png"},{type:Asc.c_oAscChartTypeSettings.hBarStacked3d,thumb:"chart-24.png"},{type:Asc.c_oAscChartTypeSettings.hBarStackedPer3d,thumb:"chart-23.png"},{type:Asc.c_oAscChartTypeSettings.barNormal3dPerspective,thumb:"chart-20.png"}];return{template:i.template(e),events:{},initialize:function(){a=SSE.getController("EditChart"),Common.NotificationCenter.on("editcontainer:show",i.bind(this.initEvents,this)),this.on("page:show",i.bind(this.updateItemHandlers,this))},initEvents:function(){var e=this;e.updateItemHandlers(),e.initControls(),Common.Utils.addScrollIfNeed("#edit-chart .pages","#edit-chart .page")},render:function(){var e=i.chain(n).groupBy(function(e,t){return Math.floor(t/3)}).toArray().value();return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),types:e,scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#edit-chart-root").html():""},initControls:function(){},renderStyles:function(e){var a=t("#tab-chart-style");if(a.length>0){var n=parseInt(a.width()/70),o=-1,s=[];i.each(e,function(e,t){0==t%n&&(s.push([]),o++),s[o].push(e)});var r=i.template(["<% _.each(styles, function(row) { %>",'<ul class="row">',"<% _.each(row, function(style) { %>",'<li data-type="<%= style.asc_getName() %>">','<img src="<%= style.asc_getImage() %>" width="50px" height="50px">',"</li>","<% }); %>","</ul>","<% }); %>"].join(""))({styles:s});a.html(r)}},updateItemHandlers:function(){var e=["#edit-chart",".page[data-page=edit-chart-style]"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");t(e).single("click",i.bind(this.onItemClick,this)),t(".edit-chart-style.subnavbar.categories a").single("click",function(){t(".page[data-page=edit-chart-style]").find(".list-block.inputs-list").removeClass("inputs-list")})},showPage:function(e,t){var i=SSE.getController("EditContainer").rootView;if(i&&this.layout){var a=this.layout.find(e);Framework7.prototype.device.android&&a.find(".page").append(a.find(".navbar")),i.router.load({content:a.html()}),!0!==t&&this.fireEvent("page:show",[this,e])}},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&this.showPage(a)},textBack:"Back",textChart:"Chart",textReorder:"Reorder",textRemoveChart:"Remove Chart",textToForeground:"Bring to Foreground",textToBackground:"Send to Background",textForward:"Move Forward",textBackward:"Move Backward",textStyle:"Style",textDesign:"Design",textLayout:"Layout",textVerAxis:"Vertical Axis",textHorAxis:"Horizontal Axis",textType:"Type",textFill:"Fill",textBorder:"Border",textSize:"Size",textColor:"Color",textOverlay:"Overlay",textNoOverlay:"No Overlay",textChartTitle:"Chart Title",textLeft:"Left",textTop:"Top",textRight:"Right",textBottom:"Bottom",textLeftOverlay:"Left Overlay",textRightOverlay:"Right Overlay",textLegend:"Legend",textAxisTitle:"Axis Title",textHorizontal:"Horizontal",textRotated:"Rotated",textVertical:"Vertical",textMajor:"Major",textMinor:"Minor",textMajorMinor:"Major and Minor",textDataLabels:"Data Labels",textAxisOptions:"Axis Options",textMinValue:"Minimum Value",textMaxValue:"Maximum Value",textAxisCrosses:"Axis Crosses",textAuto:"Auto",textCrossesValue:"Crosses Value",textDisplayUnits:"Display Units",textValReverseOrder:"Values in Reverse Order",textTickOptions:"Tick Options",textMajorType:"Major Type",textMinorType:"Minor Type",textLabelOptions:"Label Options",textLabelPos:"Label Position",textAxisPosition:"Axis Position",textNone:"None",textGridlines:"Gridlines"}}(),SSE.Views.EditChart||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditChart",["core","spreadsheeteditor/mobile/app/view/edit/EditChart","jquery","underscore","backbone","common/mobile/lib/component/ThemeColorPalette"],function(e,t,i,a,n){"use strict";SSE.Controllers.EditChart=n.Controller.extend(a.extend(function(){var e=[],t=void 0,n=void 0,o={color:"000000",width:1},s=(Common.Utils.Metric.getCurrentMetricName(),!1),r=function(){var e=[0,.5,1,1.5,2.25,3,4.5,6];return{sizeByIndex:function(t){return t<1?e[0]:t>e.length-1?e[e.length-1]:e[t]},indexSizeByValue:function(t){var i=0;return a.each(e,function(e,a){Math.abs(e-t)<.25&&(i=a)}),i},sizeByValue:function(t){return e[this.indexSizeByValue(t)]}}}();return{models:[],collections:[],views:["EditChart"],initialize:function(){Common.NotificationCenter.on("editcontainer:show",a.bind(this.initEvents,this)),this.addListeners({EditChart:{"page:show":this.onPageShow}})},setApi:function(e){var t=this;t.api=e,t.api.asc_registerCallback("asc_onSelectionChanged",a.bind(t.onApiSelectionChanged,t)),t.api.asc_registerCallback("asc_onFocusObject",a.bind(t.onApiFocusObject,t)),t.api.asc_registerCallback("asc_onUpdateChartStyles",a.bind(t.onApiUpdateChartStyles,t))},setMode:function(e){s=e.isEdit},onLaunch:function(){this.createView("EditChart").render()},initEvents:function(){this.initSettings()},onPageShow:function(e,t){this.initSettings(t)},initSettings:function(e){if(!(i("#edit-chart").length<1)){var t=this;"#edit-chart-style"==e?t.initStylePage():"#edit-chart-border-color-view"==e?(t.initBorderColorPage(),Common.Utils.addScrollIfNeed(".page[data-page=edit-chart-border-color]",".page[data-page=edit-chart-border-color] .page-content")):"#edit-chart-layout"==e?(t.initLayoutPage(),Common.Utils.addScrollIfNeed(".page[data-page=edit-chart-layout]",".page[data-page=edit-chart-layout] .page-content")):"#edit-chart-vertical-axis"==e?(t.initVertAxisPage(),Common.Utils.addScrollIfNeed(".page[data-page=edit-chart-vertical-axis]",".page[data-page=edit-chart-vertical-axis] .page-content")):"#edit-chart-horizontal-axis"==e?(t.initHorAxisPage(),Common.Utils.addScrollIfNeed(".page[data-page=edit-chart-horizontal-axis]",".page[data-page=edit-chart-horizontal-axis] .page-content")):"#edit-chart-reorder"==e?(t.initReorderPage(),Common.Utils.addScrollIfNeed(".page[data-page=edit-chart-reorder]",".page[data-page=edit-chart-reorder] .page-content")):t.initRootPage()}},getStack:function(){return e},getChart:function(){return t},initRootPage:function(){i("#chart-remove").single("click",a.bind(this.onRemoveChart,this)),a.isUndefined(t)||this.updateAxisProps(t.get_ChartProperties().getType())},initStylePage:function(){var e,o=this,s=t.get_ChartProperties(),l=n.get_ShapeProperties(),c=s.getType();i(".chart-types li").removeClass("active"),i(".chart-types li[data-type="+c+"]").addClass("active"),i("#tab-chart-type li").single("click",a.buffered(o.onType,100,o)),a.defer(function(){o._updateChartStyles(o.api.asc_getChartPreviews(t.get_ChartProperties().getType()))});var d=new Common.UI.ThemeColorPalette({el:i("#tab-chart-fill"),transparent:!0});d.on("select",a.bind(o.onFillColor,o));var p=l.asc_getFill();p.asc_getType()==Asc.c_oAscFill.FILL_TYPE_SOLID&&(e=o._sdkToThemeColor(p.asc_getFill().asc_getColor())),d.select(e);var u=72*l.get_stroke().get_width()/25.4,h=l.get_stroke().get_type();i("#edit-chart-bordersize input").val([h==Asc.c_oAscStrokeType.STROKE_NONE?0:r.indexSizeByValue(u)]),i("#edit-chart-bordersize .item-after").text((h==Asc.c_oAscStrokeType.STROKE_NONE?0:r.sizeByValue(u))+" "+Common.Utils.Metric.getMetricName(Common.Utils.Metric.c_MetricUnits.pt)),i("#edit-chart-bordersize input").single("change touchend",a.buffered(o.onBorderSize,100,o)),i("#edit-chart-bordersize input").single("input",a.bind(o.onBorderSizeChanging,o)),o._initBorderColorView()},_initBorderColorView:function(){if(n){var e=this,t=n.get_ShapeProperties().get_stroke();o.color=t&&t.get_type()==Asc.c_oAscStrokeType.STROKE_COLOR?e._sdkToThemeColor(t.get_color()):"transparent",i("#edit-chart-bordercolor .color-preview").css("background-color","transparent"==o.color?o.color:"#"+(a.isObject(o.color)?o.color.color:o.color))}},initLayoutPage:function(){var e=this,n=t.get_ChartProperties(),o=n.getType(),s=i(".page[data-page=edit-chart-layout]"),r=function(e,t){var i=s.find("select[name="+e+"]").val(t).find("option[value="+t+"]").text();s.find("#"+e+" .item-after").text(i)},l=[{value:Asc.c_oAscChartDataLabelsPos.none,displayValue:e.textNone},{value:Asc.c_oAscChartDataLabelsPos.ctr,displayValue:e.textCenter}];o==Asc.c_oAscChartTypeSettings.barNormal||o==Asc.c_oAscChartTypeSettings.hBarNormal?l.push({value:Asc.c_oAscChartDataLabelsPos.inBase,displayValue:e.textInnerBottom},{value:Asc.c_oAscChartDataLabelsPos.inEnd,displayValue:e.textInnerTop},{value:Asc.c_oAscChartDataLabelsPos.outEnd,displayValue:e.textOuterTop}):o==Asc.c_oAscChartTypeSettings.barStacked||o==Asc.c_oAscChartTypeSettings.barStackedPer||o==Asc.c_oAscChartTypeSettings.hBarStacked||o==Asc.c_oAscChartTypeSettings.hBarStackedPer?l.push({value:Asc.c_oAscChartDataLabelsPos.inBase,displayValue:e.textInnerBottom},{value:Asc.c_oAscChartDataLabelsPos.inEnd,displayValue:e.textInnerTop}):o==Asc.c_oAscChartTypeSettings.lineNormal||o==Asc.c_oAscChartTypeSettings.lineStacked||o==Asc.c_oAscChartTypeSettings.lineStackedPer||o==Asc.c_oAscChartTypeSettings.stock||o==Asc.c_oAscChartTypeSettings.scatter?l.push({value:Asc.c_oAscChartDataLabelsPos.l,displayValue:e.textLeft},{value:Asc.c_oAscChartDataLabelsPos.r,displayValue:e.textRight},{value:Asc.c_oAscChartDataLabelsPos.t,displayValue:e.textTop},{value:Asc.c_oAscChartDataLabelsPos.b,displayValue:e.textBottom}):o!=Asc.c_oAscChartTypeSettings.pie&&o!=Asc.c_oAscChartTypeSettings.pie3d||l.push({value:Asc.c_oAscChartDataLabelsPos.bestFit,displayValue:e.textFit},{value:Asc.c_oAscChartDataLabelsPos.inEnd,displayValue:e.textInnerTop},{value:Asc.c_oAscChartDataLabelsPos.outEnd,displayValue:e.textOuterTop}),s.find("select[name=chart-layout-data-labels]").html(function(){var e=[];return a.each(l,function(t){e.push(Common.Utils.String.format('<option value="{0}">{1}</option>',t.value,t.displayValue))}),e.join("")}()),r("chart-layout-title",n.getTitle()),r("chart-layout-legend",n.getLegendPos()),r("chart-layout-axis-title-horizontal",n.getHorAxisLabel()),r("chart-layout-axis-title-vertical",n.getVertAxisLabel()),r("chart-layout-gridlines-horizontal",n.getHorGridLines()),r("chart-layout-gridlines-vertical",n.getVertGridLines()),r("chart-layout-data-labels",n.getDataLabelsPos()||Asc.c_oAscChartDataLabelsPos.none);var c=o==Asc.c_oAscChartTypeSettings.pie||o==Asc.c_oAscChartTypeSettings.doughnut||o==Asc.c_oAscChartTypeSettings.pie3d;i("#chart-layout-axis-title-horizontal").toggleClass("disabled",c),i("#chart-layout-axis-title-vertical").toggleClass("disabled",c),i("#chart-layout-gridlines-horizontal").toggleClass("disabled",c),i("#chart-layout-gridlines-vertical").toggleClass("disabled",c),i("#chart-layout-title select").single("change",a.bind(e.onLayoutTitle,e)),i("#chart-layout-legend select").single("change",a.bind(e.onLayoutLegend,e)),i("#chart-layout-axis-title-horizontal select").single("change",a.bind(e.onLayoutAxisTitleHorizontal,e)),i("#chart-layout-axis-title-vertical select").single("change",a.bind(e.onLayoutAxisTitleVertical,e)),i("#chart-layout-gridlines-horizontal select").single("change",a.bind(e.onLayoutGridlinesHorizontal,e)),i("#chart-layout-gridlines-vertical select").single("change",a.bind(e.onLayoutGridlinesVertical,e)),i("#chart-layout-data-labels select").single("change",a.bind(e.onLayoutDataLabel,e))},initVertAxisPage:function(){var e=this,t=i(".page[data-page=edit-chart-vertical-axis]"),n=e.api.asc_getChartObject(),o=n.getVertAxisProps(),s=o.getAxisType()==Asc.c_oAscAxisType.val?o:n.getHorAxisProps(),r=function(e,i){var a=t.find("select[name="+e+"]").val(i).find("option[value="+i+"]").text();t.find("#"+e+" .item-after").text(a)},l=function(e,i){t.find("select[name="+e+"]").html(function(){var e=[];return a.each(i,function(t){e.push(Common.Utils.String.format('<option value="{0}">{1}</option>',t.value,t.display))}),e.join("")}())};i("#edit-vertical-axis-min-val input").val(s.getMinValRule()==Asc.c_oAscValAxisRule.auto?null:s.getMinVal()),i("#edit-vertical-axis-max-val input").val(s.getMaxValRule()==Asc.c_oAscValAxisRule.auto?null:s.getMaxVal()),l("vertical-axis-cross",[{display:this.textAuto,value:Asc.c_oAscCrossesRule.auto},{display:this.textValue,value:Asc.c_oAscCrossesRule.value},{display:this.textMinValue,value:Asc.c_oAscCrossesRule.minValue},{display:this.textMaxValue,value:Asc.c_oAscCrossesRule.maxValue}]);var c=s.getCrossesRule();r("vertical-axis-cross",c),c==Asc.c_oAscCrossesRule.value&&(i("#edit-vertical-axis-cross-value").css("display","block"),i("#edit-vertical-axis-cross-value input").val(s.getCrosses())),l("vertical-axis-display-units",[{display:e.textNone,value:Asc.c_oAscValAxUnits.none},{
display:e.textHundreds,value:Asc.c_oAscValAxUnits.HUNDREDS},{display:e.textThousands,value:Asc.c_oAscValAxUnits.THOUSANDS},{display:e.textTenThousands,value:Asc.c_oAscValAxUnits.TEN_THOUSANDS},{display:e.textHundredThousands,value:Asc.c_oAscValAxUnits.HUNDRED_THOUSANDS},{display:e.textMillions,value:Asc.c_oAscValAxUnits.MILLIONS},{display:e.textTenMillions,value:Asc.c_oAscValAxUnits.TEN_MILLIONS},{display:e.textHundredMil,value:Asc.c_oAscValAxUnits.HUNDRED_MILLIONS},{display:e.textBillions,value:Asc.c_oAscValAxUnits.BILLIONS},{display:e.textTrillions,value:Asc.c_oAscValAxUnits.TRILLIONS}]),r("vertical-axis-display-units",s.getDispUnitsRule()),i("#vertical-axis-in-reverse input").prop("checked",s.getInvertValOrder());var d=[{display:this.textNone,value:Asc.c_oAscTickMark.TICK_MARK_NONE},{display:this.textCross,value:Asc.c_oAscTickMark.TICK_MARK_CROSS},{display:this.textIn,value:Asc.c_oAscTickMark.TICK_MARK_IN},{display:this.textOut,value:Asc.c_oAscTickMark.TICK_MARK_OUT}];l("vertical-axis-tick-major",d),l("vertical-axis-tick-minor",d),r("vertical-axis-tick-major",s.getMajorTickMark()),r("vertical-axis-tick-minor",s.getMinorTickMark()),l("vertical-axis-label-pos",[{display:this.textNone,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_NONE},{display:this.textLow,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_LOW},{display:this.textHigh,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_HIGH},{display:this.textNextToAxis,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_NEXT_TO}]),r("vertical-axis-label-pos",s.getTickLabelsPos()),e.updateAxisProps(n.getType()),i("#edit-vertical-axis-min-val input").single("change",a.bind(e.onVerAxisMinValue,e)),i("#edit-vertical-axis-max-val input").single("change",a.bind(e.onVerAxisMaxValue,e)),i("#vertical-axis-cross select").single("change",a.bind(e.onVerAxisCrossType,e)),i("#edit-vertical-axis-cross-value input").single("change",a.bind(e.onVerAxisCrossValue,e)),i("#vertical-axis-display-units select").single("change",a.bind(e.onVerAxisDisplayUnits,e)),i("#vertical-axis-in-reverse input").single("change",a.bind(e.onVerAxisReverse,e)),i("#vertical-axis-tick-major select").single("change",a.bind(e.onVerAxisTickMajor,e)),i("#vertical-axis-tick-minor select").single("change",a.bind(e.onVerAxisTickMinor,e)),i("#vertical-axis-label-pos select").single("change",a.bind(e.onVerAxisLabelPos,e))},initHorAxisPage:function(){var e=this,t=i(".page[data-page=edit-chart-horizontal-axis]"),n=e.api.asc_getChartObject(),o=n.getHorAxisProps(),s=o.getAxisType()==Asc.c_oAscAxisType.val?n.getVertAxisProps():o,r=function(e,i){var a=t.find("select[name="+e+"]").val(i).find("option[value="+i+"]").text();t.find("#"+e+" .item-after").text(a)},l=function(e,i){t.find("select[name="+e+"]").html(function(){var e=[];return a.each(i,function(t){e.push(Common.Utils.String.format('<option value="{0}">{1}</option>',t.value,t.display))}),e.join("")}())};l("horizontal-axis-cross",[{display:e.textAuto,value:Asc.c_oAscCrossesRule.auto},{display:e.textValue,value:Asc.c_oAscCrossesRule.value},{display:e.textMinValue,value:Asc.c_oAscCrossesRule.minValue},{display:e.textMaxValue,value:Asc.c_oAscCrossesRule.maxValue}]);var c=s.getCrossesRule();r("horizontal-axis-cross",c),c==Asc.c_oAscCrossesRule.value&&(i("#edit-horizontal-axis-cross-value").css("display","block"),i("#edit-horizontal-axis-cross-value input").val(s.getCrosses())),l("horizontal-axis-position",[{display:e.textOnTickMarks,value:Asc.c_oAscLabelsPosition.byDivisions},{display:e.textBetweenTickMarks,value:Asc.c_oAscLabelsPosition.betweenDivisions}]),r("horizontal-axis-position",s.getLabelsPosition()),i("#horizontal-axis-in-reverse input").prop("checked",s.getInvertCatOrder());var d=[{display:e.textNone,value:Asc.c_oAscTickMark.TICK_MARK_NONE},{display:e.textCross,value:Asc.c_oAscTickMark.TICK_MARK_CROSS},{display:e.textIn,value:Asc.c_oAscTickMark.TICK_MARK_IN},{display:e.textOut,value:Asc.c_oAscTickMark.TICK_MARK_OUT}];l("horizontal-axis-tick-major",d),l("horizontal-axis-tick-minor",d),r("horizontal-axis-tick-major",s.getMajorTickMark()),r("horizontal-axis-tick-minor",s.getMinorTickMark()),l("horizontal-axis-label-pos",[{display:e.textNone,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_NONE},{display:e.textLow,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_LOW},{display:e.textHigh,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_HIGH},{display:e.textNextToAxis,value:Asc.c_oAscTickLabelsPos.TICK_LABEL_POSITION_NEXT_TO}]),r("horizontal-axis-label-pos",s.getTickLabelsPos()),e.updateAxisProps(n.getType()),i("#horizontal-axis-cross select").single("change",a.bind(e.onHorAxisCrossType,e)),i("#edit-horizontal-axis-cross-value input").single("change",a.bind(e.onHorAxisCrossValue,e)),i("#horizontal-axis-position select").single("change",a.bind(e.onHorAxisPos,e)),i("#horizontal-axis-in-reverse input").single("change",a.bind(e.onHorAxisReverse,e)),i("#horizontal-axis-tick-major select").single("change",a.bind(e.onHorAxisTickMajor,e)),i("#horizontal-axis-tick-minor select").single("change",a.bind(e.onHorAxisTickMinor,e)),i("#horizontal-axis-label-pos select").single("change",a.bind(e.onHorAxisLabelPos,e))},initReorderPage:function(){i(".page[data-page=edit-chart-reorder] a.item-link").single("click",a.bind(this.onReorder,this))},initBorderColorPage:function(){var e=this,t=new Common.UI.ThemeColorPalette({el:i(".page[data-page=edit-chart-border-color] .page-content")});t&&(t.select(o.color),t.on("select",a.bind(e.onBorderColor,e)))},onRemoveChart:function(){this.api.asc_Remove(),SSE.getController("EditContainer").hideModal()},onReorder:function(e){var t,a=i(e.currentTarget),n=a.data("type");t="all-up"==n?Asc.c_oAscDrawingLayerType.BringToFront:"all-down"==n?Asc.c_oAscDrawingLayerType.SendToBack:"move-up"==n?Asc.c_oAscDrawingLayerType.BringForward:Asc.c_oAscDrawingLayerType.SendBackward,this.api.asc_setSelectedDrawingObjectLayer(t)},onType:function(e){var n=this,o=i(e.currentTarget),s=o.data("type");i(".chart-types li").removeClass("active"),o.addClass("active"),a.defer(function(){var e=new Asc.asc_CImgProperty,i=t.get_ChartProperties();i.changeType(s),e.put_ChartProperties(i),n.api.asc_setGraphicObjectProps(e),n._updateChartStyles(n.api.asc_getChartPreviews(i.getType())),n.updateAxisProps(s)})},onStyle:function(e){var a=this,n=i(e.currentTarget),o=n.data("type"),s=new Asc.asc_CImgProperty,r=t.get_ChartProperties();r.putStyle(o),s.put_ChartProperties(r),a.api.asc_setGraphicObjectProps(s)},onFillColor:function(e,t){var i=this;if(i.api){var a=new Asc.asc_CImgProperty,n=new Asc.asc_CShapeProperty,o=new Asc.asc_CShapeFill;"transparent"==t?(o.put_type(Asc.c_oAscFill.FILL_TYPE_NOFILL),o.put_fill(null)):(o.put_type(Asc.c_oAscFill.FILL_TYPE_SOLID),o.put_fill(new Asc.asc_CFillSolid),o.get_fill().put_color(Common.Utils.ThemeColor.getRgbColor(t))),n.put_fill(o),a.put_ShapeProperties(n),i.api.asc_setGraphicObjectProps(a)}},onBorderSize:function(e){var t=this,a=i(e.currentTarget),n=a.val(),s=new Asc.asc_CImgProperty,l=new Asc.asc_CShapeProperty,c=new Asc.asc_CStroke;n=r.sizeByIndex(parseInt(n)),n<.01?c.put_type(Asc.c_oAscStrokeType.STROKE_NONE):(c.put_type(Asc.c_oAscStrokeType.STROKE_COLOR),"transparent"==o.color?c.put_color(Common.Utils.ThemeColor.getRgbColor({color:"000000",effectId:29})):c.put_color(Common.Utils.ThemeColor.getRgbColor(Common.Utils.ThemeColor.colorValue2EffectId(o.color))),c.put_width(25.4*n/72)),l.put_stroke(c),s.put_ShapeProperties(l),t.api.asc_setGraphicObjectProps(s),t._initBorderColorView()},onBorderSizeChanging:function(e){var t=i(e.currentTarget);i("#edit-chart-bordersize .item-after").text(r.sizeByIndex(t.val())+" "+Common.Utils.Metric.getMetricName(Common.Utils.Metric.c_MetricUnits.pt))},onBorderColor:function(e,t){var s=this,r=n.get_ShapeProperties();if(i("#edit-chart-bordercolor .color-preview").css("background-color","transparent"==t?t:"#"+(a.isObject(t)?t.color:t)),o.color=t,s.api&&r&&r.get_stroke().get_type()==Asc.c_oAscStrokeType.STROKE_COLOR){var l=new Asc.asc_CImgProperty,c=new Asc.asc_CShapeProperty,d=new Asc.asc_CStroke;r.get_stroke().get_width()<.01?d.put_type(Asc.c_oAscStrokeType.STROKE_NONE):(d.put_type(Asc.c_oAscStrokeType.STROKE_COLOR),d.put_color(Common.Utils.ThemeColor.getRgbColor(t)),d.put_width(r.get_stroke().get_width()),d.asc_putPrstDash(r.get_stroke().asc_getPrstDash())),c.put_stroke(d),l.put_ShapeProperties(c),s.api.asc_setGraphicObjectProps(l)}},onLayoutTitle:function(e){this._setLayoutProperty("putTitle",e)},onLayoutLegend:function(e){this._setLayoutProperty("putLegendPos",e)},onLayoutAxisTitleHorizontal:function(e){this._setLayoutProperty("putHorAxisLabel",e)},onLayoutAxisTitleVertical:function(e){this._setLayoutProperty("putVertAxisLabel",e)},onLayoutGridlinesHorizontal:function(e){this._setLayoutProperty("putHorGridLines",e)},onLayoutGridlinesVertical:function(e){this._setLayoutProperty("putVertGridLines",e)},onLayoutDataLabel:function(e){this._setLayoutProperty("putDataLabelsPos",e)},onVerAxisMinValue:function(e){var t=i(e.currentTarget).val(),n=this._getVerticalAxisProp(),o=a.isEmpty(t)?Asc.c_oAscValAxisRule.auto:Asc.c_oAscValAxisRule.fixed;n.putMinValRule(o),o==Asc.c_oAscValAxisRule.fixed&&n.putMinVal(parseInt(t)),this._setVerticalAxisProp(n)},onVerAxisMaxValue:function(e){var t=i(e.currentTarget).val(),n=this._getVerticalAxisProp(),o=a.isEmpty(t)?Asc.c_oAscValAxisRule.auto:Asc.c_oAscValAxisRule.fixed;n.putMaxValRule(o),o==Asc.c_oAscValAxisRule.fixed&&n.putMaxVal(parseInt(t)),this._setVerticalAxisProp(n)},onVerAxisCrossType:function(e){var t=parseInt(i(e.currentTarget).val()),a=this._getVerticalAxisProp();t==Asc.c_oAscCrossesRule.value?(i("#edit-vertical-axis-cross-value").css("display","block"),i("#edit-vertical-axis-cross-value input").val(a.getCrosses())):i("#edit-vertical-axis-cross-value").css("display","none"),a.putCrossesRule(t),this._setVerticalAxisProp(a)},onVerAxisCrossValue:function(e){var t=i(e.currentTarget).val(),a=this._getVerticalAxisProp();a.putCrossesRule(Asc.c_oAscCrossesRule.value),a.putCrosses(parseInt(t)),this._setVerticalAxisProp(a)},onVerAxisDisplayUnits:function(e){var t=i(e.currentTarget).val(),a=this._getVerticalAxisProp();a.putDispUnitsRule(parseInt(t)),this._setVerticalAxisProp(a)},onVerAxisReverse:function(e){var t=i(e.currentTarget).prop("checked"),a=this._getVerticalAxisProp();a.putInvertValOrder(t),this._setVerticalAxisProp(a)},onVerAxisTickMajor:function(e){var t=i(e.currentTarget).val(),a=this._getVerticalAxisProp();a.putMajorTickMark(parseInt(t)),this._setVerticalAxisProp(a)},onVerAxisTickMinor:function(e){var t=i(e.currentTarget).val(),a=this._getVerticalAxisProp();a.putMinorTickMark(parseInt(t)),this._setVerticalAxisProp(a)},onVerAxisLabelPos:function(e){var t=i(e.currentTarget).val(),a=this._getVerticalAxisProp();a.putTickLabelsPos(parseInt(t)),this._setVerticalAxisProp(a)},onHorAxisCrossType:function(e){var t=i(e.currentTarget).val(),a=this._getHorizontalAxisProp();t==Asc.c_oAscCrossesRule.value?(i("#edit-horizontal-axis-cross-value").css("display","block"),i("#edit-horizontal-axis-cross-value input").val(a.getCrosses())):i("#edit-horizontal-axis-cross-value").css("display","none"),a.putCrossesRule(parseInt(t)),this._setHorizontalAxisProp(a)},onHorAxisCrossValue:function(e){var t=i(e.currentTarget).val(),a=this._getHorizontalAxisProp();a.putCrossesRule(Asc.c_oAscCrossesRule.value),a.putCrosses(parseInt(t)),this._setHorizontalAxisProp(a)},onHorAxisPos:function(e){var t=i(e.currentTarget).val(),a=this._getHorizontalAxisProp();a.putLabelsPosition(parseInt(t)),this._setHorizontalAxisProp(a)},onHorAxisReverse:function(e){var t=i(e.currentTarget).prop("checked"),a=this._getHorizontalAxisProp();a.putInvertCatOrder(t),this._setHorizontalAxisProp(a)},onHorAxisTickMajor:function(e){var t=i(e.currentTarget).val(),a=this._getHorizontalAxisProp();a.putMajorTickMark(parseInt(t)),this._setHorizontalAxisProp(a)},onHorAxisTickMinor:function(e){var t=i(e.currentTarget).val(),a=this._getHorizontalAxisProp();a.putMinorTickMark(parseInt(t)),this._setHorizontalAxisProp(a)},onHorAxisLabelPos:function(e){var t=i(e.currentTarget).val(),a=this._getHorizontalAxisProp();a.putTickLabelsPos(parseInt(t)),this._setHorizontalAxisProp(a)},updateAxisProps:function(e){var t=e==Asc.c_oAscChartTypeSettings.pie||e==Asc.c_oAscChartTypeSettings.doughnut||e==Asc.c_oAscChartTypeSettings.pie3d;i("#chart-vaxis, #chart-haxis").toggleClass("disabled",t);var a=e==Asc.c_oAscChartTypeSettings.barNormal3d||e==Asc.c_oAscChartTypeSettings.barStacked3d||e==Asc.c_oAscChartTypeSettings.barStackedPer3d||e==Asc.c_oAscChartTypeSettings.hBarNormal3d||e==Asc.c_oAscChartTypeSettings.hBarStacked3d||e==Asc.c_oAscChartTypeSettings.hBarStackedPer3d||e==Asc.c_oAscChartTypeSettings.barNormal3dPerspective;i("#horizontal-axis-position").toggleClass("disabled",a);var n=e==Asc.c_oAscChartTypeSettings.hBarNormal||e==Asc.c_oAscChartTypeSettings.hBarStacked||e==Asc.c_oAscChartTypeSettings.hBarStackedPer||e==Asc.c_oAscChartTypeSettings.hBarNormal3d||e==Asc.c_oAscChartTypeSettings.hBarStacked3d||e==Asc.c_oAscChartTypeSettings.hBarStackedPer3d;i("#chart-vaxis").data("page",n?"#edit-chart-horizontal-axis":"#edit-chart-vertical-axis"),i("#chart-haxis").data("page",n||e==Asc.c_oAscChartTypeSettings.scatter?"#edit-chart-vertical-axis":"#edit-chart-horizontal-axis")},onApiUpdateChartStyles:function(){this.api&&t&&t.get_ChartProperties()&&this._updateChartStyles(this.api.asc_getChartPreviews(t.get_ChartProperties().getType()))},onApiSelectionChanged:function(e){if(s){var t=this,i=[];e.asc_getFlags().asc_getSelectionType()==Asc.c_oAscSelectionType.RangeChart&&(i=t.api.asc_getGraphicObjectProps()),t.onApiFocusObject(i)}},onApiFocusObject:function(i){if(e=i,s){var o=[],r=[];a.each(e,function(e){e.get_ObjectType()==Asc.c_oAscTypeSelectElement.Image&&(e.get_ObjectValue()&&e.get_ObjectValue().get_ChartProperties()&&o.push(e),e.get_ObjectValue()&&e.get_ObjectValue().get_ShapeProperties()&&r.push(e))});var l=function(e){if(e.length>0){return e[e.length-1].get_ObjectValue()}};t=l(o),n=l(r)}},_getVerticalAxisProp:function(){var e=this.api.asc_getChartObject(),t=e.getVertAxisProps();return t.getAxisType()==Asc.c_oAscAxisType.val?t:e.getHorAxisProps()},_setVerticalAxisProp:function(e){var t=this.api.asc_getChartObject(),i=t.getVertAxisProps();a.isUndefined(t)||(t[i.getAxisType()==Asc.c_oAscAxisType.val?"putVertAxisProps":"putHorAxisProps"](e),this.api.asc_editChartDrawingObject(t))},_getHorizontalAxisProp:function(){var e=this.api.asc_getChartObject(),t=e.getHorAxisProps();return t.getAxisType()==Asc.c_oAscAxisType.val?e.getVertAxisProps():t},_setHorizontalAxisProp:function(e){var t=this.api.asc_getChartObject(),i=t.getHorAxisProps();a.isUndefined(t)||(t[i.getAxisType()==Asc.c_oAscAxisType.val?"putVertAxisProps":"putHorAxisProps"](e),this.api.asc_editChartDrawingObject(t))},_setLayoutProperty:function(e,t){var n=i(t.currentTarget).val(),o=this.api.asc_getChartObject();if(!a.isUndefined(o)&&n&&n.length>0){var s=parseInt(n);o[e](parseInt(n)),"putDataLabelsPos"==e&&0!=s&&o.putShowVal(!0),this.api.asc_editChartDrawingObject(o)}},_updateChartStyles:function(e){this.getView("EditChart").renderStyles(e),i("#tab-chart-style li").single("click",a.bind(this.onStyle,this))},_sdkToThemeColor:function(e){var t="transparent";return e&&(t=e.get_type()==Asc.c_oAscColor.COLOR_TYPE_SCHEME?{color:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b()),effectValue:e.get_value()}:Common.Utils.ThemeColor.getHexColor(e.get_r(),e.get_g(),e.get_b())),t},textValue:"Value",textMinValue:"Minimum Value",textMaxValue:"Maximum Value",textLeftOverlay:"Left Overlay",textRightOverlay:"Right Overlay",textOverlay:"Overlay",textNoOverlay:"No Overlay",textRotated:"Rotated",textHorizontal:"Horizontal",textInnerBottom:"Inner Bottom",textInnerTop:"Inner Top",textOuterTop:"Outer Top",textNone:"None",textCenter:"Center",textFixed:"Fixed",textAuto:"Auto",textCross:"Cross",textIn:"In",textOut:"Out",textLow:"Low",textHigh:"High",textNextToAxis:"Next to axis",textHundreds:"Hundreds",textThousands:"Thousands",textTenThousands:"10 000",textHundredThousands:"100 000",textMillions:"Millions",textTenMillions:"10 000 000",textHundredMil:"100 000 000",textBillions:"Billions",textTrillions:"Trillions",textCustom:"Custom",textManual:"Manual",textBetweenTickMarks:"Between Tick Marks",textOnTickMarks:"On Tick Marks",errorMaxRows:"ERROR! The maximum number of data series per chart is 255.",errorStockChart:"Incorrect row order. To build a stock chart place the data on the sheet in the following order:<br> opening price, max price, min price, closing price.",textLeft:"Left",textRight:"Right",textTop:"Top",textBottom:"Bottom",textFit:"Fit Width"}}(),SSE.Controllers.EditChart||{}))}),define("text!spreadsheeteditor/mobile/app/template/EditHyperlink.template",[],function(){return'<div id="edit-link-root"><div class="list-block"><ul><li><a id="edit-link-type" class="item-link smart-select" data-back-on-select="true"><select name="edit-link-type"><option value="1" selected="selected"><%= scope.textExternalLink %></option><option value="2"><%= scope.textInternalLink %></option></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLinkType %></div><div class="item-after"><%= scope.textExternalLink %></div></div></div></a></li><li><a id="edit-link-sheet" class="item-link smart-select" data-back-on-select="true"><select name="edit-link-sheet"></select><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textSheet %></div><div class="item-after"></div></div></div></a></li><li id="edit-link-range"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textRange %></div><div class="item-after"><div class="item-input"><input class="field right" type="text" placeholder="Required"></div></div></div></div></li><li id="edit-link-link"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textLink %></div><div class="item-after"><div class="item-input"><input class="field right" type="url" placeholder="Required"></div></div></div></div></li><li id="edit-link-display"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDisplay %></div><div class="item-after"><div class="item-input"><input class="field right" type="text"></div></div></div></div></li><li id="edit-link-tip"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textScreenTip %></div><div class="item-after"><div class="item-input"><input class="field right" type="text"></div></div></div></div></li></ul></div><div class="list-block"> <% if (android) { %> <a href="#" id="edit-link-edit" class="button button-raised button-fill disabled" style="margin: 20px 16px;"><%= scope.textEditLink %></a><a href="#" id="edit-link-remove" class="button button-raised button-fill" style="margin: 20px 16px; background-color: #f44336;"><%= scope.textRemoveLink %></a> <% } else { %> <ul><li><a href="#" id="edit-link-edit" class="list-button item-link disabled" style="text-align: center;"><%= scope.textEditLink %></a></li><li><a href="#" id="edit-link-remove" class="list-button item-link" style="text-align: center; color: #f00"><%= scope.textRemoveLink %></a></li></ul> <% } %> </div></div>'}),define("spreadsheeteditor/mobile/app/view/edit/EditHyperlink",["text!spreadsheeteditor/mobile/app/template/EditHyperlink.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.EditHyperlink=a.View.extend(i.extend(function(){var a;return{template:i.template(e),events:{},initialize:function(){a=SSE.getController("EditHyperlink"),Common.NotificationCenter.on("editcontainer:show",i.bind(this.initEvents,this))},initEvents:function(){var e=this;Common.Utils.addScrollIfNeed("#edit-link .pages","#edit-link .page"),e.initControls()},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#edit-link-root").html():""},initControls:function(){},textBack:"Back",textExternalLink:"External Link",textInternalLink:"Internal Data Range",textLinkType:"Link Type",textSheet:"Sheet",textRange:"Range",textLink:"Link",textDisplay:"Display",textScreenTip:"Screen Tip",textEditLink:"Edit Link",textRemoveLink:"Remove Link"}}(),SSE.Views.EditHyperlink||{}))}),define("spreadsheeteditor/mobile/app/controller/edit/EditHyperlink",["core","spreadsheeteditor/mobile/app/view/edit/EditHyperlink","jquery","underscore","backbone"],function(e,t,i,a,n){"use strict";SSE.Controllers.EditHyperlink=n.Controller.extend(a.extend(function(){return{models:[],collections:[],views:["EditHyperlink"],initialize:function(){Common.NotificationCenter.on("editcontainer:show",a.bind(this.initEvents,this))},setApi:function(e){this.api=e},onLaunch:function(){this.createView("EditHyperlink").render()},initEvents:function(){if(!(i("#edit-link").length<1)){uiApp.addView("#edit-link");this.initSettings()}},initSettings:function(){for(var e=this,t=e.api.asc_getCellInfo(),n=t.asc_getHyperlink(),o=e.api.asc_getWorksheetsCount(),s=t.asc_getFlags().asc_getLockText(),r=-1,l=[];++r<o;)e.api.asc_isWorksheetHidden(r)||l.push(Common.Utils.String.format('<option value="{0}">{1}</option>',e.api.asc_getWorksheetName(r),e.api.asc_getWorksheetName(r)));i("#edit-link-sheet select").html(l.join("")),i("#edit-link-type select").val(n.asc_getType()),i("#edit-link-type .item-after").text(n.asc_getType()==Asc.c_oAscHyperlinkType.RangeLink?e.textInternalLink:e.textExternalLink),i("#edit-link-sheet, #edit-link-range").css("display",n.asc_getType()==Asc.c_oAscHyperlinkType.RangeLink?"block":"none"),i("#edit-link-link").css("display",n.asc_getType()!=Asc.c_oAscHyperlinkType.RangeLink?"block":"none");var c=e.api.asc_getWorksheetName(e.api.asc_getActiveWorksheetIndex());i("#edit-link-sheet select").val(n.asc_getType()==Asc.c_oAscHyperlinkType.RangeLink?n.asc_getSheet():c),i("#edit-link-sheet .item-after").text(n.asc_getType()==Asc.c_oAscHyperlinkType.RangeLink?n.asc_getSheet():c),i("#edit-link-range input").val(n.asc_getRange()),i("#edit-link-link input").val(n.asc_getHyperlinkUrl()?n.asc_getHyperlinkUrl().replace(new RegExp(" ","g"),"%20"):""),i("#edit-link-display input").val(s?e.textDefault:n.asc_getText()),i("#edit-link-display input").toggleClass("disabled",s),i("#edit-link-tip input").val(n.asc_getTooltip());var d=i(n.asc_getType()==Asc.c_oAscHyperlinkType.RangeLink?"#edit-link-range input":"#edit-link-link input");i("#edit-link-edit").toggleClass("disabled",a.isEmpty(d.val())),i("#edit-link-link input, #edit-link-range input").single("input",a.bind(function(e){i("#edit-link-edit").toggleClass("disabled",a.isEmpty(i(e.currentTarget).val()))},e)),i("#edit-link-edit").single("click",a.bind(e.onEdit,e)),i("#edit-link-remove").single("click",a.bind(e.onRemove,e)),i("#edit-link-type select").single("change",a.bind(e.onTypeChange,e))},onTypeChange:function(e){var t=parseInt(i(e.currentTarget).val());i("#edit-link-sheet, #edit-link-range").css("display",t==Asc.c_oAscHyperlinkType.RangeLink?"block":"none"),i("#edit-link-link").css("display",t!=Asc.c_oAscHyperlinkType.RangeLink?"block":"none");var n=i(t==Asc.c_oAscHyperlinkType.RangeLink?"#edit-link-range input":"#edit-link-link input");i("#edit-link-edit").toggleClass("disabled",a.isEmpty(n.val()))},onEdit:function(){var e=this,t=new Asc.asc_CHyperlink,n="",o=i("#edit-link-type select"),s=i("#edit-link-sheet select"),r=i("#edit-link-range input"),l=i("#edit-link-link input"),c=i("#edit-link-display input"),d=i("#edit-link-tip input"),p=parseInt(o.val());if(t.asc_setType(p),p==Asc.c_oAscHyperlinkType.RangeLink){var u=i.trim(r.val()),h=/^[A-Z]+[1-9]\d*:[A-Z]+[1-9]\d*$/.test(u);if(h||(h=/^[A-Z]+[1-9]\d*$/.test(u)),!h)return void uiApp.alert(e.textInvalidRange);t.asc_setSheet(s.val()),t.asc_setRange(u),n=s.val()+"!"+u}else{var m=l.val().replace(/^\s+|\s+$/g,"");if(!/(((^https?)|(^ftp)):\/\/)|(^mailto:)/i.test(m)){var f=e.api.asc_getUrlType(i.trim(m));if(f<1)return void uiApp.alert(e.txtNotUrl);m=(2==f?"mailto:":"http://")+m}m=m.replace(new RegExp("%20","g")," "),t.asc_setHyperlinkUrl(m),n=m}c.hasClass("disabled")?t.asc_setText(null):(a.isEmpty(c.val())&&c.val(n),t.asc_setText(c.val())),t.asc_setTooltip(d.val()),e.api.asc_insertHyperlink(t),SSE.getController("EditContainer").hideModal()},onRemove:function(){this.api&&this.api.asc_removeHyperlink(),SSE.getController("EditContainer").hideModal()},textExternalLink:"External Link",textInternalLink:"Internal Data Range",textDefault:"Selected range",textInvalidRange:"Invalid cells range",textEmptyImgUrl:"You need to specify image URL.",txtNotUrl:'This field should be a URL in the format "http://www.example.com"'}}(),SSE.Controllers.EditHyperlink||{}))}),define("spreadsheeteditor/mobile/app/controller/add/AddContainer",["core","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Controllers.AddContainer=a.Controller.extend(i.extend(function(){var e,a=null;return{models:[],collections:[],views:[],initialize:function(){},setApi:function(e){this.api=e},onLaunch:function(){},showModal:function(t){var i=this;if(!($$(".container-add.modal-in").length>0)){uiApp.closeModal();var n=i.api.asc_getCellInfo(),o=n.asc_getFlags().asc_getSelectionType(),s=n.asc_getLocked();n.asc_getLockedTable();if(!s){if(!(e=t))switch(o){case Asc.c_oAscSelectionType.RangeCells:case Asc.c_oAscSelectionType.RangeRow:case Asc.c_oAscSelectionType.RangeCol:case Asc.c_oAscSelectionType.RangeMax:break;case Asc.c_oAscSelectionType.RangeImage:case Asc.c_oAscSelectionType.RangeShape:case Asc.c_oAscSelectionType.RangeChart:case Asc.c_oAscSelectionType.RangeChartText:case Asc.c_oAscSelectionType.RangeShapeText:e={panels:["image","shape"]}}a=t&&t.button?t.button:"#toolbar-add",i._showByStack(Common.SharedSettings.get("phone"))}this.api.asc_closeCellEditor(),SSE.getController("Toolbar").getView("Toolbar").hideSearch()}},hideModal:function(){this.picker&&uiApp.closeModal(this.picker)},_layoutEditorsByStack:function(){var t=this,a=[];if(e||a.push({caption:t.textChart,id:"add-chart",layout:SSE.getController("AddChart").getView("AddChart").rootLayout()}),e&&"function"!=e.panel||(n=SSE.getController("AddFunction").getView("AddFunction"),a.push({caption:t.textFormula,id:"add-formula",layout:e?n.rootLayout():n.layoutPanel()})),e&&i.indexOf(e.panels,"shape")<0||a.push({caption:t.textShape,id:"add-shape",layout:SSE.getController("AddShape").getView("AddShape").rootLayout()}),e||a.push({caption:t.textOther,id:"add-other",layout:SSE.getController("AddOther").getView("AddOther").rootLayout()}),e&&"hyperlink"==e.panel){var n=SSE.getController("AddLink").getView();a.push({caption:n.getTitle(),id:"add-link",layout:n.rootLayout()})}return e&&!i.indexOf(e.panels,"image")&&a.push({caption:t.textImage,id:"add-image",layout:SSE.getController("AddOther").getView("AddOther").childLayout("image")}),a},_showByStack:function(n){var o=this,s=!0===Framework7.prototype.device.android,r=o._layoutEditorsByStack();if(!($$(".container-add.modal-in").length>0)){var l=t('<div class="navbar"><div data-page="index" class="navbar-inner"><div class="center sliding categories"></div>'+(n?'<div class="right sliding"><a href="#" class="link icon-only close-popup"><i class="icon icon-expand-down"></i></a></div>':"")+"</div></div>");if(1==r.length)l.find(".center").removeClass("categories").html(r[0].caption),d=t('<div class="pages">'+r[0].layout+"</div>");else{s?(l.find(".center").append('<div class="toolbar tabbar"><div data-page="index" class="toolbar-inner"></div></div>'),i.each(r,function(e,t){l.find(".toolbar-inner").append('<a href="#'+e.id+'" class="tab-link '+(t<1?"active":"")+'">'+e.caption+"</a>")}),l.find(".toolbar-inner").append('<span class="tab-link-highlight" style="width: '+100/r.length+'%;"></span>')):(l.find(".center").append('<div class="buttons-row"></div>'),i.each(r,function(e,t){l.find(".buttons-row").append('<a href="#'+e.id+'" class="tab-link button '+(t<1?"active":"")+'">'+e.caption+"</a>")}));var c=i.template('<% _.each(pages, function(view, index) { %><div id="<%= view.id %>" class="tab view<% if (index < 1) print(" active"); %>"><div class="pages"><div class="page no-navbar"><div class="page-content"><%= view.layout %></div></div></div></div><% }); %>'),d=t('<div class="pages"><div class="page" data-page="index"><div class="page-content"><div class="tabs-animated-wrap"><div class="tabs">'+c({pages:r})+"</div></div></div></div></div>")}if(n)o.picker=$$(uiApp.popup('<div class="popup settings container-add"><div class="view add-root-view navbar-through">'+l.prop("outerHTML")+d.prop("outerHTML")+"</div></div>"));else{o.picker=uiApp.popover('<div class="popover settings container-add"><div class="popover-angle"></div><div class="popover-inner"><div class="content-block"><div class="view popover-view add-root-view navbar-through">'+l.prop("outerHTML")+d.prop("outerHTML")+"</div></div></div>",$$(a));var p=t(".modal-overlay");$$(o.picker).on("opened",function(){p.on("removeClass",function(){p.hasClass("modal-overlay-visible")||p.addClass("modal-overlay-visible")})}).on("close",function(){p.off("removeClass"),p.removeClass("modal-overlay-visible")})}s&&($$(".view.add-root-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.add-root-view .navbar").prependTo(".view.add-root-view > .pages > .page")),o.rootView=uiApp.addView(".add-root-view",{dynamicNavbar:!0,domCache:!0}),Common.NotificationCenter.trigger("addcontainer:show",e)}},textChart:"Chart",textFormula:"Function",textShape:"Shape",textImage:"Image",textOther:"Other"}}(),SSE.Controllers.AddContainer||{}))}),define("text!spreadsheeteditor/mobile/app/template/AddChart.template",[],function(){return'<div id="add-chart-root"><div class="page-content dataview chart-types"> <% _.each(types, function(row) { %> <ul class="row"> <% _.each(row, function(type) { %> <li data-type="<%= type.type %>"><div class="thumb <%= type.thumb %>"></div></li> <% }); %> </ul> <% }); %> </div></div>'}),define("spreadsheeteditor/mobile/app/view/add/AddChart",["text!spreadsheeteditor/mobile/app/template/AddChart.template","backbone"],function(e,t){"use strict";SSE.Views.AddChart=t.View.extend(_.extend(function(){var t=[{type:Asc.c_oAscChartTypeSettings.barNormal,thumb:"bar-normal"},{type:Asc.c_oAscChartTypeSettings.barStacked,thumb:"bar-stacked"},{type:Asc.c_oAscChartTypeSettings.barStackedPer,thumb:"bar-pstacked"},{type:Asc.c_oAscChartTypeSettings.lineNormal,thumb:"line-normal"},{type:Asc.c_oAscChartTypeSettings.lineStacked,thumb:"line-stacked"},{type:Asc.c_oAscChartTypeSettings.lineStackedPer,thumb:"line-pstacked"},{type:Asc.c_oAscChartTypeSettings.hBarNormal,thumb:"hbar-normal"},{type:Asc.c_oAscChartTypeSettings.hBarStacked,thumb:"hbar-stacked"},{type:Asc.c_oAscChartTypeSettings.hBarStackedPer,thumb:"hbar-pstacked"},{type:Asc.c_oAscChartTypeSettings.areaNormal,thumb:"area-normal"},{type:Asc.c_oAscChartTypeSettings.areaStacked,thumb:"area-stacked"},{type:Asc.c_oAscChartTypeSettings.areaStackedPer,thumb:"area-pstacked"},{type:Asc.c_oAscChartTypeSettings.pie,thumb:"pie"},{type:Asc.c_oAscChartTypeSettings.doughnut,thumb:"doughnut"},{type:Asc.c_oAscChartTypeSettings.pie3d,thumb:"pie3d"},{type:Asc.c_oAscChartTypeSettings.scatter,thumb:"scatter"},{type:Asc.c_oAscChartTypeSettings.stock,thumb:"stock"},{type:Asc.c_oAscChartTypeSettings.line3d,thumb:"line3d"},{type:Asc.c_oAscChartTypeSettings.barNormal3d,thumb:"bar3dnormal"},{type:Asc.c_oAscChartTypeSettings.barStacked3d,thumb:"bar3dstack"},{type:Asc.c_oAscChartTypeSettings.barStackedPer3d,thumb:"bar3dpstack"},{type:Asc.c_oAscChartTypeSettings.hBarNormal3d,thumb:"hbar3dnormal"},{type:Asc.c_oAscChartTypeSettings.hBarStacked3d,thumb:"hbar3dstack"},{type:Asc.c_oAscChartTypeSettings.hBarStackedPer3d,thumb:"hbar3dpstack"},{type:Asc.c_oAscChartTypeSettings.barNormal3dPerspective,thumb:"bar3dpsnormal"}];return{template:_.template(e),
events:{},initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this))},initEvents:function(){var e=this;$(".chart-types .thumb").single("click",this.onTypeClick.bind(this)),Common.Utils.addScrollIfNeed("#add-chart .pages","#add-chart .page"),e.initControls()},render:function(){var e=_.chain(t).groupBy(function(e,t){return Math.floor(t/3)}).toArray().value();this.layout=$("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),types:e}));var i=$(".container-add .chart-styles");return i&&i.replaceWith(this.layout.find("#add-chart-root").html()),this},rootLayout:function(){return this.layout?this.layout.html():""},initControls:function(){},onTypeClick:function(e){this.fireEvent("chart:insert",[$(e.target.parentElement).data("type")])}}}(),SSE.Views.AddChart||{}))}),define("spreadsheeteditor/mobile/app/controller/add/AddChart",["core","spreadsheeteditor/mobile/app/view/add/AddChart"],function(e){"use strict";SSE.Controllers.AddChart=Backbone.Controller.extend(_.extend(function(){return{models:[],collections:[],views:["AddChart"],initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this)),this.addListeners({AddChart:{"chart:insert":this.onInsertChart.bind(this)}})},setApi:function(e){this.api=e},onLaunch:function(){this.createView("AddChart").render()},initEvents:function(){},onInsertChart:function(e){SSE.getController("AddContainer").hideModal();var t=this.api.asc_getChartObject();t.changeType(e),this.api.asc_addChartDrawingObject(t)},txtDiagramTitle:"Chart Title",txtXAxis:"X Axis",txtYAxis:"Y Axis",txtSeries:"Seria"}}(),SSE.Controllers.AddChart||{}))}),define("text!spreadsheeteditor/mobile/app/template/AddFunction.template",[],function(){return'<% if (view == \'root\') { %> <div id="add-function-root"><div class="page" data-page="add-function"><div class="page-content"><div class="list-block"><ul> <% _.each(quick, function(f) { %> <li class="function"><a data-func="<%= f.type %>" class="item-link no-indicator quick"><div class="item-content"><div class="item-inner"><div class="item-title"><%= f.caption %></div><div class="item-after"><i class="icon icon-info"></i></div></div></div></a></li> <% }); %> </ul></div><div class="content-block-title"><%= textGroups %></div><div class="list-block"><ul class="groups"> <% for (var g in groups) { %> <li><a data-type="<%= g %>" class="item-link group"><div class="item-content"><div class="item-inner"><div class="item-title"><%= groups[g] %></div></div></div></a></li> <% }; %> </ul></div></div></div></div> <% } %>  <% if (view == \'group\') { %> <div id="add-function-group"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= groupname %></div></div></div><div class="page"><div class="page-content"><div class="list-block"><ul> <% _.each(functions, function(f) { %> <li class="function"><a data-func="<%= f.type %>" class="item-link no-indicator"><div class="item-content"><div class="item-inner"><div class="item-title"><%= f.caption %></div><div class="item-after"><i class="icon icon-info"></i></div></div></div></a></li> <% }); %> </ul></div></div></div></div> <% } %>  <% if (view == \'info\') { %> <div id="add-function-info"><div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div><div class="center sliding"><%= caption %></div></div></div><div class="page"><div class="page-content" style="background-color: #fff;"><div class="content-block" style="color: #000;"><h3><%= caption %><%= args %></h3><p><%= descr %></p></div></div></div></div> <% } %>'}),define("spreadsheeteditor/mobile/app/view/add/AddFunction",["text!spreadsheeteditor/mobile/app/template/AddFunction.template","backbone"],function(e,t){"use strict";SSE.Views.AddFunction=t.View.extend(_.extend(function(){var t=function(e,t){var i=SSE.getController("AddContainer").rootView;if(i){var a={android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),view:e,scope:this};_.extend(a,t);var n=$("<div/>").append(_.template(this.template)(a));Framework7.prototype.device.android&&n.find(".page").append(n.find(".navbar")),i.router.load({content:n.html()})}};return{template:e,events:{},initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this))},initEvents:function(){var e=this;$(".settings").single("click",".function .icon-info",this.onFunctionInfoClick.bind(this)).on("click",".function > a",this.onFunctionClick.bind(this)),$(".groups a.group").single("click",this.onGroupClick.bind(this)),Common.Utils.addScrollIfNeed("#add-formula .pages","#add-formula .page"),e.initControls()},render:function(){var e=this,t=[{caption:"SUM",type:"SUM"},{caption:"MIN",type:"MIN"},{caption:"MAX",type:"MAX"},{caption:"COUNT",type:"COUNT"}];e.functions&&_.each(t,function(t){t.caption=e.functions[t.type].caption});var i=e.lang;this.translatTable={};for(var a="",n="",o=["DateAndTime","Engineering","Financial","Information","Logical","LookupAndReference","Mathematic","Statistical","TextAndData"],s=0;s<o.length;s++)a=o[s],n="sCat"+a,this.translatTable[a]={en:this[n],de:this[n+"_de"],ru:this[n+"_ru"],pl:this[n+"_pl"],es:this[n+"_es"],fr:this[n+"_fr"]};return e.groups={DateAndTime:e.translatTable.DateAndTime[i]||e.translatTable.DateAndTime.en,Engineering:e.translatTable.Engineering[i]||e.translatTable.Engineering.en,TextAndData:e.translatTable.TextAndData[i]||e.translatTable.TextAndData.en,Statistical:e.translatTable.Statistical[i]||e.translatTable.Statistical.en,Financial:e.translatTable.Financial[i]||e.translatTable.Financial.en,Mathematic:e.translatTable.Mathematic[i]||e.translatTable.Mathematic.en,LookupAndReference:e.translatTable.LookupAndReference[i]||e.translatTable.LookupAndReference.en,Information:e.translatTable.Information[i]||e.translatTable.Information.en,Logical:e.translatTable.Logical[i]||e.translatTable.Logical.en},e.layout=$("<div/>").append(_.template(e.template)({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),textGroups:e.textGroups,quick:t,groups:e.groups,view:"root"})),this},setFunctions:function(e,t){this.functions=e,this.lang=t},rootLayout:function(){return this.layout?this.layout.find("#add-function-root").html():""},layoutPage:function(){return this.layout?this.layout.find("#add-function-root").html():""},layoutPanel:function(){return this.layout?this.layout.find("#add-function-root .page-content").html():""},initControls:function(){},onFunctionClick:function(e){this.fireEvent("function:insert",[$(e.currentTarget).data("func")])},onFunctionInfoClick:function(e){e.stopPropagation();var t=$(e.target).parents(".item-link").data("func");this.fireEvent("function:info",[t])},onGroupClick:function(e){var i=$(e.target).parents(".group").data("type"),a=[];for(var n in this.functions)this.functions[n].group==i&&a.push(this.functions[n]);t.call(this,"group",{groupname:this.groups[i],functions:a}),Common.Utils.addScrollIfNeed(".view.add-root-view .page-on-center",".view.add-root-view .page-on-center .page-content")},openFunctionInfo:function(e){t.call(this,"info",this.functions[e]),Common.Utils.addScrollIfNeed(".view.add-root-view .page-on-center",".view.add-root-view .page-on-center .page-content")},textGroups:"CATEGORIES",textBack:"Back",sCatLogical:"Logical",sCatDateAndTime:"Date and time",sCatEngineering:"Engineering",sCatFinancial:"Financial",sCatInformation:"Information",sCatLookupAndReference:"Lookup and Reference",sCatMathematic:"Math and trigonometry",sCatStatistical:"Statistical",sCatTextAndData:"Text and data",sCatDateAndTime_ru:"Дата и время",sCatEngineering_ru:"Инженерные",sCatFinancial_ru:"Финансовые",sCatInformation_ru:"Информационные",sCatLogical_ru:"Логические",sCatLookupAndReference_ru:"Поиск и ссылки",sCatMathematic_ru:"Математические",sCatStatistical_ru:"Статистические",sCatTextAndData_ru:"Текст и данные",sCatLogical_es:"Lógico",sCatDateAndTime_es:"Fecha y hora",sCatEngineering_es:"Ingenería",sCatFinancial_es:"Financial",sCatInformation_es:"Información",sCatLookupAndReference_es:"Búsqueda y referencia",sCatMathematic_es:"Matemáticas y trigonometría",sCatStatistical_es:"Estadístico",sCatTextAndData_es:"Texto y datos",sCatLogical_fr:"Logique",sCatDateAndTime_fr:"Date et heure",sCatEngineering_fr:"Ingénierie",sCatFinancial_fr:"Financier",sCatInformation_fr:"Information",sCatLookupAndReference_fr:"Recherche et référence",sCatMathematic_fr:"Maths et trigonométrie",sCatStatistical_fr:"Statistiques",sCatTextAndData_fr:"Texte et données",sCatLogical_pl:"Logiczny",sCatDateAndTime_pl:"Data i czas",sCatEngineering_pl:"Inżyniera",sCatFinancial_pl:"Finansowe",sCatInformation_pl:"Informacja",sCatLookupAndReference_pl:"Wyszukiwanie i odniesienie",sCatMathematic_pl:"Matematyczne i trygonometryczne",sCatStatistical_pl:"Statystyczny",sCatTextAndData_pl:"Tekst i data",sCatDateAndTime_de:"Datum und Uhrzeit",sCatEngineering_de:"Konstruktion",sCatFinancial_de:"Finanzmathematik",sCatInformation_de:"Information",sCatLogical_de:"Logisch",sCatLookupAndReference_de:"Suchen und Bezüge",sCatMathematic_de:"Mathematik und Trigonometrie",sCatStatistical_de:"Statistik",sCatTextAndData_de:"Text und Daten"}}(),SSE.Views.AddFunction||{}))}),define("text!spreadsheeteditor/mobile/resources/l10n/functions/en.json",[],function(){return'{"DATE":"DATE","DATEDIF":"DATEDIF","DATEVALUE":"DATEVALUE","DAY":"DAY","DAYS":"DAYS","DAYS360":"DAYS360","EDATE":"EDATE","EOMONTH":"EOMONTH","HOUR":"HOUR","ISOWEEKNUM":"ISOWEEKNUM","MINUTE":"MINUTE","MONTH":"MONTH","NETWORKDAYS":"NETWORKDAYS","NETWORKDAYS.INTL":"NETWORKDAYS.INTL","NOW":"NOW","SECOND":"SECOND","TIME":"TIME","TIMEVALUE":"TIMEVALUE","TODAY":"TODAY","WEEKDAY":"WEEKDAY","WEEKNUM":"WEEKNUM","WORKDAY":"WORKDAY","WORKDAY.INTL":"WORKDAY.INTL","YEAR":"YEAR","YEARFRAC":"YEARFRAC","BESSELI":"BESSELI","BESSELJ":"BESSELJ","BESSELK":"BESSELK","BESSELY":"BESSELY","BIN2DEC":"BIN2DEC","BIN2HEX":"BIN2HEX","BIN2OCT":"BIN2OCT","BITAND":"BITAND","BITLSHIFT":"BITLSHIFT","BITOR":"BITOR","BITRSHIFT":"BITRSHIFT","BITXOR":"BITXOR","COMPLEX":"COMPLEX","CONVERT":"CONVERT","DEC2BIN":"DEC2BIN","DEC2HEX":"DEC2HEX","DEC2OCT":"DEC2OCT","DELTA":"DELTA","ERF":"ERF","ERF.PRECISE":"ERFC.PRECISE","ERFC":"ERFC","ERFC.PRECISE":"ERFC.PRECISE","GESTEP":"GESTEP","HEX2BIN":"HEX2BIN","HEX2DEC":"HEX2DEC","HEX2OCT":"HEX2OCT","IMABS":"IMABS","IMAGINARY":"IMAGINARY","IMARGUMENT":"IMARGUMENT","IMCONJUGATE":"IMCONJUGATE","IMCOS":"IMCOS","IMCOSH":"IMCOSH","IMCOT":"IMCOT","IMCSC":"IMCSC","IMCSCH":"IMCSCH","IMDIV":"IMDIV","IMEXP":"IMEXP","IMLN":"IMLN","IMLOG10":"IMLOG10","IMLOG2":"IMLOG2","IMPOWER":"IMPOWER","IMPRODUCT":"IMPRODUCT","IMREAL":"IMREAL","IMSEC":"IMSEC","IMSECH":"IMSECH","IMSIN":"IMSIN","IMSINH":"IMSINH","IMSQRT":"IMSQRT","IMSUB":"IMSUB","IMSUM":"IMSUM","IMTAN":"IMTAN","OCT2BIN":"OCT2BIN","OCT2DEC":"OCT2DEC","OCT2HEX":"OCT2HEX","DAVERAGE":"DAVERAGE","DCOUNT":"DCOUNT","DCOUNTA":"DCOUNTA","DGET":"DGET","DMAX":"DMAX","DMIN":"DMIN","DPRODUCT":"DPRODUCT","DSTDEV":"DSTDEV","DSTDEVP":"DSTDEVP","DSUM":"DSUM","DVAR":"DVAR","DVARP":"DVARP","CHAR":"CHAR","CLEAN":"CLEAN","CODE":"CODE","CONCATENATE":"CONCATENATE","CONCAT":"CONCAT","DOLLAR":"DOLLAR","EXACT":"EXACT","FIND":"FIND","FINDB":"FINDB","FIXED":"FIXED","LEFT":"LEFT","LEFTB":"LEFTB","LEN":"LEN","LENB":"LENB","LOWER":"LOWER","MID":"MID","MIDB":"MIDB","NUMBERVALUE":"NUMBERVALUE","PROPER":"PROPER","REPLACE":"REPLACE","REPLACEB":"REPLACEB","REPT":"REPT","RIGHT":"RIGHT","RIGHTB":"RIGHTB","SEARCH":"SEARCH","SEARCHB":"SEARCHB","SUBSTITUTE":"SUBSTITUTE","T":"Т","T.TEST":"T.TEST","TEXT":"TEXT","TEXTJOIN":"TEXTJOIN","TRIM":"TRIM","TRIMMEAN":"TRIMMEAN","TTEST":"TTEST","UNICHAR":"UNICHAR","UNICODE":"UNICODE","UPPER":"UPPER","VALUE":"VALUE","AVEDEV":"AVEDEV","AVERAGE":"AVERAGE","AVERAGEA":"AVERAGEA","AVERAGEIF":"AVERAGEIF","AVERAGEIFS":"AVERAGEIFS","BETADIST":"BETADIST","BETA.DIST":"BETA.DIST","BETA.INV":"BETAINV","BINOMDIST":"BINOMDIST","BINOM.DIST":"BINOM.DIST","BINOM.DIST.RANGE":"BINOM.DIST.RANGE","BINOM.INV":"BINOM.INV","CHIDIST":"CHIDIST","CHIINV":"CHIINV","CHITEST":"CHITEST","CHISQ.DIST":"CHISQ.DIST","CHISQ.DIST.RT":"CHISQ.DIST.RT","CHISQ.INV":"CHISQ.INV","CHISQ.INV.RT":"CHISQ.INV.RT","CHISQ.TEST":"CHISQ.TEST","CONFIDENCE":"CONFIDENCE","CONFIDENCE.NORM":"CONFIDENCE.NORM","CONFIDENCE.T":"CONFIDENCE.T","CORREL":"CORREL","COUNT":"COUNT","COUNTA":"COUNTA","COUNTBLANK":"COUNTBLANK","COUNTIF":"COUNTIF","COUNTIFS":"COUNTIFS","COVAR":"COVAR","COVARIANCE.P":"COVARIANCE.P","COVARIANCE.S":"COVARIANCE.S","CRITBINOM":"CRITBINOM","DEVSQ":"DEVSQ","EXPON.DIST":"EXPON.DIST","EXPONDIST":"EXPONDIST","FDIST":"FDIST","FINV":"FINV","FTEST":"FTEST","F.DIST":"F.DIST","F.DIST.RT":"FDIST.RT","F.INV":"F.INV","F.INV.RT":"F.INV.RT","F.TEST":"F.TEST","FISHER":"FISHER","FISHERINV":"FISHERINV","FORECAST":"FORECAST","FORECAST.ETS":"FORECAST.ETS","FORECAST.ETS.CONFINT":"FORECAST.ETS.CONFINT","FORECAST.ETS.SEASONALITY":"FORECAST.ETS.SEASONALITY","FORECAST.ETS.STAT":"FORECAST.ETS.STAT","FORECAST.LINEAR":"FORECAST.LINEAR","FREQUENCY":"FREQUENCY","GAMMA":"GAMMA","GAMMADIST":"GAMMADIST","GAMMA.DIST":"GAMMA.DIST","GAMMAINV":"GAMMAINV","GAMMA.INV":"GAMMA.INV","GAMMALN":"GAMMALN","GAMMALN.PRECISE":"GAMMALN.PRECISE","GAUSS":"GAUSS","GEOMEAN":"GEOMEAN","HARMEAN":"HARMEAN","HYPGEOM.DIST":"HYPGEOM.DIST","HYPGEOMDIST":"HYPGEOMDIST","INTERCEPT":"INTERCEPT","KURT":"KURT","LARGE":"LARGE","LOGINV":"LOGINV","LOGNORM.DIST":"LOGNORM.DIST","LOGNORM.INV":"LOGNORM.INV","LOGNORMDIST":"LOGNORMDIST","MAX":"MAX","MAXA":"MAXA","MAXIFS":"MAXIFS","MEDIAN":"MEDIAN","MIN":"MIN","MINA":"MINA","MINIFS":"MINIFS","MODE":"MODE","MODE.MULT":"MODE.MULT","MODE.SNGL":"MODE.SNGL","NEGBINOM.DIST":"NEGBINOM.DIST","NEGBINOMDIST":"NEGBINOMDIST","NORM.DIST":"NORM.DIST","NORM.INV":"NORM.INV","NORM.S.DIST":"NORM.S.DIST","NORM.S.INV":"NORM.S.INV","NORMDIST":"NORMDIST","NORMINV":"NORMINV","NORMSDIST":"NORMSDIST","NORMSINV":"NORMSINV","PEARSON":"PEARSON","PERCENTILE":"PERCENTILE","PERCENTILE.EXC":"PERCENTILE.EXC","PERCENTILE.INC":"PERCENTILE.INC","PERCENTRANK":"PERCENTRANK","PERCENTRANK.EXC":"PERCENTRANK.EXC","PERCENTRANK.INC":"PERCENTRANK.INC","PERMUT":"PERMUT","PERMUTATIONA":"PERMUTATIONA","PHI":"PHI","POISSON":"POISSON","POISSON.DIST":"POISSON.DIST","PROB":"PROB","QUARTILE":"QUARTILE","QUARTILE.INC":"QUARTILE.INC","QUARTILE.EXC":"QUARTILE.EXC","RANK.AVG":"RANK.AVG","RANK.EQ":"RANK.EQ","RANK":"RANK","RSQ":"RSQ","SKEW":"SKEW","SKEW.P":"SKEW.P","SLOPE":"SLOPE","SMALL":"SMALL","STANDARDIZE":"STANDARDIZE","STDEV":"STDEV","STDEV.P":"STDEV.P","STDEV.S":"STDEV.S","STDEVA":"STDEVA","STDEVP":"STDEVP","STDEVPA":"STDEVPA","STEYX":"STEYX","TDIST":"TDIST","TINV":"TINV","T.DIST":"T.DIST","T.DIST.2T":"T.DIST.2T","T.DIST.RT":"T.DIST.RT","T.INV":"T.INV","T.INV.2T":"T.INV.2T","VAR":"VAR","VAR.P":"VAR.P","VAR.S":"VAR.S","VARA":"VARA","VARP":"VARP","VARPA":"VARPA","WEIBULL":"WEIBULL","WEIBULL.DIST":"WEIBULL.DIST","Z.TEST":"Z.TEST","ZTEST":"ZTEST","ACCRINT":"ACCRINT","ACCRINTM":"ACCRINTM","AMORDEGRC":"AMORDEGRC","AMORLINC":"AMORLINC","COUPDAYBS":"COUPDAYBS","COUPDAYS":"COUPDAYS","COUPDAYSNC":"COUPDAYSNC","COUPNCD":"COUPNCD","COUPNUM":"COUPNUM","COUPPCD":"COUPPCD","CUMIPMT":"CUMIPMT","CUMPRINC":"CUMPRINC","DB":"DB","DDB":"DDB","DISC":"DISC","DOLLARDE":"DOLLARDE","DOLLARFR":"DOLLARFR","DURATION":"DURATION","EFFECT":"EFFECT","FV":"FV","FVSCHEDULE":"FVSCHEDULE","INTRATE":"INTRATE","IPMT":"IPMT","IRR":"IRR","ISPMT":"ISPMT","MDURATION":"MDURATION","MIRR":"MIRR","NOMINAL":"NOMINAL","NPER":"NPER","NPV":"NPV","ODDFPRICE":"ODDFPRICE","ODDFYIELD":"ODDFYIELD","ODDLPRICE":"ODDLPRICE","ODDLYIELD":"ODDLYIELD","PDURATION":"PDURATION","PMT":"PMT","PPMT":"PPMT","PRICE":"PRICE","PRICEDISC":"PRICEDISC","PRICEMAT":"PRICEMAT","PV":"PV","RATE":"RATE","RECEIVED":"RECEIVED","RRI":"RRI","SLN":"SLN","SYD":"SYD","TBILLEQ":"TBILLEQ","TBILLPRICE":"TBILLPRICE","TBILLYIELD":"TBILLYIELD","VDB":"VDB","XIRR":"XIRR","XNPV":"XNPV","YIELD":"YIELD","YIELDDISC":"YIELDDISC","YIELDMAT":"YIELDMAT","ABS":"ABS","ACOS":"ACOS","ACOSH":"ACOSH","ACOT":"ACOT","ACOTH":"ACOTH","AGGREGATE":"AGGREGATE","ARABIC":"ARABIC","ASIN":"ASIN","ASINH":"ASINH","ATAN":"ATAN","ATAN2":"ATAN2","ATANH":"ATANH","BASE":"BASE","CEILING":"CEILING","CEILING.MATH":"CEILING.MATH","CEILING.PRECISE":"CEILING.PRESIZE","COMBIN":"COMBIN","COMBINA":"COMBINA","COS":"COS","COSH":"COSH","COT":"COT","COTH":"COTH","CSC":"CSC","CSCH":"CSCH","DECIMAL":"DECIMAL","DEGREES":"DEGREES","ECMA.CEILING":"ECMA.CEILING","EVEN":"EVEN","EXP":"EXP","FACT":"FACT","FACTDOUBLE":"FACTDOUBLE","FLOOR":"FLOOR","FLOOR.PRECISE":"FLOOR.PRECISE","FLOOR.MATH":"FLOOR.MATH","GCD":"GCD","INT":"INT","ISO.CEILING":"ISO.CEILING","LCM":"LCM","LN":"LN","LOG":"LOG","LOG10":"LOG10","MDETERM":"MDETERM","MINVERSE":"MINVERSE","MMULT":"MMULT","MOD":"MOD","MROUND":"MROUND","MULTINOMIAL":"MULTINOMIAL","ODD":"ODD","PI":"PI","POWER":"POWER","PRODUCT":"PRODUCT","QUOTIENT":"QUOTIENT","RADIANS":"RADIANS","RAND":"RAND","RANDBETWEEN":"RANDBETWEEN","ROMAN":"ROMAN","ROUND":"ROUND","ROUNDDOWN":"ROUNDDOWN","ROUNDUP":"ROUNDUP","SEC":"SEC","SECH":"SECH","SERIESSUM":"SERIESSUM","SIGN":"SIGN","SIN":"SIN","SINH":"SINH","SQRT":"SQRT","SQRTPI":"SQRTPI","SUBTOTAL":"SUBTOTAL","SUM":"SUM","SUMIF":"SUMIF","SUMIFS":"SUMIFS","SUMPRODUCT":"SUMPRODUCT","SUMSQ":"SUMSQ","SUMX2MY2":"SUMX2MY2","SUMX2PY2":"SUMX2PY2","SUMXMY2":"SUMXMY2","TAN":"TAN","TANH":"TANH","TRUNC":"TRUNC","ADDRESS":"ADDRESS","CHOOSE":"CHOOSE","COLUMN":"COLUMN","COLUMNS":"COLUMNS","FORMULATEXT":"FORMULATEXT","HLOOKUP":"HLOOKUP","INDEX":"INDEX","INDIRECT":"INDIRECT","LOOKUP":"LOOKUP","MATCH":"MATCH","OFFSET":"OFFSET","ROW":"ROW","ROWS":"ROWS","TRANSPOSE":"TRANSPOSE","VLOOKUP":"VLOOKUP","ERROR.TYPE":"ERROR.TYPE","ISBLANK":"ISBLANK","ISERR":"ISERR","ISERROR":"ISERROR","ISEVEN":"ISEVEN","ISFORMULA":"ISFORMULA","ISLOGICAL":"ISLOGICAL","ISNA":"ISNA","ISNONTEXT":"ISNONTEXT","ISNUMBER":"ISNUMBER","ISODD":"ISODD","ISREF":"ISREF","ISTEXT":"ISTEXT","N":"N","NA":"NA","SHEET":"SHEET","SHEETS":"SHEETS","TYPE":"TYPE","AND":"AND","FALSE":"FALSE","IF":"IF","IFS":"IFS","IFERROR":"IFERROR","IFNA":"IFNA","NOT":"NOT","OR":"OR","SWITCH":"SWITCH","TRUE":"TRUE","XOR":"XOR","LocalFormulaOperands":{"StructureTables":{"h":"Headers","d":"Data","a":"All","tr":"This row","t":"Totals"},"CONST_TRUE_FALSE":{"t":"TRUE","f":"FALSE"},"CONST_ERROR":{"nil":"#NULL!","div":"#DIV/0!","value":"#VALUE!","ref":"#REF!","name":"#NAME\\\\?","num":"#NUM!","na":"#N/A","getdata":"#GETTING_DATA","uf":"#UNSUPPORTED_FUNCTION!"}}}'}),define("text!spreadsheeteditor/mobile/resources/l10n/functions/en_desc.json",[],function(){
return'{"DATE":{"a":"( year, month, day )","d":"Date and time function used to add dates in the default format MM/dd/yyyy"},"DATEDIF":{"a":"( start-date , end-date , unit )","d":"Date and time function used to return the difference between two date values (start date and end date), based on the interval (unit) specified"},"DATEVALUE":{"a":"( date-time-string )","d":"Date and time function used to return a serial number of the specified date"},"DAY":{"a":"( date-value )","d":"Date and time function which returns the day (a number from 1 to 31) of the date given in the numerical format (MM/dd/yyyy by default)"},"DAYS":{"a":"( end-date , start-date )","d":"Date and time function used to return the number of days between two dates"},"DAYS360":{"a":"( start-date , end-date [ , method-flag ] )","d":"Date and time function used to return the number of days between two dates (start-date and end-date) based on a 360-day year using one of the calculation method (US or European)"},"EDATE":{"a":"( start-date , month-offset )","d":"Date and time function used to return the serial number of the date which comes the indicated number of months (month-offset) before or after the specified date (start-date)"},"EOMONTH":{"a":"( start-date , month-offset )","d":"Date and time function used to return the serial number of the last day of the month that comes the indicated number of months before or after the specified start date"},"HOUR":{"a":"( time-value )","d":"Date and time function which returns the hour (a number from 0 to 23) of the time value"},"ISOWEEKNUM":{"a":"( date )","d":"Date and time function used to return number of the ISO week number of the year for a given date"},"MINUTE":{"a":"( time-value )","d":"Date and time function which returns the minute (a number from 0 to 59) of the time value"},"MONTH":{"a":"( date-value )","d":"Date and time function which returns the month (a number from 1 to 12) of the date given in the numerical format (MM/dd/yyyy by default)"},"NETWORKDAYS":{"a":"( start-date , end-date [ , holidays ] )","d":"Date and time function used to return the number of the work days between two dates (start date and end-date) excluding weekends and dates considered as holidays"},"NETWORKDAYS.INTL":{"a":"( start_date , end_date , [ , weekend ] , [ , holidays ] )","d":"Date and time function used to return the number of whole workdays between two dates using parameters to indicate which and how many days are weekend days"},"NOW":{"a":"()","d":"Date and time function used to return the serial number of the current date and time; if the cell format was General before the function was entered, the application changes the cell format so that it matches the date and time format of your regional settings"},"SECOND":{"a":"( time-value )","d":"Date and time function which returns the second (a number from 0 to 59) of the time value"},"TIME":{"a":"( hour, minute, second )","d":"Date and time function used to add a particular time in the selected format (hh:mm tt by default)"},"TIMEVALUE":{"a":"( date-time-string )","d":"Date and time function used to return the serial number of a time"},"TODAY":{"a":"()","d":"Date and time function used to add the current day in the following format MM/dd/yy. This function does not require an argument"},"WEEKDAY":{"a":"( serial-value [ , weekday-start-flag ] )","d":"Date and time function used to determine which day of the week the specified date is"},"WEEKNUM":{"a":"( serial-value [ , weekday-start-flag ] )","d":"Date and time function used to return the number of the week the specified date falls within the year"},"WORKDAY":{"a":"( start-date , day-offset [ , holidays ] )","d":"Date and time function used to return the date which comes the indicated number of days (day-offset) before or after the specified start date excluding weekends and dates considered as holidays"},"WORKDAY.INTL":{"a":"( start_date , days , [ , weekend ] , [ , holidays ] )","d":"Date and time function used to return the serial number of the date before or after a specified number of workdays with custom weekend parameters; weekend parameters indicate which and how many days are weekend days"},"YEAR":{"a":"( date-value )","d":"Date and time function which returns the year (a number from 1900 to 9999) of the date given in the numerical format (MM/dd/yyyy by default)"},"YEARFRAC":{"a":"(  start-date , end-date [ , basis ] )","d":"Date and time function used to return the fraction of a year represented by the number of whole days from start-date to end-date calculated on the specified basis"},"BESSELI":{"a":"( X , N )","d":"Engineering function used to return the modified Bessel function, which is equivalent to the Bessel function evaluated for purely imaginary arguments"},"BESSELJ":{"a":"( X , N )","d":"Engineering function used to return the Bessel function"},"BESSELK":{"a":"( X , N )","d":"Engineering function used to return the modified Bessel function, which is equivalent to the Bessel functions evaluated for purely imaginary arguments"},"BESSELY":{"a":"( X , N )","d":"Engineering function used to return the Bessel function, which is also called the Weber function or the Neumann function"},"BIN2DEC":{"a":"( number )","d":"Engineering function used to convert a binary number into a decimal number"},"BIN2HEX":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a binary number into a hexadecimal number"},"BIN2OCT":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a binary number into an octal number"},"BITAND":{"a":"( number1 , number2 )","d":"Engineering function used to return a bitwise \'AND\' of two numbers"},"BITLSHIFT":{"a":"( number, shift_amount )","d":"Engineering function used to return a number shifted left by the specified number of bits"},"BITOR":{"a":"( number1, number2 )","d":"Engineering function used to return a bitwise \'OR\' of two numbers"},"BITRSHIFT":{"a":"( number, shift_amount )","d":"Engineering function used to return a number shifted right by the specified number of bits"},"BITXOR":{"a":"( number1, number2 )","d":"Engineering function used to return a bitwise \'XOR\' of two numbers"},"COMPLEX":{"a":"( real-number , imaginary-number [ , suffix ] )","d":"Engineering function used to convert a real part and an imaginary part into the complex number expressed in a + bi or a + bj form"},"CONVERT":{"a":"( number , from-unit , to-unit )","d":"Engineering function used to convert a number from one measurement system to another; for example, CONVERT can translate a table of distances in miles to a table of distances in kilometers"},"DEC2BIN":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a decimal number into a binary number"},"DEC2HEX":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a decimal number into a hexadecimal number"},"DEC2OCT":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a decimal number into an octal number"},"DELTA":{"a":"( number-1 [ , number-2 ] )","d":"Engineering function used to test if two numbers are equal. The function returns 1 if the numbers are equal and 0 otherwise"},"ERF":{"a":"( lower-bound [ , upper-bound ] )","d":"Engineering function used to calculate the error function integrated between the specified lower and upper limits"},"ERF.PRECISE":{"a":"( x )","d":"Engineering function used to returns the error function"},"ERFC":{"a":"( lower-bound )","d":"Engineering function used to calculate the complementary error function integrated between the specified lower limit and infinity"},"ERFC.PRECISE":{"a":"( x )","d":"Engineering function used to return the complementary ERF function integrated between x and infinity"},"GESTEP":{"a":"( number [ , step ] )","d":"Engineering function used to test if a number is greater than a threshold value. The function returns 1 if the number is greater than or equal to the threshold value and 0 otherwise"},"HEX2BIN":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a hexadecimal number to a binary number"},"HEX2DEC":{"a":"( number )","d":"Engineering function used to convert a hexadecimal number into a decimal number"},"HEX2OCT":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert a hexadecimal number to an octal number"},"IMABS":{"a":"( complex-number )","d":"Engineering function used to return the absolute value of a complex number"},"IMAGINARY":{"a":"( complex-number )","d":"Engineering function used to return the imaginary part of the specified complex number"},"IMARGUMENT":{"a":"( complex-number )","d":"Engineering function used to return the argument Theta, an angle expressed in radians"},"IMCONJUGATE":{"a":"( complex-number )","d":"Engineering function used to return the complex conjugate of a complex number"},"IMCOS":{"a":"( complex-number )","d":"Engineering function used to return the cosine of a complex number"},"IMCOSH":{"a":"( complex-number )","d":"Engineering function used to return the hyperbolic cosine of a complex number"},"IMCOT":{"a":"( complex-number )","d":"Engineering function used to return the cotangent of a complex number"},"IMCSC":{"a":"( complex-number )","d":"Engineering function used to return the cosecant of a complex number"},"IMCSCH":{"a":"( complex-number )","d":"Engineering function used to return the hyperbolic cosecant of a complex number"},"IMDIV":{"a":"( complex-number-1 , complex-number-2 )","d":"Engineering function used to return the quotient of two complex numbers expressed in a + bi or a + bj form"},"IMEXP":{"a":"( complex-number )","d":"Engineering function used to return the e constant raised to the to the power specified by a complex number. The e constant is equal to 2,71828182845904"},"IMLN":{"a":"( complex-number )","d":"Engineering function used to return the natural logarithm of a complex number"},"IMLOG10":{"a":"( complex-number )","d":"Engineering function used to return the logarithm of a complex number to a base of 10"},"IMLOG2":{"a":"( complex-number )","d":"Engineering function used to return the logarithm of a complex number to a base of 2"},"IMPOWER":{"a":"( complex-number, power )","d":"Engineering function used to return the result of a complex number raised to the desired power"},"IMPRODUCT":{"a":"( argument-list )","d":"Engineering function used to return the product of the specified complex numbers"},"IMREAL":{"a":"( complex-number )","d":"Engineering function used to return the real part of the specified complex number"},"IMSEC":{"a":"( complex-number )","d":"Engineering function used to return the secant of a complex number"},"IMSECH":{"a":"( complex-number )","d":"Engineering function used to return the hyperbolic secant of a complex number"},"IMSIN":{"a":"( complex-number )","d":"Engineering function used to return the sine of a complex number"},"IMSINH":{"a":"( complex-number )","d":"Engineering function used to return the hyperbolic sine of a complex number"},"IMSQRT":{"a":"( complex-number )","d":"Engineering function used to return the square root of a complex number"},"IMSUB":{"a":"( complex-number-1 , complex-number-2 )","d":"Engineering function used to return the difference of two complex numbers expressed in a + bi or a + bj form"},"IMSUM":{"a":"( argument-list )","d":"Engineering function used to return the sum of the specified complex numbers"},"IMTAN":{"a":"( complex-number )","d":"Engineering function used return to the tangent of a complex number"},"OCT2BIN":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert an octal number to a binary number"},"OCT2DEC":{"a":"( number )","d":"Engineering function used to convert an octal number to a decimal number"},"OCT2HEX":{"a":"( number [ , num-hex-digits ] )","d":"Engineering function used to convert an octal number to a hexadecimal number"},"DAVERAGE":{"a":"( database , field , criteria )","d":"Database function used to average the values in a field (column) of records in a list or database that match conditions you specify"},"DCOUNT":{"a":"( database , field , criteria )","d":"Database function used to count the cells that contain numbers in a field (column) of records in a list or database that match conditions that you specify"},"DCOUNTA":{"a":"( database , field , criteria )","d":"Database function used to count the nonblank cells in a field (column) of records in a list or database that match conditions that you specify"},"DGET":{"a":"( database , field , criteria )","d":"Database function used to extract a single value from a column of a list or database that matches conditions that you specify"},"DMAX":{"a":"( database , field , criteria )","d":"Database function used to return the largest number in a field (column) of records in a list or database that matches conditions you that specify"},"DMIN":{"a":"( database , field , criteria )","d":"Database function used to return the smallest number in a field (column) of records in a list or database that matches conditions that you specify"},"DPRODUCT":{"a":"( database , field , criteria )","d":"Database function used to multiplie the values in a field (column) of records in a list or database that match conditions that you specify"},"DSTDEV":{"a":"( database , field , criteria )","d":"Database function used to estimate the standard deviation of a population based on a sample by using the numbers in a field (column) of records in a list or database that match conditions that you specify"},"DSTDEVP":{"a":"( database , field , criteria )","d":"Database function used to calculate the standard deviation of a population based on the entire population by using the numbers in a field (column) of records in a list or database that match conditions that you specify"},"DSUM":{"a":"( database , field , criteria )","d":"Database function used to add the numbers in a field (column) of records in a list or database that match conditions that you specify"},"DVAR":{"a":"( database , field , criteria )","d":"Database function used to estimates the variance of a population based on a sample by using the numbers in a field (column) of records in a list or database that match conditions that you specify"},"DVARP":{"a":"( database , field , criteria )","d":"Database function used to calculate the variance of a population based on the entire population by using the numbers in a field (column) of records in a list or database that match conditions that you specify"},"CHAR":{"a":"( number )","d":"Text and data function used to return the ASCII character specified by a number"},"CLEAN":{"a":"( string )","d":"Text and data function used to remove all the nonprintable characters from the selected string"},"CODE":{"a":"( string )","d":"Text and data function used to return the ASCII value of the specified character or the first character in a cell"},"CONCATENATE":{"a":"(text1, text2, ...)","d":"Text and data function used to combine the data from two or more cells into a single one"},"CONCAT":{"a":"(text1, text2, ...)","d":"Text and data function used to combine the data from two or more cells into a single one. This function replaces the CONCATENATE function."},"DOLLAR":{"a":"( number [ , num-decimal ] )","d":"Text and data function used to convert a number to text, using a currency format $#.##"},"EXACT":{"a":"(text1, text2)","d":"Text and data function used to compare data in two cells. The function returns TRUE if the data are the same, and FALSE if not"},"FIND":{"a":"( string-1 , string-2 [ , start-pos ] )","d":"Text and data function used to find the specified substring (string-1) within a string (string-2) and is intended for languages that use the single-byte character set (SBCS)"},"FINDB":{"a":"( string-1 , string-2 [ , start-pos ] )","d":"Text and data function used to find the specified substring (string-1) within a string (string-2) and is intended for languages the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"FIXED":{"a":"( number [ , [ num-decimal ] [ , suppress-commas-flag ] ] )","d":"Text and data function used to return the text representation of a number rounded to a specified number of decimal places"},"LEFT":{"a":"( string [ , number-chars ] )","d":"Text and data function used to extract the substring from the specified string starting from the left character and is intended for languages that use the single-byte character set (SBCS)"},"LEFTB":{"a":"( string [ , number-chars ] )","d":"Text and data function used to extract the substring from the specified string starting from the left character and is intended for languages that use the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"LEN":{"a":"( string )","d":"Text and data function used to analyse the specified string and return the number of characters it contains and is intended for languages that use the single-byte character set (SBCS)"},"LENB":{"a":"( string )","d":"Text and data function used to analyse the specified string and return the number of characters it contains and is intended for languages that use the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"LOWER":{"a":"(text)","d":"Text and data function used to convert uppercase letters to lowercase in the selected cell"},"MID":{"a":"( string , start-pos , number-chars )","d":"Text and data function used to extract the characters from the specified string starting from any position and is intended for languages that use the single-byte character set (SBCS)"},"MIDB":{"a":"( string , start-pos , number-chars )","d":"Text and data function used to extract the characters from the specified string starting from any position and is intended for languages that use the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"NUMBERVALUE":{"a":"( text , [ , [ decimal-separator ] [ , [ group-separator ] ] )","d":"Text and data function used to convert text to a number, in a locale-independent way"},"PROPER":{"a":"( string )","d":"Text and data function used to convert the first character of each word to uppercase and all the remaining characters to lowercase"},"REPLACE":{"a":"( string-1, start-pos, number-chars, string-2 )","d":"Text and data function used to replace a set of characters, based on the number of characters and the start position you specify, with a new set of characters and is intended for languages that use the single-byte character set (SBCS)"},"REPLACEB":{"a":"( string-1, start-pos, number-chars, string-2 )","d":"Text and data function used to replace a set of characters, based on the number of characters and the start position you specify, with a new set of characters and is intended for languages that use the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"REPT":{"a":"(text, number_of_times)","d":"Text and data function used to repeat the data in the selected cell as many time as you wish"},"RIGHT":{"a":"( string [ , number-chars ] )","d":"Text and data function used to extract a substring from a string starting from the right-most character, based on the specified number of characters and is intended for languages that use the single-byte character set (SBCS)"},"RIGHTB":{"a":"( string [ , number-chars ] )","d":"Text and data function used to extract a substring from a string starting from the right-most character, based on the specified number of characters and is intended for languages that use the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"SEARCH":{"a":"( string-1 , string-2 [ , start-pos ] )","d":"Text and data function used to return the location of the specified substring in a string and is intended for languages that use the single-byte character set (SBCS)"},"SEARCHB":{"a":"( string-1 , string-2 [ , start-pos ] )","d":"Text and data function used to return the location of the specified substring in a string and is intended for languages that use the double-byte character set (DBCS) like Japanese, Chinese, Korean etc."},"SUBSTITUTE":{"a":"( string , old-string , new-string [ , occurence ] )","d":"Text and data function used to replace a set of characters with a new one"},"T":{"a":"( value )","d":"Text and data function used to check whether the value in the cell (or used as argument) is text or not. In case it is not text, the function returns blank result. In case the value/argument is text, the function returns the same text value"},"TEXT":{"a":"( value , format )","d":"Text and data function used to convert a value to a text in the specified format"},"TEXTJOIN":{"a":"( delimiter , ignore_empty , text1 [ , text2 ] , … )","d":"Text and data function used to combine the text from multiple ranges and/or strings, and includes a delimiter you specify between each text value that will be combined; if the delimiter is an empty text string, this function will effectively concatenate the ranges"},"TRIM":{"a":"( string )","d":"Text and data function used to remove the leading and trailing spaces from a string"},"UNICHAR":{"a":"( number )","d":"Text and data function used to return the Unicode character that is referenced by the given numeric value."},"UNICODE":{"a":"( text )","d":"Text and data function used to return the number (code point) corresponding to the first character of the text"},"UPPER":{"a":"(text)","d":"Text and data function used to convert lowercase letters to uppercase in the selected cell"},"VALUE":{"a":"( string )","d":"Text and data function used to convert a text value that represents a number to a number. If the converted text is not a number, the function will return a #VALUE! error"},"AVEDEV":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the average of the absolute deviations of numbers from their mean"},"AVERAGE":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and find the average value"},"AVERAGEA":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data including text and logical values and find the average value. The AVERAGEA function treats text and FALSE as a value of 0 and TRUE as a value of 1"},"AVERAGEIF":{"a":"( cell-range, selection-criteria [ , average-range ] )","d":"Statistical function used to analyze the range of data and find the average value of all numbers in a range of cells, based on the specified criterion"},"AVERAGEIFS":{"a":"( average-range, criteria-range-1, criteria-1 [ criteria-range-2, criteria-2 ], ... )","d":"Statistical function used to analyze the range of data and find the average value of all numbers in a range of cells, based on the multiple criterions"},"BETADIST":{"a":" ( x , alpha , beta , [ , [ A ] [ , [ B ] ] ) ","d":"Statistical function used to return the cumulative beta probability density function"},"BETA.DIST":{"a":" ( x , alpha , beta , cumulative , [ , [ A ] [ , [ B ] ] ) ","d":"Statistical function used to return the beta distribution"},"BETA.INV":{"a":" ( probability , alpha , beta , [ , [ A ] [ , [ B ] ] ) ","d":"Statistical function used to return the inverse of the beta cumulative probability density function"},"BINOMDIST":{"a":"( number-successes , number-trials , success-probability , cumulative-flag )","d":"Statistical function used to return the individual term binomial distribution probability"},"BINOM.DIST":{"a":"( number-s , trials , probability-s , cumulative )","d":"Statistical function used to return the individual term binomial distribution probability"},"BINOM.DIST.RANGE":{"a":"( trials , probability-s , number-s [ , number-s2 ] )","d":"Statistical function used to return the probability of a trial result using a binomial distribution"},"BINOM.INV":{"a":"( trials , probability-s , alpha )","d":"Statistical function used to return the smallest value for which the cumulative binomial distribution is greater than or equal to a criterion value"},"CHIDIST":{"a":"( x , deg-freedom )","d":"Statistical function used to return the right-tailed probability of the chi-squared distribution"},"CHIINV":{"a":"( probability , deg-freedom )","d":"Statistical function used to return the inverse of the right-tailed probability of the chi-squared distribution"},"CHITEST":{"a":"( actual-range , expected-range )","d":"Statistical function used to return the test for independence, value from the chi-squared (χ2) distribution for the statistic and the appropriate degrees of freedom"},"CHISQ.DIST":{"a":"( x , deg-freedom , cumulative )","d":"Statistical function used to return the chi-squared distribution"},"CHISQ.DIST.RT":{"a":"( x , deg-freedom )","d":"Statistical function used to return the right-tailed probability of the chi-squared distribution"},"CHISQ.INV":{"a":"( probability , deg-freedom )","d":"Statistical function used to return the inverse of the left-tailed probability of the chi-squared distribution"},"CHISQ.INV.RT":{"a":"( probability , deg-freedom )","d":"Statistical function used to return the inverse of the right-tailed probability of the chi-squared distribution"},"CHISQ.TEST":{"a":"( actual-range , expected-range )","d":"Statistical function used to return the test for independence, value from the chi-squared (χ2) distribution for the statistic and the appropriate degrees of freedom"},"CONFIDENCE":{"a":"( alpha , standard-dev , size )","d":"Statistical function used to return the confidence interval"},"CONFIDENCE.NORM":{"a":"( alpha , standard-dev , size )","d":"Statistical function used to return the confidence interval for a population mean, using a normal distribution"},"CONFIDENCE.T":{"a":"( alpha , standard-dev , size )","d":"Statistical function used to return the confidence interval for a population mean, using a Student\'s t distribution"},"CORREL":{"a":"( array-1 , array-2 )","d":"Statistical function used to analyze the range of data and return the correlation coefficient of two range of cells"},"COUNT":{"a":"( argument-list )","d":"Statistical function used to count the number of the selected cells which contain numbers ignoring empty cells or those contaning text"},"COUNTA":{"a":"( argument-list )","d":"Statistical function used to analyze the range of cells and count the number of cells that are not empty"},"COUNTBLANK":{"a":"( argument-list )","d":"Statistical function used to analyze the range of cells and return the number of the empty cells"},"COUNTIF":{"a":"( cell-range, selection-criteria )","d":"Statistical function used to count the number of the selected cells based on the specified criterion"},"COUNTIFS":{"a":"( criteria-range-1, criteria-1, [ criteria-range-2, criteria-2 ], ... )","d":"Statistical function used to count the number of the selected cells based on the multiple criterions"},"COVAR":{"a":"( array-1 , array-2 )","d":"Statistical function used to return the covariance of two ranges of data"},"COVARIANCE.P":{"a":"( array-1 , array-2 )","d":"Statistical function used to return population covariance, the average of the products of deviations for each data point pair in two data sets; use covariance to determine the relationship between two data sets"},"COVARIANCE.S":{"a":"( array-1 , array-2 )","d":"Statistical function used to return the sample covariance, the average of the products of deviations for each data point pair in two data sets"},"CRITBINOM":{"a":"( number-trials , success-probability , alpha )","d":"Statistical function used to return the smallest value for which the cumulative binomial distribution is greater than or equal to the specified alpha value"},"DEVSQ":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and sum the squares of the deviations of numbers from their mean"},"EXPONDIST":{"a":"( x , lambda , cumulative-flag )","d":"Statistical function used to return the exponential distribution"},"EXPON.DIST":{"a":"( x , lambda , cumulative )","d":"Statistical function used to return the exponential distribution"},"FDIST":{"a":"( x , deg-freedom1 , deg-freedom2 )","d":"Statistical function used to return the (right-tailed) F probability distribution (degree of diversity) for two data sets. You can use this function to determine whether two data sets have different degrees of diversity"},"FINV":{"a":"( probability , deg-freedom1 , deg-freedom2 )","d":"Statistical function used to return the inverse of the (right-tailed) F probability distribution; the F distribution can be used in an F-test that compares the degree of variability in two data sets"},"FTEST":{"a":"( array1 , array2 )","d":"Statistical function used to return the result of an F-test. An F-test returns the two-tailed probability that the variances in array1 and array2 are not significantly different; use this function to determine whether two samples have different variances"},"F.DIST":{"a":"( x , deg-freedom1 , deg-freedom2 , cumulative )","d":"Statistical function used to return the F probability distribution. You can use this function to determine whether two data sets have different degrees of diversity"},"F.DIST.RT":{"a":"( x , deg-freedom1 , deg-freedom2 )","d":"Statistical function used to return the (right-tailed) F probability distribution (degree of diversity) for two data sets. You can use this function to determine whether two data sets have different degrees of diversity"},"F.INV":{"a":"( probability , deg-freedom1 , deg-freedom2 )","d":"Statistical function used to return the inverse of the (right-tailed) F probability distribution; the F distribution can be used in an F-test that compares the degree of variability in two data sets"},"F.INV.RT":{"a":"( probability , deg-freedom1 , deg-freedom2 )","d":"Statistical function used to return the inverse of the (right-tailed) F probability distribution; the F distribution can be used in an F-test that compares the degree of variability in two data sets"},"F.TEST":{"a":"( array1 , array2 )","d":"Statistical function used to return the result of an F-test, the two-tailed probability that the variances in array1 and array2 are not significantly different; use this function to determine whether two samples have different variances"},"FISHER":{"a":"( number )","d":"Statistical function used to return the Fisher transformation of a number"},"FISHERINV":{"a":"( number )","d":"Statistical function used to perform the inverse of Fisher transformation"},"FORECAST":{"a":"( x , array-1 , array-2 )","d":"Statistical function used to predict a future value based on existing values provided"},"FORECAST.ETS":{"a":"( target_date , values , timeline , [ seasonality ] , [ data_completion ] , [ aggregation ] )","d":"Statistical function used to calculate or predict a future value based on existing (historical) values by using the AAA version of the Exponential Smoothing (ETS) algorithm"},"FORECAST.ETS.CONFINT":{"a":"( target_date , values , timeline , [ confidence_level ] , [ seasonality ], [ data_completion ] , [aggregation ] )","d":"Statistical function used to return a confidence interval for the forecast value at the specified target date"},"FORECAST.ETS.SEASONALITY":{"a":"( values , timeline , [ data_completion ] , [ aggregation ] )","d":"Statistical function used to return the length of the repetitive pattern  an application detects for the specified time series"},"FORECAST.ETS.STAT":{"a":"( values , timeline , statistic_type , [ seasonality ] , [ data_completion ] , [ aggregation ] )","d":"Statistical function used to return a statistical value as a result of time series forecasting; statistic type indicates which statistic is requested by this function"},"FORECAST.LINEAR":{"a":"( x, known_y\'s, known_x\'s )","d":"Statistical function used to calculate, or predict, a future value by using existing values; the predicted value is a y-value for a given x-value, the known values are existing x-values and y-values, and the new value is predicted by using linear regression"},"FREQUENCY":{"a":"(  data-array , bins-array )","d":"Statistical function used to сalculate how often values occur within the selected range of cells and display the first value of the returned vertical array of numbers"},"GAMMA":{"a":"( number )","d":"Statistical function used to return the gamma function value"},"GAMMADIST":{"a":"( x , alpha , beta , cumulative )","d":"Statistical function used to return the gamma distribution"},"GAMMA.DIST":{"a":"( x , alpha , beta , cumulative )","d":"Statistical function used to return the gamma distribution"},"GAMMAINV":{"a":"( probability , alpha , beta )","d":"Statistical function used to return the inverse of the gamma cumulative distribution"},"GAMMA.INV":{"a":"( probability , alpha , beta )","d":"Statistical function used to return the inverse of the gamma cumulative distribution"},"GAMMALN":{"a":"( number )","d":"Statistical function used to return the natural logarithm of the gamma function"},"GAMMALN.PRECISE":{"a":"( x )","d":"Statistical function used to return the natural logarithm of the gamma function"},"GAUSS":{"a":"( z )","d":"Statistical function used to calculate the probability that a member of a standard normal population will fall between the mean and z standard deviations from the mean"},"GEOMEAN":{"a":"( argument-list )","d":"Statistical function used to calculate the geometric mean of the argument list"},"HARMEAN":{"a":"( argument-list )","d":"Statistical function used to calculate the harmonic mean of the argument list"},"HYPGEOMDIST":{"a":"( sample-successes , number-sample , population-successes , number-population )","d":"Statistical function used to return the hypergeometric distribution, the probability of a given number of sample successes, given the sample size, population successes, and population size"},"INTERCEPT":{"a":"( array-1 , array-2 )","d":"Statistical function used to analyze the first array values and second array values to calculate the intersection point"},"KURT":{"a":"( argument-list )","d":"Statistical function used to return the kurtosis of the argument list"},"LARGE":{"a":"(  array , k )","d":"Statistical function used to analyze the range of cells and return the nth largest value"},"LOGINV":{"a":"( x , mean , standard-deviation )","d":"Statistical function used to return the inverse of the lognormal cumulative distribution function of the given x value with the specified parameters"},"LOGNORM.DIST":{"a":"( x , mean , standard-deviation , cumulative )","d":"Statistical function used to return the lognormal distribution of x, where ln(x) is normally distributed with parameters Mean and Standard-deviation"},"LOGNORM.INV":{"a":"( probability , mean , standard-deviation )","d":"Statistical function used to return the inverse of the lognormal cumulative distribution function of x, where ln(x) is normally distributed with parameters Mean and Standard-deviation"},"LOGNORMDIST":{"a":"( x , mean , standard-deviation )","d":"Statistical function used to analyze logarithmically transformed data and return the lognormal cumulative distribution function of the given x value with the specified parameters"},"MAX":{"a":"( number1 , number2 , ...)","d":"Statistical function used to analyze the range of data and find the largest number"},"MAXA":{"a":"( number1 , number2 , ...)","d":"Statistical function used to analyze the range of data and find the largest value"},"MAXIFS":{"a":"( max_range , criteria_range1 , criteria1 [ , criteria_range2 , criteria2 ] , ...)","d":"Statistical function used to return the maximum value among cells specified by a given set of conditions or criteria"},"MEDIAN":{"a":"( argument-list )","d":"Statistical function used to calculate the median of the argument list"},"MIN":{"a":"( number1 , number2 , ...)","d":"Statistical function used to analyze the range of data and find the smallest number"},"MINA":{"a":"( number1 , number2 , ...)","d":"Statistical function used to analyze the range of data and find the smallest value"},"MINIFS":{"a":"( min_range , criteria_range1 , criteria1 [ , criteria_range2 , criteria2 ] , ...)","d":"Statistical function used to return the minimum value among cells specified by a given set of conditions or criteria"},"MODE":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the most frequently occurring value"},"MODE.MULT":{"a":"( number1 , [ , number2 ] ... )","d":"Statistical function used to return a vertical array of the most frequently occurring, or repetitive values in an array or range of data"},"MODE.SNGL":{"a":"( number1 , [ , number2 ] ... )","d":"Statistical function used to return the most frequently occurring, or repetitive, value in an array or range of data"},"NEGBINOM.DIST":{"a":"( (number-f , number-s , probability-s , cumulative )","d":"Statistical function used to return the negative binomial distribution, the probability that there will be Number-f failures before the Number-s-th success, with Probability-s probability of a success"},"NEGBINOMDIST":{"a":"( number-failures , number-successes , success-probability )","d":"Statistical function used to return the negative binomial distribution"},"NORM.DIST":{"a":"( x , mean , standard-dev , cumulative )","d":"Statistical function used to return the normal distribution for the specified mean and standard deviation"},"NORMDIST":{"a":"( x , mean , standard-deviation , cumulative-flag )","d":"Statistical function used to return the normal distribution for the specified mean and standard deviation"},"NORM.INV":{"a":"( probability , mean , standard-dev )","d":"Statistical function used to return the inverse of the normal cumulative distribution for the specified mean and standard deviation"},"NORMINV":{"a":"( x , mean , standard-deviation )","d":"Statistical function used to return the inverse of the normal cumulative distribution for the specified mean and standard deviation"},"NORM.S.DIST":{"a":"( z , cumulative )","d":"Statistical function used to return the standard normal distribution (has a mean of zero and a standard deviation of one)"},"NORMSDIST":{"a":"( number )","d":"Statistical function used to return the standard normal cumulative distribution function"},"NORM.S.INV":{"a":"( probability )","d":"Statistical function used to return the inverse of the standard normal cumulative distribution; the distribution has a mean of zero and a standard deviation of one"},"NORMSINV":{"a":"( probability )","d":"Statistical function used to return the inverse of the standard normal cumulative distribution"},"PEARSON":{"a":"( array-1 , array-2 )","d":"Statistical function used to return the Pearson product moment correlation coefficient"},"PERCENTILE":{"a":"(  array , k )","d":"Statistical function used to analyze the range of data and return the nth percentile"},"PERCENTILE.EXC":{"a":"(  array , k )","d":"Statistical function used to return the k-th percentile of values in a range, where k is in the range 0..1, exclusive"},"PERCENTILE.INC":{"a":"(  array , k )","d":"Statistical function used to return the k-th percentile of values in a range, where k is in the range 0..1, exclusive"},"PERCENTRANK":{"a":"( array , k )","d":"Statistical function used to return the rank of a value in a set of values as a percentage of the set"},"PERCENTRANK.EXC":{"a":"( array , x [ , significance ] )","d":"Statistical function used to return the rank of a value in a data set as a percentage (0..1, exclusive) of the data set"},"PERCENTRANK.INC":{"a":"( array , x [ , significance ] )","d":"Statistical function used to return the rank of a value in a data set as a percentage (0..1, inclusive) of the data set"},"PERMUT":{"a":"( number , number-chosen )","d":"Statistical function used to return the rank of a value in a data set as a percentage (0..1, inclusive) of the data set"},"PERMUTATIONA":{"a":"( number , number-chosen )","d":"Statistical function used to return the number of permutations for a given number of objects (with repetitions) that can be selected from the total objects"},"PHI":{"a":"( x )","d":"Statistical function used to return the value of the density function for a standard normal distribution"},"POISSON":{"a":"( x , mean , cumulative-flag )","d":"Statistical function used to return the Poisson distribution"},"POISSON.DIST":{"a":"( x , mean , cumulative )","d":"Statistical function used to return the Poisson distribution; a common application of the Poisson distribution is predicting the number of events over a specific time, such as the number of cars arriving at a toll plaza in 1 minute"},"PROB":{"a":"( x-range , probability-range , lower-limit [ , upper-limit ] )","d":"Statistical function used to return the probability that values in a range are between lower and upper limits"},"QUARTILE":{"a":"(  array , result-category )","d":"Statistical function used to analyze the range of data and return the quartile"},"QUARTILE.INC":{"a":"(  array , quart )","d":"Statistical function used to return the quartile of a data set, based on percentile values from 0..1, inclusive"},"QUARTILE.EXC":{"a":"(  array , quart )","d":"Statistical function used to return the quartile of the data set, based on percentile values from 0..1, exclusive"},"RANK":{"a":"( number , ref [ , order ] )","d":"Statistical function used to return the rank of a number in a list of numbers; the rank of a number is its size relative to other values in a list, so If you were to sort the list, the rank of the number would be its position"},"RANK.AVG":{"a":"( number , ref [ , order ] )","d":"Statistical function used to return the rank of a number in a list of numbers: its size relative to other values in the list; if more than one value has the same rank, the average rank is returned"},"RANK.EQ":{"a":"( number , ref [ , order ] )","d":"Statistical function used to return the rank of a number in a list of numbers: its size is relative to other values in the list; if more than one value has the same rank, the top rank of that set of values is returned"},"RSQ":{"a":"( array-1 , array-2 )","d":"Statistical function used to return the square of the Pearson product moment correlation coefficient"},"SKEW":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the skewness of a distribution of the argument list"},"SKEW.P":{"a":"( number-1 [ , number 2 ] , … )","d":"Statistical function used to return the skewness of a distribution based on a population: a characterization of the degree of asymmetry of a distribution around its mean"},"SLOPE":{"a":"( array-1 , array-2 )","d":"Statistical function used to return the slope of the linear regression line through data in two arrays"},"SMALL":{"a":"(  array , k )","d":"Statistical function used to analyze the range of data and find the nth smallest value"},"STANDARDIZE":{"a":"( x , mean , standard-deviation )","d":"Statistical function used to return a normalized value from a distribution characterized by the specified parameters"},"STDEV":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the standard deviation of a population based on a set of numbers"},"STDEV.P":{"a":"( number1 [ , number2 ] , ... )","d":"Statistical function used to calculate standard deviation based on the entire population given as arguments (ignores logical values and text)"},"STDEV.S":{"a":"( number1 [ , number2 ] , ... )","d":"Statistical function used to estimates standard deviation based on a sample (ignores logical values and text in the sample)"},"STDEVA":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the standard deviation of a population based on a set of numbers, text, and logical values (TRUE or FALSE). The STDEVA function treats text and FALSE as a value of 0 and TRUE as a value of 1"},"STDEVP":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the standard deviation of an entire population"},"STDEVPA":{"a":"( argument-list )","d":"Statistical function used to analyze the range of data and return the standard deviation of an entire population"},"STEYX":{"a":"( known-ys , known-xs )","d":"Statistical function used to return the standard error of the predicted y-value for each x in the regression line"},"TDIST":{"a":"( x , deg-freedom , tails )","d":"Statistical function used to return the Percentage Points (probability) for the Student t-distribution where a numeric value (x) is a calculated value of t for which the Percentage Points are to be computed; the t-distribution is used in the hypothesis testing of small sample data sets"},"TINV":{"a":"( probability , deg_freedom )","d":"Statistical function used to return the two-tailed inverse of the Student\'s t-distribution"},"T.DIST":{"a":"( x , deg-freedom , cumulative )","d":"Statistical function used to return the Student\'s left-tailed t-distribution. The t-distribution is used in the hypothesis testing of small sample data sets. Use this function in place of a table of critical values for the t-distribution."},"T.DIST.2T":{"a":"( x , deg-freedom )","d":"Statistical function used to return the two-tailed Student\'s t-distribution.The Student\'s t-distribution is used in the hypothesis testing of small sample data sets. Use this function in place of a table of critical values for the t-distribution"},"T.DIST.RT":{"a":"( x , deg-freedom )","d":"Statistical function used to return the right-tailed Student\'s t-distribution. The t-distribution is used in the hypothesis testing of small sample data sets. Use this function in place of a table of critical values for the t-distribution"},"T.INV":{"a":"( probability , deg-freedom )","d":"Statistical function used to return the left-tailed inverse of the Student\'s t-distribution"},"T.INV.2T":{"a":"( probability , deg-freedom )","d":"Statistical function used to return the two-tailed inverse of the Student\'s t-distribution"},"T.TEST":{"a":"( array1 , array2 , tails , type )","d":"Statistical function used to return the probability associated with a Student\'s t-Test; use T.TEST to determine whether two samples are likely to have come from the same two underlying populations that have the same mean"},"TRIMMEAN":{"a":"( array1 , array2 , tails , type )","d":"Statistical function used to return the mean of the interior of a data set; TRIMMEAN calculates the mean taken by excluding a percentage of data points from the top and bottom tails of a data set"},"TTEST":{"a":"( array1 , array2 , tails , type )","d":"Statistical function used to returns the probability associated with a Student\'s t-Test; use TTEST to determine whether two samples are likely to have come from the same two underlying populations that have the same mean"},"VAR":{"a":"( argument-list )","d":"Statistical function used to analyze the set of values and calculate the sample variance"},"VAR.P":{"a":"( number1 [ , number2 ], ... )","d":"Statistical function used to calculates variance based on the entire population (ignores logical values and text in the population)"},"VAR.S":{"a":"( number1 [ , number2 ], ... )","d":"Statistical function used to estimate variance based on a sample (ignores logical values and text in the sample)"},"VARA":{"a":"( argument-list )","d":"Statistical function used to analyze the set of values and calculate the sample variance"},"VARP":{"a":"( argument-list )","d":"Statistical function used to analyze the set of values and calculate the variance of an entire population"},"VARPA":{"a":"( argument-list )","d":"Statistical function used to analyze the set of values and return the variance of an entire population"},"WEIBULL":{"a":"( x , alpha , beta , cumulative )","d":"Statistical function used to return the Weibull distribution; use this distribution in reliability analysis, such as calculating a device\'s mean time to failure"},"WEIBULL.DIST":{"a":"( x , alpha , beta , cumulative )","d":"Statistical function used to return the Weibull distribution; use this distribution in reliability analysis, such as calculating a device\'s mean time to failure"},"Z.TEST":{"a":"( array , x [ , sigma ] )","d":"Statistical function used to return the one-tailed P-value of a z-test; for a given hypothesized population mean, x, Z.TEST returns the probability that the sample mean would be greater than the average of observations in the data set (array) — that is, the observed sample mean"},"ZTEST":{"a":"( array , x [ , sigma ] )","d":"Statistical function used to return the one-tailed probability-value of a z-test; for a given hypothesized population mean, μ0, ZTEST returns the probability that the sample mean would be greater than the average of observations in the data set (array) — that is, the observed sample mean"},"ACCRINT":{"a":"( issue , first-interest , settlement , rate , [ par ] , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the accrued interest for a security that pays periodic interest"},"ACCRINTM":{"a":"( issue , settlement , rate , [ [ par ] [ , [ basis ] ] ] )","d":"Financial function used to calculate the accrued interest for a security that pays interest at maturity"},"AMORDEGRC":{"a":"( cost , date-purchased , first-period , salvage , period , rate [ , [ basis ] ] )","d":"Financial function used to calculate the depreciation of an asset for each accounting period using a degressive depreciation method"},"AMORLINC":{"a":"( cost , date-purchased , first-period , salvage , period , rate [ , [ basis ] ] )","d":"Financial function used to calculate the depreciation of an asset for each accounting period using a linear depreciation method"},"COUPDAYBS":{"a":"( settlement , maturity , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the number of days from the beginning of the coupon period to the settlement date"},"COUPDAYS":{"a":"( settlement , maturity , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the number of days in the coupon period that contains the settlement date"},"COUPDAYSNC":{"a":"( settlement , maturity , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the number of days from the settlement date to the next coupon payment"},"COUPNCD":{"a":"( settlement , maturity , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the next coupon date after the settlement date"},"COUPNUM":{"a":"( settlement , maturity , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the number of coupons between the settlement date and the maturity date"},"COUPPCD":{"a":"( settlement , maturity , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the previous coupon date before the settlement date"},"CUMIPMT":{"a":"( rate , nper , pv , start-period , end-period , type )","d":"Financial function used to calculate the cumulative interest paid on an investment between two periods based on a specified interest rate and a constant payment schedule"},"CUMPRINC":{"a":"( rate , nper , pv , start-period , end-period , type )","d":"Financial function used to calculate the cumulative principal paid on an investment between two periods based on a specified interest rate and a constant payment schedule"},"DB":{"a":"( cost , salvage , life , period [ , [ month ] ] )","d":"Financial function used to calculate the depreciation of an asset for a specified accounting period using the fixed-declining balance method"},"DDB":{"a":"( cost , salvage , life , period [ , factor ] )","d":"Financial function used to calculate the depreciation of an asset for a specified accounting period using the double-declining balance method"},"DISC":{"a":"( settlement , maturity , pr , redemption [ , [ basis ] ] )","d":"Financial function used to calculate the discount rate for a security"},"DOLLARDE":{"a":"( fractional-dollar , fraction )","d":"Financial function used to convert a dollar price represented as a fraction into a dollar price represented as a decimal number"},"DOLLARFR":{"a":"( decimal-dollar , fraction )","d":"Financial function used to convert a dollar price represented as a decimal number into a dollar price represented as a fraction"},"DURATION":{"a":"( settlement , maturity , coupon , yld , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the Macaulay duration of a security with an assumed par value of $100"},"EFFECT":{"a":"( nominal-rate , npery )","d":"Financial function used to calculate the effective annual interest rate for a security based on a specified nominal annual interest rate and the number of compounding periods per year"},"FV":{"a":"( rate , nper , pmt [ , [ pv ] [ ,[ type ] ] ] )","d":"Financial function used to calculate the future value of an investment based on a specified interest rate and a constant payment schedule"},"FVSCHEDULE":{"a":"( principal , schedule )","d":"Financial function used to calculate the future value of an investment based on a series of changeable interest rates"},"INTRATE":{"a":"( settlement , maturity , pr , redemption [ , [ basis ] ] )","d":"Financial function used to calculate the interest rate for a fully invested security that pays interest only at maturity"},"IPMT":{"a":"( rate , per , nper , pv [ , [ fv ] [ , [ type ] ] ] )","d":"Financial function used to calculate the interest payment for an investment based on a specified interest rate and a constant payment schedule"},"IRR":{"a":"( values [ , [ guess ] ] )","d":"Financial function used to calculate the internal rate of return for a series of periodic cash flows"},"ISPMT":{"a":"( rate , per , nper , pv )","d":"Financial function used to calculate the interest payment for a specified period of an investment based on a constant payment schedule"},"MDURATION":{"a":"( settlement , maturity , coupon , yld , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the modified Macaulay duration of a security with an assumed par value of $100"},"MIRR":{"a":"( values , finance-rate , reinvest-rate )","d":"Financial function used to calculate the modified internal rate of return for a series of periodic cash flows"},"NOMINAL":{"a":"( effect-rate , npery )","d":"Financial function used to calculate the nominal annual interest rate for a security based on a specified effective annual interest rate and the number of compounding periods per year"},"NPER":{"a":"( rate , pmt , pv [ , [ fv ] [ , [ type ] ] ] )","d":"Financial function used to calculate the number of periods for an investment based on a specified interest rate and a constant payment schedule"},"NPV":{"a":"( rate , argument-list )","d":"Financial function used to calculate the net present value of an investment based on a specified discount rate"},"ODDFPRICE":{"a":"( settlement , maturity , issue , first-coupon , rate , yld , redemption , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the price per $100 par value for a security that pays periodic interest but has an odd first period (it is shorter or longer than other periods)"},"ODDFYIELD":{"a":"( settlement , maturity , issue , first-coupon , rate , pr , redemption , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the yield of a security that pays periodic interest but has an odd first period (it is shorter or longer than other periods)"},"ODDLPRICE":{"a":"( settlement , maturity , last-interest , rate , yld , redemption , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the price per $100 par value for a security that pays periodic interest but has an odd last period (it is shorter or longer than other periods)"},"ODDLYIELD":{"a":"( settlement , maturity , last-interest , rate , pr , redemption , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the yield of a security that pays periodic interest but has an odd last period (it is shorter or longer than other periods)"},"PDURATION":{"a":"( rate , pv , fv )","d":"Financial function used return the number of periods required by an investment to reach a specified value"},"PMT":{"a":"( rate , nper , pv [ , [ fv ] [ ,[ type ] ] ] )","d":"Financial function used to calculate the payment amount for a loan based on a specified interest rate and a constant payment schedule"},"PPMT":{"a":"( rate , per , nper , pv [ , [ fv ] [ , [ type ] ] ] )","d":"Financial function used to calculate the principal payment for an investment based on a specified interest rate and a constant payment schedule"},"PRICE":{"a":"( settlement , maturity , rate , yld , redemption , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the price per $100 par value for a security that pays periodic interest"},"PRICEDISC":{"a":"( settlement , maturity , discount , redemption [ , [ basis ] ] )","d":"Financial function used to calculate the price per $100 par value for a discounted security"},"PRICEMAT":{"a":"( settlement , maturity , issue , rate , yld [ , [ basis ] ] )","d":"Financial function used to calculate the price per $100 par value for a security that pays interest at maturity"},"PV":{"a":"( rate , nper , pmt [ , [ fv ] [ ,[ type ] ] ] )","d":"Financial function used to calculate the present value of an investment based on a specified interest rate and a constant payment schedule"},"RATE":{"a":"( nper , pmt , pv  [ , [ [ fv ] [ , [ [ type ] [ , [ guess ] ] ] ] ] ] )","d":"Financial function used to calculate the interest rate for an investment based on a constant payment schedule"},"RECEIVED":{"a":"( settlement , maturity , investment , discount [ , [ basis ] ] )","d":"Financial function used to calculate the amount received at maturity for a fully invested security"},"RRI":{"a":"( nper , pv , fv )","d":"Financial function used to return an equivalent interest rate for the growth of an investment"},"SLN":{"a":"( cost , salvage , life )","d":"Financial function used to calculate the depreciation of an asset for one accounting period using the straight-line depreciation method"},"SYD":{"a":"( cost , salvage , life , per )","d":"Financial function used to calculate the depreciation of an asset for a specified accounting period using the sum of the years\' digits method"},"TBILLEQ":{"a":"( settlement , maturity , discount )","d":"Financial function used to calculate the bond-equivalent yield of a Treasury bill"},"TBILLPRICE":{"a":"( settlement , maturity , discount )","d":"Financial function used to calculate the price per $100 par value for a Treasury bill"},"TBILLYIELD":{"a":"( settlement , maturity , pr )","d":"Financial function used to calculate the yield of a Treasury bill"},"VDB":{"a":"( cost , salvage , life , start-period , end-period [ , [ [ factor ] [ , [ no-switch-flag ] ] ] ] ] )","d":"Financial function used to calculate the depreciation of an asset for a specified or partial accounting period using the variable declining balance method"},"XIRR":{"a":"( values , dates [ , [ guess ] ] )","d":"Financial function used to calculate the internal rate of return for a series of irregular cash flows"},"XNPV":{"a":"( rate , values , dates  )","d":"Financial function used to calculate the net present value for an investment based on a specified interest rate and a schedule of irregular payments"},"YIELD":{"a":"( settlement , maturity , rate , pr , redemption , frequency [ , [ basis ] ] )","d":"Financial function used to calculate the yield of a security that pays periodic interest"},"YIELDDISC":{"a":"( settlement , maturity , pr , redemption , [ , [ basis ] ] )","d":"Financial function used to calculate the annual yield of a discounted security"},"YIELDMAT":{"a":"( settlement , maturity , issue , rate , pr [ , [ basis ] ] )","d":"Financial function used to calculate the annual yield of a security that pays interest at maturity"},"ABS":{"a":"( x )","d":"Math and trigonometry function used to return the absolute value of a number"},"ACOS":{"a":"( x )","d":"Math and trigonometry function used to return the arccosine of a number"},"ACOSH":{"a":"( x )","d":"Math and trigonometry function used to return the inverse hyperbolic cosine of a number"},"ACOT":{"a":"( x )","d":"Math and trigonometry function used to return the principal value of the arccotangent, or inverse cotangent, of a number"},"ACOTH":{"a":"( x )","d":"Math and trigonometry function used to return the inverse hyperbolic cotangent of a number"},"AGGREGATE":{"a":"( function_num , options , ref1 [ , ref2 ] , … )","d":"Math and trigonometry function used to return an aggregate in a list or database; the function can apply different aggregate functions to a list or database with the option to ignore hidden rows and error values"},"ARABIC":{"a":"( x )","d":"Math and trigonometry function used to convert a Roman numeral to an Arabic numeral"},"ASIN":{"a":"( x )","d":"Math and trigonometry function used to return the arcsine of a number"},"ASINH":{"a":"( x )","d":"Math and trigonometry function used to return the inverse hyperbolic sine of a number"},"ATAN":{"a":"( x )","d":"Math and trigonometry function used to return the arctangent of a number"},"ATAN2":{"a":"( x, y )","d":"Math and trigonometry function used to return the arctangent of x and y coordinates"},"ATANH":{"a":"( x )","d":"Math and trigonometry function used to return the inverse hyperbolic tangent of a number"},"BASE":{"a":"( number , base [ , min-length ] )","d":"Converts a number into a text representation with the given base"},"CEILING":{"a":"( x, significance )","d":"Math and trigonometry function used to round the number up to the nearest multiple of significance"},"CEILING.MATH":{"a":"( x [ , [ significance ] [ , [ mode ] ] )","d":"Math and trigonometry function used to rounds a number up to the nearest integer or to the nearest multiple of significance"},"CEILING.PRECISE":{"a":"( x [ , significance ] )","d":"Math and trigonometry function used to return a number that is rounded up to the nearest integer or to the nearest multiple of significance"},"COMBIN":{"a":"( number , number-chosen )","d":"Math and trigonometry function used to return the number of combinations for a specified number of items"},"COMBINA":{"a":"( number , number-chosen )","d":"Math and trigonometry function used to return the number of combinations (with repetitions) for a given number of items"},"COS":{"a":"( x )","d":"Math and trigonometry function used to return the cosine of an angle"},"COSH":{"a":"( x )","d":"Math and trigonometry function used to return the hyperbolic cosine of a number"},"COT":{"a":"( x )","d":"Math and trigonometry function used to return the cotangent of an angle specified in radians"},"COTH":{"a":"( x )","d":"Math and trigonometry function used to return the hyperbolic cotangent of a hyperbolic angle"},"CSC":{"a":"( x )","d":"Math and trigonometry function used to return the cosecant of an angle"},"CSCH":{"a":"( x )","d":"Math and trigonometry function used to return the hyperbolic cosecant of an angle"},"DECIMAL":{"a":"( text , base )","d":"Converts a text representation of a number in a given base into a decimal number"},"DEGREES":{"a":"( angle )","d":"Math and trigonometry function used to convert radians into degrees"},"ECMA.CEILING":{"a":"( x, significance )","d":"Math and trigonometry function used to round the number up to the nearest multiple of significance"},"EVEN":{"a":"( x )","d":"Math and trigonometry function used to round the number up to the nearest even integer"},"EXP":{"a":"( x )","d":"Math and trigonometry function used to return the e constant raised to the desired power. The e constant is equal to 2,71828182845904"},"FACT":{"a":"( x )","d":"Math and trigonometry function used to return the factorial of a number"},"FACTDOUBLE":{"a":"( x )","d":"Math and trigonometry function used to return the double factorial of a number"},"FLOOR":{"a":"( x, significance )","d":"Math and trigonometry function used to round the number down to the nearest multiple of significance"},"FLOOR.PRECISE":{"a":"( x, significance )","d":"Math and trigonometry function used to return a number that is rounded down to the nearest integer or to the nearest multiple of significance"},"FLOOR.MATH":{"a":"( x, significance )","d":"Math and trigonometry function used to round a number down to the nearest integer or to the nearest multiple of significance"},"GCD":{"a":"( argument-list )","d":"Math and trigonometry function used to return the greatest common divisor of two or more numbers"},"INT":{"a":"( x )","d":"Math and trigonometry function used to analyze and return the integer part of the specified number"},"ISO.CEILING":{"a":"( number [ , significance ] )","d":"Math and trigonometry function used to return a number that is rounded up to the nearest integer or to the nearest multiple of significance regardless of the sign of the number. However, if the number or the significance is zero, zero is returned."},"LCM":{"a":"( argument-list )","d":"Math and trigonometry function used to return the lowest common multiple of one or more numbers"},"LN":{"a":"( x )","d":"Math and trigonometry function used to return the natural logarithm of a number"},"LOG":{"a":"( x [ , base ] )","d":"Math and trigonometry function used to return the logarithm of a number to a specified base"},"LOG10":{"a":"( x )","d":"Math and trigonometry function used to return the logarithm of a number to a base of 10"},"MDETERM":{"a":"( array )","d":"Math and trigonometry function used to return the matrix determinant of an array"},"MINVERSE":{"a":"( array )","d":"Math and trigonometry function used to return the inverse matrix for a given matrix and display the first value of the returned array of numbers"},"MMULT":{"a":"( array1, array2 )","d":"Math and trigonometry function used to return the matrix product of two arrays and display the first value of the returned array of numbers"},"MOD":{"a":"( x, y )","d":"Math and trigonometry function used to return the remainder after the division of a number by the specified divisor"},"MROUND":{"a":"( x, multiple )","d":"Math and trigonometry function used to round the number to the desired multiple"},"MULTINOMIAL":{"a":"( argument-list )","d":"Math and trigonometry function used to return the ratio of the factorial of a sum of numbers to the product of factorials"},"ODD":{"a":"( x )","d":"Math and trigonometry function used to round the number up to the nearest odd integer"},"PI":{"a":"()","d":"math and trigonometry functions. The function returns the mathematical constant pi, equal to 3.14159265358979. It does not require any argument"},"POWER":{"a":"( x, y )","d":"Math and trigonometry function used to return the result of a number raised to the desired power"},"PRODUCT":{"a":"( argument-list )","d":"Math and trigonometry function used to multiply all the numbers in the selected range of cells and return the product"},"QUOTIENT":{"a":"( dividend , divisor )","d":"Math and trigonometry function used to return the integer portion of a division"},"RADIANS":{"a":"( angle )","d":"Math and trigonometry function used to convert degrees into radians"},"RAND":{"a":"()","d":"Math and trigonometry functionused to return a random number greater than or equal to 0 and less than 1. It does not require any argument"},"RANDBETWEEN":{"a":"( lower-bound , upper-bound )","d":"Math and trigonometry function used to return a random number greater than or equal to lower-bound and less than or equal to upper-bound"},"ROMAN":{"a":"( number, form )","d":"Math and trigonometry function used to convert a number to a roman numeral"},"ROUND":{"a":"( x , number-digits )","d":"Math and trigonometry function used to round the number to the desired number of digits"},"ROUNDDOWN":{"a":"( x , number-digits )","d":"Math and trigonometry function used to round the number down to the desired number of digits"},"ROUNDUP":{"a":"( x , number-digits )","d":"Math and trigonometry function used to round the number up to the desired number of digits"},"SEC":{"a":"( x )","d":"Math and trigonometry function used to return the secant of an angle"},"SECH":{"a":"( x )","d":"Math and trigonometry function used to return the hyperbolic secant of an angle"},"SERIESSUM":{"a":"( input-value , initial-power , step , coefficients )","d":"Math and trigonometry function used to return the sum of a power series"},"SIGN":{"a":"( x )","d":"Math and trigonometry function used to return the sign of a number. If the number is positive, the function returns 1. If the number is negative, the function returns -1. If the number is 0, the function returns 0"},"SIN":{"a":"( x )","d":"Math and trigonometry function used to return the sine of an angle"},"SINH":{"a":"( x )","d":"Math and trigonometry function used to return the hyperbolic sine of a number"},"SQRT":{"a":"( x )","d":"Math and trigonometry function used to return the square root of a number"},"SQRTPI":{"a":"( x )","d":"Math and trigonometry function used to return the square root of the pi constant (3.14159265358979) multiplied by the specified number"},"SUBTOTAL":{"a":"( function-number , argument-list )","d":"Math and trigonometry function used to return a subtotal in a list or database"},"SUM":{"a":"( argument-list )","d":"Math and trigonometry function used to add all the numbers in the selected range of cells and return the result"},"SUMIF":{"a":"( cell-range, selection-criteria [ , sum-range ] )","d":"Math and trigonometry function used to add all the numbers in the selected range of cells based on the specified criterion and return the result"},"SUMIFS":{"a":"( sum-range, criteria-range1, criteria1, [ criteria-range2, criteria2 ], ... )","d":"Math and trigonometry function used to add all the numbers in the selected range of cells based on multiple criteria and return the result"},"SUMPRODUCT":{"a":"( argument-list )","d":"Math and trigonometry function used to multiply the values in the selected ranges of cells or arrays and return the sum of the products"},"SUMSQ":{"a":"( argument-list )","d":"Math and trigonometry function used to add the squares of numbers and return the result"},"SUMX2MY2":{"a":"( array-1 , array-2 )","d":"Math and trigonometry function used to sum the difference of squares between two arrays"},"SUMX2PY2":{"a":"( array-1 , array-2 )","d":"Math and trigonometry function used to sum the squares of numbers in the selected arrays and return the sum of the results"},"SUMXMY2":{"a":"( array-1 , array-2 )","d":"Math and trigonometry function used to return the sum of the squares of the differences between corresponding items in the arrays"},"TAN":{"a":"( x )","d":"Math and trigonometry function used to return the tangent of an angle"},"TANH":{"a":"( x )","d":"Math and trigonometry function used to return the hyperbolic tangent of a number"},"TRUNC":{"a":"( x [ , number-digits ] )","d":"Math and trigonometry function used to return a number truncated to a specified number of digits"},"ADDRESS":{"a":"( row-number , col-number [ , [ ref-type ] [ , [ A1-ref-style-flag ] [ , sheet-name ] ] ] )","d":"Lookup and reference function used to return a text representation of a cell address"},"CHOOSE":{"a":"( index , argument-list )","d":"Lookup and reference function used to return a value from a list of values based on a specified index (position)"},"COLUMN":{"a":"( [ reference ] )","d":"Lookup and reference function used to return the column number of a cell"},"COLUMNS":{"a":"( array )","d":"Lookup and reference function used to return the number of columns in a cell reference"},"FORMULATEXT":{"a":"( reference )","d":"Lookup and reference function used to return a formula as a string"},"HLOOKUP":{"a":"( lookup-value  ,  table-array  ,  row-index-num  [  ,  [  range-lookup-flag  ] ] )","d":"Lookup and reference function used to perform the horizontal search for a value in the top row of a table or an array and return the value in the same column based on a specified row index number"},"INDEX":{"a":"( array , [ row-number ] [ , [ column-number ] ] )","d":"Lookup and reference function used to return a value within a range of cells on the base of a specified row and column number. The INDEX function has two forms"},"INDIRECT":{"a":"( ref-text [ , [ A1-ref-style-flag ] ] )","d":"Lookup and reference function used to return the reference to a cell based on its string representation"},"LOOKUP":{"a":"(  lookup-value  ,  lookup-vector  ,  result-vector  )","d":"Lookup and reference function used to return a value from a selected range (row or column containing the data in ascending order)"},"MATCH":{"a":"(  lookup-value  ,  lookup-array [ , [ match-type ]] )","d":"Lookup and reference function used to return a relative position of a specified item in a range of cells"},"OFFSET":{"a":"( reference , rows , cols [ , [ height ] [ , [ width ] ] ] )","d":"Lookup and reference function used to return a reference to a cell displaced from the specified cell (or the upper-left cell in the range of cells) to a certain number of rows and columns"},"ROW":{"a":"( [ reference ] )","d":"Lookup and reference function used to return the row number of a cell reference"},"ROWS":{"a":"( array )","d":"Lookup and reference function used to return the number of rows in a cell references"},"TRANSPOSE":{"a":"( array )","d":"Lookup and reference function used to return the first element of an array"},"VLOOKUP":{"a":"( lookup-value  ,  table-array  ,  col-index-num  [  ,  [  range-lookup-flag  ] ] )","d":"Lookup and reference function used to perform the vertical search for a value in the left-most column of a table or an array and return the value in the same row based on a specified column index number"},"ERROR.TYPE":{"a":"(value)","d":"Information function used to return the numeric representation of one of the existing errors"},"ISBLANK":{"a":"(value)","d":"Information function used to check if the cell is empty or not. If the cell does not contain any value, the function returns TRUE, otherwise the function returns FALSE"},"ISERR":{"a":"(value)","d":"Information function used to check for an error value. If the cell contains an error value (except #N/A), the function returns TRUE, otherwise the function returns FALSE"},"ISERROR":{"a":"(value)","d":"Information function used to check for an error value. If the cell contains one of the error values: #N/A, #VALUE!, #REF!, #DIV/0!, #NUM!, #NAME? or #NULL, the function returns TRUE, otherwise the function returns FALSE"},"ISEVEN":{"a":"(number)","d":"Information function used to check for an even value. If the cell contains an even value, the function returns TRUE. If the value is odd, it returns FALSE"},"ISFORMULA":{"a":"( value )","d":"Information function used to check whether there is a reference to a cell that contains a formula, and returns TRUE or FALSE"},"ISLOGICAL":{"a":"(value)","d":"Information function used to check for a logical value (TRUE or FALSE). If the cell contains a logical value, the function returns TRUE, otherwise the function returns FALSE"},"ISNA":{"a":"(value)","d":"Information function used to check for a #N/A error. If the cell contains a #N/A error value, the function returns TRUE, otherwise the function returns FALSE"},"ISNONTEXT":{"a":"(value)","d":"Information function used to check for a value that is not a text. If the cell does not contain a text value, the function returns TRUE, otherwise the function returns FALSE"},"ISNUMBER":{"a":"(value)","d":"Information function used to check for a numeric value. If the cell contains a numeric value, the function returns TRUE, otherwise the function returns FALSE"},"ISODD":{"a":"(number)","d":"Information function used to check for an odd value. If the cell contains an odd value, the function returns TRUE. If the value is even, it returns FALSE"},"ISREF":{"a":"(value)","d":"Information function used to verify if the value is a valid cell reference"},"ISTEXT":{"a":"(value)","d":"Information function used to check for a text value. If the cell contains a text value, the function returns TRUE, otherwise the function returns FALSE"},"N":{"a":"(value)","d":"Information function used to convert a value to a number"},"NA":{"a":"()","d":"Information function used to return the #N/A error value. This function does not require an argument"},"SHEET":{"a":"( value )","d":"Information function used to return the sheet number of the reference sheet"},"SHEETS":{"a":"( reference )","d":"Information function used to return the number of sheets in a reference"},"TYPE":{"a":"( value )","d":"Information function used to determine the type of the resulting or displayed value"},"AND":{"a":"( logical1 , logical2, ... )","d":"Logical function used to check if the logical value you enter is TRUE or FALSE. The function returns TRUE if all the arguments are TRUE"},"FALSE":{"a":"()","d":"logical functions. The function returns FALSE and does not require any argument"},"IF":{"a":"( logical_test , value_if_true , value_if_false )","d":"Logical function used to check the logical expression and return one value if it is TRUE, or another if it is FALSE"},"IFS":{"a":"( logical_test1 , value_if_true1 , [ logical_test2 , value_if_true2 ] , … )","d":"Logical function used to check whether one or more conditions are met and returns a value that corresponds to the first TRUE condition"},"IFERROR":{"a":" (value , value_if_error )","d":"Logical function used to check if there is an error in the formula in the first argument. The function returns the result of the formula if there is no error, or the value_if_error if there is one"},"IFNA":{"a":"( value , value_if_na )","d":"Logical function used to check if there is an error in the formula in the first argument. The function returns the value you specify if the formula returns the #N/A error value; otherwise returns the result of the formula"},"NOT":{"a":"( logical )","d":"Logical function used to check if the logical value you enter is TRUE or FALSE. The function returns TRUE if the argument is FALSE and FALSE if the argument is TRUE"},"OR":{"a":"( logical1, logical2, ...)","d":"Logical function used to check if the logical value you enter is TRUE or FALSE. The function returns FALSE if all the arguments are FALSE"},"SWITCH":{"a":"( expression , value1 , result1 [ , [ default or value2 ] [ , [ result2 ] ], … [ default or value3 , result3 ] ] )","d":"Logical function used to evaluate one value (called the expression) against a list of values, and returns the result corresponding to the first matching value; if there is no match, an optional default value may be returned"},"TRUE":{"a":"()","d":"Logical function used to return TRUE and does not require any argument"},"XOR":{"a":"( logical1 [ , logical2 ] , ... )","d":"Logical function used to returns a logical Exclusive Or of all arguments"}}'
}),define("spreadsheeteditor/mobile/app/controller/add/AddFunction",["core","spreadsheeteditor/mobile/app/view/add/AddFunction","text!../../../resources/l10n/functions/en.json","text!../../../resources/l10n/functions/en_desc.json"],function(e,t,i,a){"use strict";SSE.Controllers.AddFunction=Backbone.Controller.extend(_.extend(function(){return{models:[],collections:[],views:["AddFunction"],initialize:function(){var e=this;Common.NotificationCenter.on("addcontainer:show",_.bind(e.initEvents,e)),Common.NotificationCenter.on("document:ready",_.bind(e.onDocumentReady,e)),e.addListeners({AddFunction:{"function:insert":e.onInsertFunction.bind(e),"function:info":e.onFunctionInfo.bind(e)}})},setApi:function(e){this.api=e},onLaunch:function(){this.createView("AddFunction").render()},initEvents:function(){},onDocumentReady:function(){var e=this;_.defer(function(){var t=Common.localStorage.getItem("sse-settings-func-lang");t=(t||"en").split(/[\-\_]/)[0].toLowerCase();var a=function(t){i=t,e.api.asc_setLocalization(i),e.fillFunctions.call(e)};$.getJSON(Common.Utils.String.format("{0}/{1}.json","resources/l10n/functions",t),function(e){a(e)}).fail(function(){a(i)})})},fillFunctions:function(){var e=this,t={},i=Common.localStorage.getItem("sse-settings-func-lang");i=(i||"en").split(/[\-\_]/)[0].toLowerCase();var n=function(n){var o={},s=e.getView("AddFunction");a=n;try{o=JSON.parse(a)}catch(e){o=a}var r=e.api.asc_getFormulasInfo();for(var l in r){var c=r[l],d=c.asc_getGroupName(),p=c.asc_getFormulasArray();for(var u in p){var h=p[u],m=h.asc_getName();t[m]={type:m,group:d,caption:h.asc_getLocaleName(),args:o&&o[m]?o[m].a:"",descr:o&&o[m]?o[m].d:""}}}s.setFunctions(t,i),s.render()};$.getJSON(Common.Utils.String.format("{0}/{1}_desc.json","resources/l10n/functions",i),function(e){n(e)}).fail(function(){n(a)})},onInsertFunction:function(e){SSE.getController("AddContainer").hideModal(),this.api.asc_insertFormula(this.api.asc_getFormulaLocaleName(e),Asc.c_oAscPopUpSelectorType.Func,!0)},onFunctionInfo:function(e){this.getView("AddFunction").openFunctionInfo(e)}}}(),SSE.Controllers.AddFunction||{}))}),define("text!spreadsheeteditor/mobile/app/template/AddShape.template",[],function(){return'<div id="add-shapes-root"><div class="page-content dataview shapes"> <% _.each(shapes, function(row) { %> <ul class="row"> <% _.each(row, function(shape) { %> <li data-type="<%= shape.type %>"><div class="thumb" style="-webkit-mask-image:url(\'<%= imgpath %>/<%= shape.thumb %>\')"></div></li> <% }); %> </ul> <% }); %> </div></div>'}),define("spreadsheeteditor/mobile/app/view/add/AddShape",["text!spreadsheeteditor/mobile/app/template/AddShape.template","backbone"],function(e,t){"use strict";SSE.Views.AddShape=t.View.extend(_.extend(function(){return{template:_.template(e),events:{},initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this)),Common.NotificationCenter.on("shapes:load",_.bind(this.render,this))},initEvents:function(){Common.Utils.addScrollIfNeed("#add-shape .pages","#add-shape .page"),this.initControls()},render:function(){return this.layout=$("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),imgpath:"../mobile/resources/img/shapes",shapes:Common.SharedSettings.get("shapes")})),this},rootLayout:function(){return this.layout?this.layout.find("#add-shapes-root").html():""},initControls:function(){}}}(),SSE.Views.AddShape||{}))}),define("spreadsheeteditor/mobile/app/controller/add/AddShape",["core","spreadsheeteditor/mobile/app/view/add/AddShape"],function(e){"use strict";SSE.Controllers.AddShape=Backbone.Controller.extend(_.extend(function(){var e=[];return{models:[],collections:[],views:["AddShape"],initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this)),e=[{title:"Text",thumb:"shape-01.svg",type:"textRect"},{title:"Line",thumb:"shape-02.svg",type:"line"},{title:"Line with arrow",thumb:"shape-03.svg",type:"lineWithArrow"},{title:"Line with two arrows",thumb:"shape-04.svg",type:"lineWithTwoArrows"},{title:"Rect",thumb:"shape-05.svg",type:"rect"},{title:"Hexagon",thumb:"shape-06.svg",type:"hexagon"},{title:"Round rect",thumb:"shape-07.svg",type:"roundRect"},{title:"Ellipse",thumb:"shape-08.svg",type:"ellipse"},{title:"Triangle",thumb:"shape-09.svg",type:"triangle"},{title:"Triangle",thumb:"shape-10.svg",type:"rtTriangle"},{title:"Trapezoid",thumb:"shape-11.svg",type:"trapezoid"},{title:"Diamond",thumb:"shape-12.svg",type:"diamond"},{title:"Right arrow",thumb:"shape-13.svg",type:"rightArrow"},{title:"Left-right arrow",thumb:"shape-14.svg",type:"leftRightArrow"},{title:"Left arrow callout",thumb:"shape-15.svg",type:"leftArrow"},{title:"Right arrow callout",thumb:"shape-16.svg",type:"bentUpArrow"},{title:"Flow chart off page connector",thumb:"shape-17.svg",type:"flowChartOffpageConnector"},{title:"Heart",thumb:"shape-18.svg",type:"heart"},{title:"Math minus",thumb:"shape-19.svg",type:"mathMinus"},{title:"Math plus",thumb:"shape-20.svg",type:"mathPlus"},{title:"Parallelogram",thumb:"shape-21.svg",type:"parallelogram"},{title:"Wedge rect callout",thumb:"shape-22.svg",type:"wedgeRectCallout"},{title:"Wedge ellipse callout",thumb:"shape-23.svg",type:"wedgeEllipseCallout"},{title:"Cloud callout",thumb:"shape-24.svg",type:"cloudCallout"}];var t=_.chain(e).groupBy(function(e,t){return Math.floor(t/4)}).toArray().value();Common.SharedSettings.set("shapes",t),Common.NotificationCenter.trigger("shapes:load",t)},setApi:function(e){this.api=e},onLaunch:function(){this.createView("AddShape").render()},initEvents:function(){var e=this;$("#add-shape li").single("click",_.buffered(e.onShapeClick,100,e))},onShapeClick:function(e){var t=$(e.currentTarget);t&&this.api&&this.api.asc_addShapeOnSheet(t.data("type")),SSE.getController("AddContainer").hideModal()},getStyles:function(){return e}}}(),SSE.Controllers.AddShape||{}))}),define("text!spreadsheeteditor/mobile/app/template/AddOther.template",[],function(){return'<div id="addother-root-view"><div class="list-block"><ul><li><a id="add-other-insimage" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-insimage"></i></div><div class="item-inner"><div class="item-title"><%= scope.textInsertImage %></div></div></div></a></li><li><a id="add-other-sort" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-sort"></i></div><div class="item-inner"><div class="item-title"><%= scope.textSort %></div></div></div></a></li><li><a id="add-other-link" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-link"></i></div><div class="item-inner"><div class="item-title"><%= scope.textLink %></div></div></div></a></li></ul></div></div><div id="addother-insimage"><div class="page" data-page="addother-image"><div class="page-content"><div class="list-block"><ul><li><a id="addimage-file" class="item-link no-indicator no-fastclick"><div class="item-content"><div class="item-media"><i class="icon icon-image-library"></i></div><div class="item-inner"><div class="item-title"><%= scope.textFromLibrary %></div></div></div></a></li><li><a id="addimage-url" class="item-link"><div class="item-content"><div class="item-media"><i class="icon icon-link"></i></div><div class="item-inner"><div class="item-title"><%= scope.textFromURL %></div></div></div></a></li></ul></div></div></div></div><div id="addother-imagefromurl"><div class="page" id="addimage-fromurl" data-page="addimage-url"><div class="page-content"> <% if (!android) { %><div class="content-block-title"><%= scope.textAddress %></div><% } %> <div class="list-block"><ul><li><div id="addimage-link-url" class="item-content"><div class="item-inner"> <% if (android) { %><div class="item-title label"><%= scope.textAddress %></div><% } %> <div class="item-input"><input type="url" placeholder="<%= scope.textImageURL %>"></div></div></div></li></ul></div><div class="list-block disabled" id="addimage-insert"> <% if (android) { %> <a href="#" class="button button-fill button-raised" style="margin: 20px 16px;"><%= scope.textInsertImage %></a> <% } else { %> <ul><li><a href="#" class="list-button item-link"><%= scope.textInsertImage %></a></li></ul> <% } %> </div></div></div></div><div id="addother-sort"><div class="page"><div class="page-content"><div class="list-block"><ul><li><div class="item-content buttons"><div class="item-inner"><div class="row"><a class="button no-ripple"><i class="icon sortdown"></i></a> <a class="button no-ripple"><i class="icon sortup"></i></a></div></div></div></li></ul></div><div class="list-block"><ul><li id="other-chb-insfilter"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textFilter %></div><div class="item-after"><label class="label-switch"><input type="checkbox"><div class="checkbox"></div></label></div></div></div></li></ul></div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/add/AddOther",["text!spreadsheeteditor/mobile/app/template/AddOther.template","backbone"],function(e,t){"use strict";SSE.Views.AddOther=t.View.extend(_.extend(function(){var t={},i=function(e){var i=t[e];if(!i){var a;switch(e){case"#addlink":a=SSE.getController("AddLink").getView("AddLink").getTitle();break;case"#addother-insimage":a=this.textInsertImage;break;case"#addother-sort":a=this.textSort;break;case"#addother-imagefromurl":a=this.textLinkSettings}t=i=_.template('<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><% if (!android) { %><span><%= textBack %></span><% } %></a></div><div class="center sliding"><%= title %></div></div></div>')({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),textBack:this.textBack,title:a})}return i};return{template:_.template(e),events:{},initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this))},initEvents:function(){var e=this,t=$("#add-other");t.find("#add-other-insimage").single("click",_.bind(e.showInsertImage,e)),t.find("#add-other-link").single("click",_.bind(e.showInsertLink,e)),t.find("#add-other-sort").single("click",_.bind(e.showSortPage,e)),e.initControls()},render:function(){return this.layout=$("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#addother-root-view").html():""},childLayout:function(e){return this.layout&&"image"==e?this.layout.find("#addother-insimage .page-content").html():""},initControls:function(){},showPage:function(e){var t=SSE.getController("AddContainer").rootView;if(t&&this.layout){var a=this.layout.find(e),n=i.call(this,e);a.find(".navbar").length||(Framework7.prototype.device.android?a.find(".page").append(n):a.prepend(n)),t.router.load({content:a.html()}),this.fireEvent("page:show",[this,e])}},showInsertImage:function(){this.showPage("#addother-insimage"),$("#addimage-url").single("click",this.showImageFromUrl.bind(this)),$("#addimage-file").single("click",function(){this.fireEvent("image:insert",[{islocal:!0}])}.bind(this))},showInsertLink:function(){SSE.getController("AddLink").showPage(i.call(this,"#addlink"))},showSortPage:function(e){this.showPage("#addother-sort");var t=this;$(".settings .sortdown").single("click",function(e){t.fireEvent("insert:sort",["down"])}),$(".settings .sortup").single("click",function(e){t.fireEvent("insert:sort",["up"])}),$(".settings #other-chb-insfilter input:checkbox").single("change",function(e){var i=$(e.currentTarget);t.fireEvent("insert:filter",[i.is(":checked")])})},showImageFromUrl:function(){this.showPage("#addother-imagefromurl");var e=this,t=$("#addimage-link-url input[type=url]");$("#addimage-insert a").single("click",_.buffered(function(){var i=t.val().replace(/ /g,"");e.fireEvent("image:insert",[{islocal:!1,url:i}])},100,e));var i=$("#addimage-insert");$("#addimage-fromurl input[type=url]").single("input",function(e){i.toggleClass("disabled",_.isEmpty($(e.currentTarget).val()))}),_.delay(function(){t.focus()},1e3)},optionAutofilter:function(e){$(".settings #other-chb-insfilter input:checkbox").prop("checked",e)},textInsertImage:"Insert Image",textSort:"Sort and Filter",textLink:"Link",textBack:"Back",textInsert:"Insert",textFromLibrary:"Picture from Library",textFromURL:"Picture from URL",textAddress:"Address",textImageURL:"Image URL",textFilter:"Filter"}}(),SSE.Views.AddOther||{}))}),define("spreadsheeteditor/mobile/app/controller/add/AddOther",["core","spreadsheeteditor/mobile/app/view/add/AddOther"],function(e){"use strict";SSE.Controllers.AddOther=Backbone.Controller.extend(_.extend(function(){return{models:[],collections:[],views:["AddOther"],initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this)),this.addListeners({AddOther:{"page:show":this.onPageShow,"image:insert":this.onInsertImage,"insert:sort":this.onInsertSort,"insert:filter":this.onInsertFilter}})},setApi:function(e){var t=this;t.api=e,t.api.asc_registerCallback("asc_onError",_.bind(t.onError,t))},onLaunch:function(){this.createView("AddOther").render()},initEvents:function(e){!e||_.indexOf(e.panels,"image")<0||this.onPageShow(this.getView("AddOther"),"#addother-insimage")},onPageShow:function(e,t){var i=this;if("#addother-sort"==t){var a=i.api.asc_getCellInfo().asc_getAutoFilterInfo();e.optionAutofilter(a?a.asc_getIsAutoFilter():null)}else"#addother-insimage"==t&&($("#addimage-url").single("click",function(t){e.showImageFromUrl()}),$("#addimage-file").single("click",function(){i.onInsertImage({islocal:!0})}))},onInsertImage:function(e){if(e.islocal)SSE.getController("AddContainer").hideModal(),this.api.asc_addImage();else{var t=this,i=e.url;_.isEmpty(i)?uiApp.alert(t.textEmptyImgUrl):/((^https?)|(^ftp)):\/\/.+/i.test(i)?(SSE.getController("AddContainer").hideModal(),_.defer(function(){t.api.asc_addImageDrawingObject(i)})):uiApp.alert(t.txtNotUrl)}},onInsertSort:function(e){this.api.asc_sortColFilter("down"==e?Asc.c_oAscSortOptions.Ascending:Asc.c_oAscSortOptions.Descending,"",void 0,void 0,!0)},onInsertFilter:function(e){var t=this.api.asc_getCellInfo().asc_getFormatTableInfo(),i=t?t.asc_getTableName():void 0;e?this.api.asc_addAutoFilter():this.api.asc_changeAutoFilter(i,Asc.c_oAscChangeFilterOptions.filter,e)},onError:function(e,t,i){e===Asc.c_oAscError.ID.AutoFilterDataRangeError&&this.getView("AddOther").optionAutofilter(!1)},textEmptyImgUrl:"You need to specify image URL.",txtNotUrl:'This field should be a URL in the format "http://www.example.com"'}}(),SSE.Controllers.AddOther||{}))}),define("text!spreadsheeteditor/mobile/app/template/AddLink.template",[],function(){return'<div id="addlink-root-view"><div class="page" data-page="add-link"><div class="page-content"><div class="list-block" style="<%= android ? \'margin-bottom: 0\' : \'\' %>"><ul><li><a id="add-link-type" class="item-link smart-select"><select name="linktype"><option value="ext"><%= scope.textExternalLink %></option><option value="int"><%= scope.textInternalLink %></option></select><div class="item-content"><div class="item-inner"><div class="item-title label"><%= scope.textLinkType %></div><div class="item-after"><%= scope.textExternalLink %></div></div></div></a></li><li><a id="add-link-sheet" class="item-link smart-select"><select></select><div class="item-content"><div class="item-inner"><div class="item-title label"><%= scope.textSheet %></div><div class="item-after">Sheet 5</div></div></div></a></li> <% if (android) { %> </ul></div><div class="list-block" style="margin-top: 0"><ul> <% } %> <li><div id="add-link-range" class="item-content"><div class="item-inner" <% if (!android) { %> style="padding-right: 35px;" <% } %>><div class="item-title label"><%= scope.textRange %></div> <% if (!android) { %><div class="item-after" style="max-width: 70%;"><% } %> <div class="item-input"><input type="text" class="field right range" placeholder="<%= scope.textRequired %>"></div> <% if (!android) { %></div><% } %> </div></div></li><li><div id="add-link-url" class="item-content"><div class="item-inner" <% if (!android) { %> style="padding-right: 35px;" <% } %>><div class="item-title label"><%= scope.textLink %></div> <% if (!android) { %><div class="item-after" style="max-width: 70%;"><% } %> <div class="item-input"><input type="url" class="field right" placeholder="<%= scope.textRequired %>"></div> <% if (!android) { %></div><% } %> </div></div></li><li><div id="add-link-display" class="item-content"><div class="item-inner" <% if (!android) { %> style="padding-right: 35px;" <% } %>><div class="item-title label"><%= scope.textDisplay %></div> <% if (!android) { %><div class="item-after" style="max-width: 70%;"><% } %> <div class="item-input"><input type="text" class="field right"></div> <% if (!android) { %></div><% } %> </div></div></li><li><div id="add-link-tip" class="item-content"><div class="item-inner" <% if (!android) { %> style="padding-right: 35px;" <% } %>><div class="item-title label"><%= scope.textTip %></div> <% if (!android) { %><div class="item-after" style="max-width: 70%;"><% } %> <div class="item-input"><input type="text" class="field right"></div> <% if (!android) { %></div><% } %> </div></div></li></ul></div><div class="list-block disabled" id="add-link-insert"> <% if (android) { %> <a href="#" class="button button-fill button-raised" style="margin: 20px 16px;"><%= scope.textInsert %></a> <% } else { %> <ul><li><a href="#" class="list-button item-link"><%= scope.textInsert %></a></li></ul> <% } %> </div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/add/AddLink",["text!spreadsheeteditor/mobile/app/template/AddLink.template","backbone"],function(e,t){"use strict";SSE.Views.AddLink=t.View.extend(_.extend(function(){function t(){var e=this,t=$(".settings");$(".page[data-page=add-link]").find("input[type=url], input.range").single("input",function(e){t.find("#add-link-insert").toggleClass("disabled",_.isEmpty($(e.target).val()))}),_.delay(function(){t.find(".page[data-page=addother-link] input[type=url]").focus()},1e3),t.find("#add-link-insert").single("click",_.buffered(a,100,this)),t.find("#add-link-type select").single("change",function(t){e.fireEvent("link:changetype",[e,$(t.currentTarget).val()])}),t.find("#add-link-sheet select").single("change",function(e){var t=$(e.currentTarget).val(),a=$(e.currentTarget[e.currentTarget.selectedIndex]).text();i.internal={sheet:{index:t,caption:a}}}).val(i.internal.sheet.index),Common.Utils.addScrollIfNeed(".page[data-page=add-link]",".page[data-page=add-link] .page-content")}var i={type:"ext",internal:{}},a=function(e){var t=$(".settings"),a=i.type,n=t.find("#add-link-display input");this.fireEvent("link:insert",[{type:a,sheet:"ext"==a?void 0:i.internal.sheet.caption,url:t.find("ext"==a?"#add-link-url input":"#add-link-range input").val(),text:n.is(":disabled")?null:n.val(),tooltip:t.find("#add-link-tip input").val()}])};return{template:_.template(e),events:{},initialize:function(){},initEvents:function(){this.initControls()},render:function(){return this.layout=$("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),scope:this})),this},rootLayout:function(){return this.layout?this.layout.find("#addlink-root-view").html():""},initControls:function(){},showPage:function(e,i){if(e&&this.layout){var a=this.layout;a.find(".navbar").length||(Framework7.prototype.device.android?a.find(".page").append(i):a.prepend(i)),e.router.load({content:a.html()}),t.call(this)}},showPanel:function(){t.call(this)},optionLinkType:function(e,t){i.type=e;var a=$(".settings");"caption"!=t&&(a.find("#add-link-type select").val(e),a.find("#add-link-type .item-after").html("int"==e?this.textInternalLink:this.textExternalLink));var n=a.find("#add-link-insert");"int"==e?(a.find("#add-link-url").hide(),a.find("#add-link-sheet").show().find(".item-after").html(i.internal.sheet.caption),a.find("#add-link-range").show(),n.toggleClass("disabled",_.isEmpty(a.find("#add-link-range input").val()))):(a.find("#add-link-url").show(),a.find("#add-link-sheet").hide(),a.find("#add-link-range").hide(),n.toggleClass("disabled",_.isEmpty(a.find("#add-link-url input").val())))},optionAllowInternal:function(e){var t=$(".settings");e?t.find("#add-link-type").show():(this.optionLinkType("ext"),t.find("#add-link-type").hide())},optionDisplayText:function(e){var t=$(".settings"),i="locked"==e;i&&(e=this.textSelectedRange),t.find("#add-link-display input").prop("disabled",i).val(e),t.find("#add-link-display .label").toggleClass("disabled",i)},acceptWorksheets:function(e){this.worksheets=e;var t='<% _.each(worksheets, function(item){ %><option value="<%= item.value %>"><%= item.caption %></option><% }) %>';this.layout.find("#add-link-sheet select").html(_.template(t)({worksheets:e}));var i=$(".settings");i.length>0&&i.find("#add-link-sheet select").html(_.template(t)({worksheets:e}));var a=_.findWhere(e,{active:!0});return a&&this.setActiveWorksheet(a.value,a.caption),this},setActiveWorksheet:function(e,t){i.internal={sheet:{index:e,caption:t}};var a=$(".settings");return a.find("#add-link-sheet select").val(e),a.find("#add-link-sheet .item-after").text(t),this},getTitle:function(){return this.textAddLink},textLink:"Link",textAddLink:"Add Link",textDisplay:"Display",textTip:"Screen Tip",textInsert:"Insert",textLinkSettings:"Link Settings",textAddress:"Address",textLinkType:"Link Type",textExternalLink:"External Link",textInternalLink:"Internal Data Range",textSheet:"Sheet",textRange:"Range",textRequired:"Required",textSelectedRange:"Selected Range"}}(),SSE.Views.AddLink||{}))}),define("spreadsheeteditor/mobile/app/controller/add/AddLink",["core","spreadsheeteditor/mobile/app/view/add/AddLink"],function(e){"use strict";SSE.Controllers.AddLink=Backbone.Controller.extend(_.extend(function(){function e(e){var t=new Asc.asc_CHyperlink;if("ext"==e.type){var i=e.url,a=this.api.asc_getUrlType($.trim(i)),n=2==a;if(a<1)return void uiApp.alert(this.txtNotUrl);i=i.replace(/^\s+|\s+$/g,""),/(((^https?)|(^ftp)):\/\/)|(^mailto:)/i.test(i)||(i=(n?"mailto:":"http://")+i),i=i.replace(new RegExp("%20","g")," "),t.asc_setType(Asc.c_oAscHyperlinkType.WebLink),t.asc_setHyperlinkUrl(i),s=i}else{var o=/^[A-Z]+[1-9]\d*:[A-Z]+[1-9]\d*$/.test(e.url);if(o||(o=/^[A-Z]+[1-9]\d*$/.test(e.url)),!o)return void uiApp.alert(this.textInvalidRange);t.asc_setType(Asc.c_oAscHyperlinkType.RangeLink),t.asc_setSheet(e.sheet),t.asc_setRange(e.url);var s=e.sheet+"!"+e.url}t.asc_setText(null==e.text?null:e.text?e.text:s),t.asc_setTooltip(e.tooltip),this.api.asc_insertHyperlink(t),SSE.getController("AddContainer").hideModal()}function t(e,t){var i=this;"#addother-change-linktype"==t&&e.optionLinkType(i.optsLink.type)}function i(e,t){o.type=t,e.optionLinkType(o.type,"caption")}function a(e,t){}function n(e){var t=e||this.getView(),i=this.api.asc_getCellInfo(),a=i.asc_getFlags().asc_getSelectionType(),n=a!==Asc.c_oAscSelectionType.RangeImage&&a!==Asc.c_oAscSelectionType.RangeShape&&a!==Asc.c_oAscSelectionType.RangeShapeText&&a!==Asc.c_oAscSelectionType.RangeChart&&a!==Asc.c_oAscSelectionType.RangeChartText;t.optionDisplayText(i.asc_getFlags().asc_getLockText()?"locked":i.asc_getText()),t.optionAllowInternal(n),n&&t.optionLinkType(o.type)}var o;return{models:[],collections:[],views:["AddLink"],initialize:function(){Common.NotificationCenter.on("addcontainer:show",_.bind(this.initEvents,this)),this.addListeners({AddLink:{"panel:change":t.bind(this),"link:insert":e.bind(this),"link:changetype":i.bind(this),"link:changesheet":a.bind(this)}})},setApi:function(e){this.api=e},onLaunch:function(){this.createView("AddLink").render()},getView:function(e){return Backbone.Controller.prototype.getView.call(this,e||"AddLink")},initEvents:function(e){var t=this,i=t.api.asc_getWorksheetsCount(),a=null,s=t.api.asc_getActiveWorksheetIndex();if(i>0)for(a=[];!(--i<0);)this.api.asc_isWorksheetHidden(i)||a.unshift({value:i,caption:t.api.asc_getWorksheetName(i),active:i==s});o={type:"ext",sheets:a},_.defer(function(){var i=t.getView().acceptWorksheets(a);e&&"hyperlink"===e.panel&&(i.showPanel(),n.call(t,i))})},showPage:function(e){var t=this,i=this.getView(),a=SSE.getController("AddContainer").rootView;i.showPage(a,e);var n=t.api.asc_getCellInfo(),s=n.asc_getFlags().asc_getSelectionType(),r=s!==Asc.c_oAscSelectionType.RangeImage&&s!==Asc.c_oAscSelectionType.RangeShape&&s!==Asc.c_oAscSelectionType.RangeShapeText&&s!==Asc.c_oAscSelectionType.RangeChart&&s!==Asc.c_oAscSelectionType.RangeChartText;i.optionDisplayText(n.asc_getFlags().asc_getLockText()?"locked":n.asc_getText()),i.optionAllowInternal(r),r&&i.optionLinkType(o.type),i.fireEvent("page:show",[this,"#addlink"])},textInvalidRange:"ERROR! Invalid cells range",txtNotUrl:'This field should be a URL in the format "http://www.example.com"'}}(),SSE.Controllers.AddLink||{}))}),define("text!spreadsheeteditor/mobile/app/template/FilterOptions.template",[],function(){return'<div id="filter-root-view"><div class="navbar"><div class="navbar-inner"><div class="center sliding"><%= scope.textFilter %></div><div class="right sliding close-filter"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div></div></div><div class="pages"><div class="page" data-page="filter-root-view"><div class="page-content"><div class="list-block"><ul><li><div class="item-content buttons"><div class="item-inner"><div class="row"><a class="button no-ripple"><i class="icon sortdown"></i></a> <a class="button no-ripple"><i class="icon sortup"></i></a></div></div></div></li></ul></div><div class="list-block list-center"><ul><li id="btn-clear-filter"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textClearFilter %></div></div></div></li><li id="btn-delete-filter"><div class="item-content"><div class="item-inner"><div class="item-title"><%= scope.textDeleteFilter %></div></div></div></li></ul></div><div id="list-cells" class="list-block"></div></div></div></div></div>'}),define("spreadsheeteditor/mobile/app/view/FilterOptions",["text!spreadsheeteditor/mobile/app/template/FilterOptions.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";SSE.Views.FilterOptions=a.View.extend(i.extend(function(){return{template:i.template(e),events:{},initialize:function(){Common.NotificationCenter.on("filtercontainer:show",i.bind(this.initEvents,this)),this.on("page:show",i.bind(this.updateItemHandlers,this))},initEvents:function(){var e=this;Common.Utils.addScrollIfNeed(".view[data-page=filter-root-view] .pages",".view[data-page=filter-root-view] .page"),e.updateItemHandlers()},initControls:function(){},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),orthography:Common.SharedSettings.get("sailfish"),scope:this})),this},updateItemHandlers:function(){var e=[".page[data-page=filter-root-view]"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");t(e).single("click",i.bind(this.onItemClick,this))},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&this.showPage(a)},rootLayout:function(){if(this.layout){var e=this.layout.find("#filter-root-view");Common.SharedSettings.get("phone");return e.html()}return""},showPage:function(e,t){var i=SSE.getController("FilterOptions").rootView();if(i&&this.layout){var a=this.layout.find(e);Framework7.prototype.device.android&&a.find(".page").append(a.find(".navbar")),i.router.load({content:a.html(),animatePages:!1!==t}),this.fireEvent("page:show",[this,e])}},textFilter:"Filter Options",textClearFilter:"Clear Filter",textDeleteFilter:"Delete Filter"}}(),SSE.Views.FilterOptions||{}))}),define("spreadsheeteditor/mobile/app/controller/FilterOptions",["core","jquery","underscore","backbone","spreadsheeteditor/mobile/app/view/FilterOptions"],function(e,t,i,a){"use strict";SSE.Controllers.FilterOptions=a.Controller.extend(i.extend(function(){var e,a,n,o=[];return{models:[],collections:[],views:["FilterOptions"],initialize:function(){var e=this;e.addListeners({FilterOptions:{"page:show":e.onPageShow}})},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onSetAFDialog",i.bind(this.setSettings,this))},onLaunch:function(){this.createView("FilterOptions").render()},setMode:function(e){this.appConfig=e},showModal:function(a,o){var s=this,r=(Framework7.prototype.device.android,SSE.getController("Editor").getView("Editor").f7View);if(uiApp.closeModal(),Common.SharedSettings.get("phone"))n=$$(uiApp.pickerModal('<div class="picker-modal settings container-filter"><div class="view filter-root-view navbar-through">'+this.getView("FilterOptions").rootLayout()+"</div></div>")).on("opened",function(){i.isFunction(s.api.asc_OnShowContextMenu)&&s.api.asc_OnShowContextMenu()}).on("close",function(e){r.showNavbar(),s.isValidChecked()}).on("closed",function(){i.isFunction(s.api.asc_OnHideContextMenu)&&s.api.asc_OnHideContextMenu()}),r.hideNavbar();else{var l='<div class="popover settings container-filter"><div class="popover-angle"></div><div class="popover-inner"><div class="content-block"><div class="view popover-view filter-root-view navbar-through">'+this.getView("FilterOptions").rootLayout()+"</div></div></div></div>",c=t("#context-menu-target").css({left:a,top:Math.max(0,o)});n=uiApp.popover(l,c),$$(n).on("close",function(e){s.isValidChecked()}),Common.SharedSettings.get("android")&&Common.Utils.androidMenuTop(t(n),c)}!0===Framework7.prototype.device.android&&($$(".view.filter-root-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.filter-root-view .navbar").prependTo(".view.filter-root-view > .pages > .page")),e=uiApp.addView(".filter-root-view",{dynamicNavbar:!0,domCache:!0}),Common.NotificationCenter.trigger("filtercontainer:show"),this.onPageShow(this.getView("FilterOptions")),SSE.getController("Toolbar").getView("Toolbar").hideSearch()},isValidChecked:function(){var e=this,t=!0;o.length===o.filter(function(e){return!1===e}).length&&(t=!1),t||uiApp.modal({title:e.textErrorTitle,text:e.textErrorMsg,buttons:[{text:"OK"}]})},rootView:function(){return e},onPageShow:function(e,a){var n=this,o=t("#btn-clear-filter"),s=t("#btn-delete-filter");this.setClearDisable(),o.single("click",i.bind(n.onClickClearFilter,n)),s.single("click",i.bind(n.onClickDeleteFilter,n)),t(".sortdown").single("click",i.bind(n.onClickSort,n,"down")),t(".sortup").single("click",i.bind(n.onClickSort,n,"up")),this.setDataFilterCells()},setSettings:function(e){a=e},hideModal:function(){n&&uiApp.closeModal(n)},onClickSort:function(e){this.api.asc_sortColFilter("down"==e?Asc.c_oAscSortOptions.Ascending:Asc.c_oAscSortOptions.Descending,"",a.asc_getCellId(),a.asc_getDisplayName(),!0)},onClickClearFilter:function(){var e=this;e.api&&e.api.asc_clearFilter();for(var i=0;i<o.length;i++)o[i]=!0;setTimeout(function(){e.updateCell()},20),t('[name="filter-cell"]').prop("checked",!0),t('[name="filter-cell-all"]').prop("checked",!0)},onClickDeleteFilter:function(){var e=this.api.asc_getCellInfo().asc_getFormatTableInfo(),t=e?e.asc_getTableName():void 0;this.api&&this.api.asc_changeAutoFilter(t,Asc.c_oAscChangeFilterOptions.filter,!1),this.hideModal()},setClearDisable:function(){var e=t("#btn-clear-filter"),i=a.asc_getValues();i.filter(function(e){return 1==e.visible}).length==i.length?e.addClass("disabled"):e.removeClass("disabled")},setDataFilterCells:function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}var n,s,r=this,l=0,c=0,d=0,p=[],u=[];if(a.asc_getValues().forEach(function(t){s=t.asc_getText(),n=e(s),void 0==u[c]&&(u[c]=t.asc_getVisible()),p.push({id:l++,selected:!1,allowSelected:!0,cellvalue:s||r.textEmptyItem,
value:n?s:s.length>0?s:r.textEmptyItem,intval:n?parseFloat(s):void 0,strval:n?"":s,groupid:"1",check:u[c],throughIndex:c}),u[c]&&d++,++c}),o=u,p.length>0){var h=i.template(["<%  _.each(cells, function (cell) { %>",'<li><label class="label-radio item-content"><input id="<%= cell.throughIndex %>" type="checkbox" name="filter-cell" value="<%= cell.cellvalue%>"/><% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %><div class="item-inner"><div class="item-title"><%= cell.cellvalue%></div></div></label></li>',"<% }); %>"].join("")),m=i.template('<ul><li><label class="label-radio item-content"><input type="checkbox" name="filter-cell-all" /><% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %><div class="item-inner"><div class="item-title"><%= textSelectAll %></div></div></label></li>'+h({cells:p,android:Framework7.prototype.device.android})+"</ul>");t("#list-cells").html(m({textSelectAll:this.textSelectAll,android:Framework7.prototype.device.android}));var f=t('[name="filter-cell"]'),g=t('[name="filter-cell-all"]');if(f.single("change",i.bind(r.updateCell,r)),g.single("change",i.bind(r.updateCell,r)),d==p.length)g.prop("checked",!0),f.prop("checked",!0);else for(var v=0;v<p.length;v++)f.eq(v).prop("checked",u[v])}},updateCell:function(e){var i=this,n=t('[name="filter-cell"]'),s=t('[name="filter-cell-all"]'),r=t('[name="filter-cell"]:checked').length,l=t('[name="filter-cell"]').length;if(e&&("filter-cell"==e.target.name&&(r<l?s.prop("checked",!1):r===l&&s.prop("checked",!0),o[e.target.id]=e.target.checked),"filter-cell-all"==e.target.name)){var c=!1;e.target.checked?(n.prop("checked",!0),c=!0):(n.prop("checked",!1),c=!1,!1,r=0);for(var d=0;d<o.length;d++)o[d]=c}if(0!==r){a.asc_getValues().forEach(function(e,t){e.asc_setVisible(o[t])}),a.asc_getFilterObj().asc_setType(Asc.c_oAscAutoFilterTypes.Filters),this.api.asc_applyAutoFilter(a)}i.setClearDisable()},textEmptyItem:"{Blanks}",textSelectAll:"Select All",textErrorTitle:"Warning",textErrorMsg:"You must choose at least one value"}}(),SSE.Controllers.FilterOptions||{}))}),define("text!common/mobile/lib/template/Collaboration.template",[],function(){return'\x3c!-- Root view --\x3e\n<div id="collaboration-root-view">\n    <div class="navbar">\n        <div class="navbar-inner">\n            <div class="center sliding"><%= scope.textCollaboration %></div>\n            <div class="right sliding close-collaboration"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div>\n        </div>\n    </div>\n    <div class="pages">\n        <div class="page" data-page="collaboration-root-view">\n            <div class="page-content">\n                <div class="list-block">\n                    <ul>\n                        <li>\n                            <a id="list-edit-users" class="item-link" data-page="#edit-users-view">\n                                <div class="item-content">\n                                    <div class="item-inner">\n                                        <div class="item-title"><%= scope.textEditUsers %></div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a id="comments-settings" class="item-link" data-page="#comments-view">\n                                <div class="item-content">\n                                    <div class="item-inner">\n                                        <div class="item-title"><%= scope.textСomments %></div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        <% if (editor === \'DE\') { %>\n                        <li>\n                            <a id="reviewing-settings" class="item-link" data-page="#reviewing-settings-view">\n                                <div class="item-content">\n                                    <div class="item-inner">\n                                        <div class="item-title"><%= scope.textReviewing %></div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        <% } %>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\x3c!-- Editable Users view --\x3e\n<div id="edit-users-view">\n    <div class="navbar">\n        <div class="navbar-inner">\n            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div>\n            <div class="center sliding"><%= scope.textEditUsers %></div>\n            <div class="right sliding"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div>\n        </div>\n    </div>\n    <div class="pages">\n        <div class="page page-change" data-page="edit-users-view">\n            <div class="page-content">\n                <div id="user-list" class="list-block">\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\x3c!-- Reviewing Settings view --\x3e\n<div id="reviewing-settings-view">\n    <div class="navbar">\n        <div class="navbar-inner">\n            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div>\n            <div class="center sliding"><%= scope.textReviewing %></div>\n            <div class="right sliding"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div>\n        </div>\n    </div>\n    <div class="pages">\n        <div class="page" data-page="reviewing-settings-view">\n            <div class="page-content">\n                <div class="list-block">\n                    <ul>\n                        <li>\n                            <div id="settings-review" class="item-content">\n                                <div class="item-inner">\n                                    <div class="item-title"><%= scope.textReview %></div>\n                                    <div class="item-after">\n                                        <label class="label-switch">\n                                            <input type="checkbox">\n                                            <div class="checkbox"></div>\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </li>\n                        <li>\n                            <a id="display-mode-settings" class="item-link" data-page="#display-mode-view">\n                                <div class="item-content">\n                                    <div class="item-inner">\n                                        <div class="item-title"><%= scope.textDisplayMode %></div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a id="change-settings" class="item-link" data-page="#change-view">\n                                <div class="item-content">\n                                    <div class="item-inner">\n                                        <div class="item-title"><%= scope.textChange %></div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <div id="settings-accept-all" class="item-content">\n                                <div class="item-inner">\n                                    <div class="item-title"><%= scope.textAcceptAllChanges %></div>\n                                </div>\n                            </div>\n                        </li>\n                        <li>\n                            <div id="settings-reject-all" class="item-content">\n                                <div class="item-inner">\n                                    <div class="item-title"><%= scope.textRejectAllChanges %></div>\n                                </div>\n                            </div>\n                        </li>\n\n                    </ul>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n\n\x3c!-- Display Mode view --\x3e\n<div id="display-mode-view">\n    <div class="navbar">\n        <div class="navbar-inner">\n            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div>\n            <div class="center sliding"><%= scope.textDisplayMode %></div>\n            <div class="right sliding"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div>\n        </div>\n    </div>\n    <div class="pages">\n        <div class="page" data-page="display-mode-view">\n            <div class="page-content">\n                <div class="list-block">\n                    <ul>\n                        <li>\n                            <label class="label-radio item-content">\n                                <input type="radio" name="doc-orientation" value="markup">\n                                <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %>\n                                <div class="item-inner">\n                                    <div class="item-title"><%= scope.textMarkup %></div>\n                                </div>\n                            </label>\n                        </li>\n                        <li>\n                            <label class="label-radio item-content">\n                                <input type="radio" name="doc-orientation" value="final">\n                                <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %>\n                                <div class="item-inner">\n                                    <div class="item-title"><%= scope.textFinal %></div>\n                                </div>\n                            </label>\n                        </li>\n                        <li>\n                            <label class="label-radio item-content">\n                                <input type="radio" name="doc-orientation" value="original">\n                                <% if (android) { %><div class="item-media"><i class="icon icon-form-radio"></i></div><% } %>\n                                <div class="item-inner">\n                                    <div class="item-title"><%= scope.textOriginal %></div>\n                                </div>\n                            </label>\n                        </li>\n                    </ul>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>\n\n\x3c!-- Change view --\x3e\n<div id="change-view">\n    <div class="navbar">\n        <div class="navbar-inner">\n            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div>\n            <div class="center sliding"><%= scope.textChange %></div>\n            <div class="right sliding"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div>\n        </div>\n    </div>\n    <div class="pages">\n        <div class="page page-change" data-page="change-view">\n            <div class="page-content">\n                <div class="content-block block-btn">\n                <span class="next-prev">\n                <a href="#" id="btn-prev-change" class="link icon-only"><i class="icon icon-prev-change"></i></a>\n                <a href="#" id="btn-next-change" class="link icon-only"><i class="icon icon-next-change"></i></a>\n                </span>\n                    <span class="right-buttons">\n                <a href="#" id="btn-goto-change" class="link icon-only" style="display: none;"><i class="icon icon-goto"></i></a>\n                <span class="accept-reject">\n                <a href="#" id="btn-accept-change" class="link icon-only"><i class="icon icon-accept"></i></a>\n                <a href="#" id="btn-reject-change" class="link icon-only"><i class="icon icon-reject"></i></a>\n                </span>\n                </span>\n                </div>\n                <div id="current-change" class="content-block block-description">\n                    <p id="user-name"></p>\n                    <p id="date-change"></p>\n                    <p id="text-change"></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\x3c!-- Comments view --\x3e\n<div id="comments-view">\n    <div class="navbar">\n        <div class="navbar-inner">\n            <div class="left sliding"><a href="#" class="back link"> <i class="icon icon-back"></i><% if (!android) { %><span><%= scope.textBack %></span><% } %></a></div>\n            <div class="center sliding"><%= scope.textСomments %></div>\n            <div class="right sliding"><% if (phone) { %><a href="#" class="link icon-only close-picker"><i class="icon icon-expand-down"></i></a><% } %></div>\n        </div>\n    </div>\n    <div class="pages">\n        <div class="page page-comments" data-page="comments-view">\n            <div class="page-content">\n                <div class="list-block">\n                    <ul id="comments-list"></ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),void 0===Common)var Common={};if(Common.Views=Common.Views||{},define("common/mobile/lib/view/Collaboration",["text!common/mobile/lib/template/Collaboration.template","jquery","underscore","backbone"],function(e,t,i,a){"use strict";Common.Views.Collaboration=a.View.extend(i.extend(function(){return{template:i.template(e),events:{},initialize:function(){Common.NotificationCenter.on("collaborationcontainer:show",i.bind(this.initEvents,this)),this.on("page:show",i.bind(this.updateItemHandlers,this))},initEvents:function(){var e=this;Common.Utils.addScrollIfNeed(".view[data-page=collaboration-root-view] .pages",".view[data-page=collaboration-root-view] .page"),e.updateItemHandlers()},initControls:function(){},render:function(){return this.layout=t("<div/>").append(this.template({android:Common.SharedSettings.get("android"),phone:Common.SharedSettings.get("phone"),orthography:Common.SharedSettings.get("sailfish"),scope:this,editor:window.DE?"DE":window.PE?"PE":"SSE"})),this},updateItemHandlers:function(){var e=[".page[data-page=collaboration-root-view]",".page[data-page=reviewing-settings-view]"].map(function(e){return e+" a.item-link[data-page]"}).join(", ");t(e).single("click",i.bind(this.onItemClick,this))},onItemClick:function(e){var i=t(e.currentTarget),a=i.data("page");a&&a.length>0&&this.showPage(a)},rootLayout:function(){if(this.layout){var e=this.layout.find("#collaboration-root-view");Common.SharedSettings.get("phone");return e.html()}return""},showPage:function(e,t){var i=window.DE?DE:window.PE?PE:SSE,a=i.getController("Common.Controllers.Collaboration").rootView();if(a&&this.layout){var n=this.layout.find(e);Framework7.prototype.device.android&&n.find(".page").append(n.find(".navbar")),a.router.load({content:n.html(),animatePages:!1!==t}),this.fireEvent("page:show",[this,e])}},renderComments:function(e){var a=t(".page-comments .page-content");if(e){t("#no-comments").length>0&&t("#no-comments").remove();var n=t("#comments-list"),o=[];i.each(e,function(e){var t=['<li class="comment item-content">','<div class="item-inner">','<p class="user-name"><%= item.username %></p>','<p class="comment-date"><%= item.date %></p>',"<% if(item.quote) {%>",'<p class="comment-quote" data-id="<%= item.uid %>"><%= item.quote %></p>',"<% } %>",'<p class="comment-text"><%= item.comment %></p>',"<% if(replys > 0) {%>",'<ul class="list-reply">',"<% _.each(item.replys, function (reply) { %>",'<li class="reply-item">','<p class="user-name"><%= reply.username %></p>','<p class="reply-date"><%= reply.date %></p>','<p class="reply-text"><%= reply.reply %></p>',"</li>","<% }); %>","</ul>","<% } %>","</div>","</li>"].join("");o.push(i.template(t)({android:Framework7.prototype.device.android,item:e,replys:e.replys.length}))}),n.html(o)}else{t(".comment").length>0&&t(".comment").remove();var s='<div id="no-comments" style="text-align: center; margin-top: 35px;">'+this.textNoComments+"</div>";a.append(i.template(s))}},textCollaboration:"Collaboration",textReviewing:"Review","textСomments":"Сomments",textBack:"Back",textReview:"Track Changes",textAcceptAllChanges:"Accept All Changes",textRejectAllChanges:"Reject All Changes",textDisplayMode:"Display Mode",textMarkup:"Markup",textFinal:"Final",textOriginal:"Original",textChange:"Review Change",textEditUsers:"Users",textNoComments:"This document doesn't contain comments"}}(),Common.Views.Collaboration||{}))}),void 0===Common)var Common={};Common.Controllers=Common.Controllers||{},define("common/mobile/lib/controller/Collaboration",["core","jquery","underscore","backbone","common/mobile/lib/view/Collaboration"],function(e,t,i,a){"use strict";Common.Controllers.Collaboration=a.Controller.extend(i.extend(function(){var e,a,n,o,s=[],r=window.DE?"DE":window.PE?"PE":"SSE",l="markup",c=[],d=[];return{models:[],collections:[],views:["Common.Views.Collaboration"],initialize:function(){var e=this;e.addListeners({"Common.Views.Collaboration":{"page:show":e.onPageShow}}),Common.NotificationCenter.on("comments:filterchange",i.bind(this.onFilterChange,this))},setApi:function(e){this.api=e,this.api.asc_registerCallback("asc_onAuthParticipantsChanged",i.bind(this.onChangeEditUsers,this)),this.api.asc_registerCallback("asc_onParticipantsChanged",i.bind(this.onChangeEditUsers,this)),this.api.asc_registerCallback("asc_onAddComment",i.bind(this.onApiAddComment,this)),this.api.asc_registerCallback("asc_onAddComments",i.bind(this.onApiAddComments,this)),this.api.asc_registerCallback("asc_onChangeCommentData",i.bind(this.onApiChangeCommentData,this)),this.api.asc_registerCallback("asc_onRemoveComment",i.bind(this.onApiRemoveComment,this)),"DE"===r&&this.api.asc_registerCallback("asc_onShowRevisionsChange",i.bind(this.changeReview,this))},onLaunch:function(){this.createView("Common.Views.Collaboration").render()},setMode:function(e){return this.appConfig=e,a=e.user.id,"DE"===r&&(o=e.fileKey),this},showModal:function(){var a,n=this,o=(Framework7.prototype.device.android,window.DE?DE:window.PE?PE:SSE),s=o.getController("Editor").getView("Editor").f7View;if(uiApp.closeModal(),Common.SharedSettings.get("phone")?(a=$$(uiApp.pickerModal('<div class="picker-modal settings container-collaboration"><div class="view collaboration-root-view navbar-through">'+this.getView("Common.Views.Collaboration").rootLayout()+"</div></div>")).on("opened",function(){i.isFunction(n.api.asc_OnShowContextMenu)&&n.api.asc_OnShowContextMenu()}).on("close",function(e){s.showNavbar()}).on("closed",function(){i.isFunction(n.api.asc_OnHideContextMenu)&&n.api.asc_OnHideContextMenu()}),s.hideNavbar()):a=uiApp.popover('<div class="popover settings container-collaboration"><div class="popover-angle"></div><div class="popover-inner"><div class="content-block"><div class="view popover-view collaboration-root-view navbar-through">'+this.getView("Common.Views.Collaboration").rootLayout()+"</div></div></div></div>",$$("#toolbar-collaboration")),!0===Framework7.prototype.device.android&&($$(".view.collaboration-root-view.navbar-through").removeClass("navbar-through").addClass("navbar-fixed"),$$(".view.collaboration-root-view .navbar").prependTo(".view.collaboration-root-view > .pages > .page")),e=uiApp.addView(".collaboration-root-view",{dynamicNavbar:!0,domCache:!0}),!Common.SharedSettings.get("phone")){this.picker=$$(a);var r=t(".modal-overlay");$$(this.picker).on("opened",function(){r.on("removeClass",function(){r.hasClass("modal-overlay-visible")||r.addClass("modal-overlay-visible")})}).on("close",function(){r.off("removeClass"),r.removeClass("modal-overlay-visible")})}Common.NotificationCenter.trigger("collaborationcontainer:show"),this.onPageShow(this.getView("Common.Views.Collaboration")),o.getController("Toolbar").getView("Toolbar").hideSearch()},rootView:function(){return e},onPageShow:function(e,i){var a=this;"#reviewing-settings-view"==i?(a.initReviewingSettingsView(),Common.Utils.addScrollIfNeed(".page[data-page=reviewing-settings-view]",".page[data-page=reviewing-settings-view] .page-content")):"#display-mode-view"==i?(a.initDisplayMode(),Common.Utils.addScrollIfNeed(".page[data-page=display-mode-view]",".page[data-page=display-mode-view] .page-content")):"#change-view"==i?(a.initChange(),Common.Utils.addScrollIfNeed(".page[data-page=change-view]",".page[data-page=change-view] .page-content")):"#edit-users-view"==i?(a.initEditUsers(),Common.Utils.addScrollIfNeed(".page[data-page=edit-users-view]",".page[data-page=edit-users-view] .page-content")):"#comments-view"==i?(a.initComments(),Common.Utils.addScrollIfNeed(".page[data-page=comments-view]",".page[data-page=comments-view] .page-content")):"DE"!==r||this.appConfig.canReview||n||t("#reviewing-settings").hide()},onChangeEditUsers:function(e){s=e},initEditUsers:function(){var e=[];i.each(s,function(t){var i=t.asc_getUserName().split(" "),n=i[0].substring(0,1).toUpperCase();if(i.length>1&&(n+=i[i.length-1].substring(0,1).toUpperCase()),!t.asc_getView()){var o={color:t.asc_getColor(),id:t.asc_getId(),idOriginal:t.asc_getIdOriginal(),name:t.asc_getUserName(),view:t.asc_getView(),initial:n};t.asc_getIdOriginal()==a?e.unshift(o):e.push(o)}});var n=i.chain(e).groupBy("idOriginal").value(),o=i.template(["<%  _.each(users, function (user) { %>",'<li id="<%= user[0].id %>" class="<% if (user[0].view) {%> viewmode <% } %> item-content"><div class="user-name item-inner"><div class="color" style="background-color: <%= user[0].color %>;"><%= user[0].initial %></div><label><%= user[0].name %></label><% if (user.length>1) { %><label class="length"> (<%= user.length %>)</label><% } %></div></li>',"<% }); %>"].join("")),r=i.template('<div class="item-content"><div class="item-inner">'+this.textEditUser+"</div></div><ul>"+o({users:n})+"</ul>");t("#user-list").html(r())},initReviewingSettingsView:function(){var e=this;t("#settings-review input:checkbox").attr("checked",this.appConfig.isReviewOnly||Common.localStorage.getBool("de-mobile-track-changes-"+(o||""))),t("#settings-review input:checkbox").single("change",i.bind(e.onTrackChanges,e)),t("#settings-accept-all").single("click",i.bind(e.onAcceptAllClick,e)),t("#settings-reject-all").single("click",i.bind(e.onRejectAllClick,e)),this.appConfig.isReviewOnly||"final"==l||"original"==l?(t("#settings-accept-all").addClass("disabled"),t("#settings-reject-all").addClass("disabled"),t("#settings-review").addClass("disabled")):(t("#settings-accept-all").removeClass("disabled"),t("#settings-reject-all").removeClass("disabled"),t("#settings-review").removeClass("disabled")),this.appConfig.canReview||(t("#settings-review").hide(),t("#settings-accept-all").hide(),t("#settings-reject-all").hide())},onTrackChanges:function(e){var i=t(e.currentTarget),a=i.is(":checked");if(this.appConfig.isReviewOnly)i.attr("checked",!0);else{this.api.asc_SetTrackRevisions(a);var n=window.DE?"de":window.PE?"pe":"sse";Common.localStorage.setItem(n+"-mobile-track-changes-"+(o||""),a?1:0)}},onAcceptAllClick:function(){this.api&&this.api.asc_AcceptAllChanges()},onRejectAllClick:function(){this.api&&this.api.asc_RejectAllChanges()},initDisplayMode:function(){var e=this;t("input:radio").single("change",i.bind(e.onReviewViewClick,e));var a=l;null==a||"markup"===a?t('input[value="markup"]').attr("checked",!0):"final"===a?t('input[value="final"]').attr("checked",!0):"original"===a&&t('input[value="original"]').attr("checked",!0)},getDisplayMode:function(){return l},setCanViewReview:function(e){n=e},onReviewViewClick:function(e){var i=t(e.currentTarget).val();this.turnDisplayMode(i),!this.appConfig.canReview&&Common.localStorage.setItem("de-view-review-mode",i)},turnDisplayMode:function(e,t){l=e.toLocaleLowerCase(),this.api&&("final"===l?this.api.asc_BeginViewModeInReview(!0):"original"===l?this.api.asc_BeginViewModeInReview(!1):this.api.asc_EndViewModeInReview()),!t&&this.initReviewingSettingsView(),DE.getController("Toolbar").setDisplayMode(l)},initChange:function(){var e=!1;0==c.length&&this.api.asc_GetNextRevisionsChange(),0==c.length?t("#current-change").css("display","none"):(t("#current-change #date-change").html(c[0].date),t("#current-change #user-name").html(c[0].user),t("#current-change #text-change").html(c[0].changetext),e=c[0].goto),e?t("#btn-goto-change").show():t("#btn-goto-change").hide(),t("#btn-prev-change").single("click",i.bind(this.onPrevChange,this)),t("#btn-next-change").single("click",i.bind(this.onNextChange,this)),t("#btn-accept-change").single("click",i.bind(this.onAcceptCurrentChange,this)),t("#btn-reject-change").single("click",i.bind(this.onRejectCurrentChange,this)),t("#btn-goto-change").single("click",i.bind(this.onGotoNextChange,this)),this.appConfig.isReviewOnly&&(t("#btn-accept-change").remove(),t("#btn-reject-change").remove(),0!=c.length&&c[0].editable&&(t(".accept-reject").html('<div id="btn-delete-change"><i class="icon icon-delete-change"></i></div>'),t("#btn-delete-change").single("click",i.bind(this.onDeleteChange,this)))),"final"!=l&&"original"!=l||(t("#btn-accept-change").addClass("disabled"),t("#btn-reject-change").addClass("disabled"),t("#btn-prev-change").addClass("disabled"),t("#btn-next-change").addClass("disabled")),this.appConfig.canReview||(t("#btn-accept-change").addClass("disabled"),t("#btn-reject-change").addClass("disabled"))},onPrevChange:function(){this.api.asc_GetPrevRevisionsChange()},onNextChange:function(){this.api.asc_GetNextRevisionsChange()},onAcceptCurrentChange:function(){var e=this;this.api&&(this.api.asc_AcceptChanges(d[0]),setTimeout(function(){e.api.asc_GetNextRevisionsChange()},10))},onRejectCurrentChange:function(){var e=this;this.api&&(this.api.asc_RejectChanges(d[0]),setTimeout(function(){e.api.asc_GetNextRevisionsChange()},10))},updateInfoChange:function(){t("[data-page=change-view]").length>0&&(0==c.length?(t("#current-change #date-change").empty(),t("#current-change #user-name").empty(),t("#current-change #text-change").empty(),t("#current-change").hide(),t("#btn-goto-change").hide(),t("#btn-delete-change").hide()):(t("#current-change").show(),this.initChange()))},changeReview:function(e){if(e&&e.length>0){var t=this,n=[];i.each(e,function(e){var o="",s="",r=e.get_Value(),l=e.get_MoveType();switch(e.get_Type()){case Asc.c_oAscRevisionsChangeType.TextAdd:o=l==Asc.c_oAscRevisionsMove.NoMove?t.textInserted:t.textParaMoveTo,"object"==typeof r?i.each(r,function(e){if("string"==typeof e)o+=" "+Common.Utils.String.htmlEncode(e);else switch(e){case 0:o+=" &lt;"+t.textImage+"&gt;";break;case 1:o+=" &lt;"+t.textShape+"&gt;";break;case 2:o+=" &lt;"+t.textChart+"&gt;";break;case 3:o+=" &lt;"+t.textEquation+"&gt;"}}):"string"==typeof r&&(o+=" "+Common.Utils.String.htmlEncode(r));break;case Asc.c_oAscRevisionsChangeType.TextRem:o=l==Asc.c_oAscRevisionsMove.NoMove?t.textDeleted:e.is_MovedDown()?t.textParaMoveFromDown:t.textParaMoveFromUp,"object"==typeof r?i.each(r,function(e){if("string"==typeof e)o+=" "+Common.Utils.String.htmlEncode(e);else switch(e){case 0:o+=" &lt;"+t.textImage+"&gt;";break;case 1:o+=" &lt;"+t.textShape+"&gt;";break;case 2:o+=" &lt;"+t.textChart+"&gt;";break;case 3:o+=" &lt;"+t.textEquation+"&gt;"}}):"string"==typeof r&&(o+=" "+Common.Utils.String.htmlEncode(r));break;case Asc.c_oAscRevisionsChangeType.ParaAdd:o=t.textParaInserted;break;case Asc.c_oAscRevisionsChangeType.ParaRem:o=t.textParaDeleted;break;case Asc.c_oAscRevisionsChangeType.TextPr:o="<b>"+t.textFormatted,void 0!==r.Get_Bold()&&(s+=(r.Get_Bold()?"":t.textNot)+t.textBold+", "),void 0!==r.Get_Italic()&&(s+=(r.Get_Italic()?"":t.textNot)+t.textItalic+", "),void 0!==r.Get_Underline()&&(s+=(r.Get_Underline()?"":t.textNot)+t.textUnderline+", "),void 0!==r.Get_Strikeout()&&(s+=(r.Get_Strikeout()?"":t.textNot)+t.textStrikeout+", "),void 0!==r.Get_DStrikeout()&&(s+=(r.Get_DStrikeout()?"":t.textNot)+t.textDStrikeout+", "),void 0!==r.Get_Caps()&&(s+=(r.Get_Caps()?"":t.textNot)+t.textCaps+", "),void 0!==r.Get_SmallCaps()&&(s+=(r.Get_SmallCaps()?"":t.textNot)+t.textSmallCaps+", "),void 0!==r.Get_VertAlign()&&(s+=(1==r.Get_VertAlign()?t.textSuperScript:2==r.Get_VertAlign()?t.textSubScript:t.textBaseline)+", "),void 0!==r.Get_Color()&&(s+=t.textColor+", "),void 0!==r.Get_Highlight()&&(s+=t.textHighlight+", "),void 0!==r.Get_Shd()&&(s+=t.textShd+", "),void 0!==r.Get_FontFamily()&&(s+=r.Get_FontFamily()+", "),void 0!==r.Get_FontSize()&&(s+=r.Get_FontSize()+", "),void 0!==r.Get_Spacing()&&(s+=t.textSpacing+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_Spacing()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),void 0!==r.Get_Position()&&(s+=t.textPosition+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_Position()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),void 0!==r.Get_Lang()&&(s+=Common.util.LanguageInfo.getLocalLanguageName(r.Get_Lang())[1]+", "),i.isEmpty(s)||(o+=": ",s=s.substring(0,s.length-2)),o+="</b>",o+=s;break;case Asc.c_oAscRevisionsChangeType.ParaPr:if(o="<b>"+t.textParaFormatted,r.Get_ContextualSpacing()&&(s+=(r.Get_ContextualSpacing()?t.textContextual:t.textNoContextual)+", "),void 0!==r.Get_IndLeft()&&(s+=t.textIndentLeft+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_IndLeft()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),void 0!==r.Get_IndRight()&&(s+=t.textIndentRight+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_IndRight()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),void 0!==r.Get_IndFirstLine()&&(s+=t.textFirstLine+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_IndFirstLine()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),void 0!==r.Get_Jc())switch(r.Get_Jc()){case 0:s+=t.textRight+", ";break;case 1:s+=t.textLeft+", ";break;case 2:s+=t.textCenter+", ";break;case 3:s+=t.textJustify+", "}if(void 0!==r.Get_KeepLines()&&(s+=(r.Get_KeepLines()?t.textKeepLines:t.textNoKeepLines)+", "),r.Get_KeepNext()&&(s+=(r.Get_KeepNext()?t.textKeepNext:t.textNoKeepNext)+", "),r.Get_PageBreakBefore()&&(s+=(r.Get_PageBreakBefore()?t.textBreakBefore:t.textNoBreakBefore)+", "),void 0!==r.Get_SpacingLineRule()&&void 0!==r.Get_SpacingLine()&&(s+=t.textLineSpacing,s+=(r.Get_SpacingLineRule()==c_paragraphLinerule.LINERULE_LEAST?t.textAtLeast:r.Get_SpacingLineRule()==c_paragraphLinerule.LINERULE_AUTO?t.textMultiple:t.textExact)+" ",s+=(r.Get_SpacingLineRule()==c_paragraphLinerule.LINERULE_AUTO?r.Get_SpacingLine():Common.Utils.Metric.fnRecalcFromMM(r.Get_SpacingLine()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName())+", "),r.Get_SpacingBeforeAutoSpacing()?s+=t.textSpacingBefore+" "+t.textAuto+", ":void 0!==r.Get_SpacingBefore()&&(s+=t.textSpacingBefore+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_SpacingBefore()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),r.Get_SpacingAfterAutoSpacing()?s+=t.textSpacingAfter+" "+t.textAuto+", ":void 0!==r.Get_SpacingAfter()&&(s+=t.textSpacingAfter+" "+Common.Utils.Metric.fnRecalcFromMM(r.Get_SpacingAfter()).toFixed(2)+" "+Common.Utils.Metric.getCurrentMetricName()+", "),
r.Get_WidowControl()&&(s+=(r.Get_WidowControl()?t.textWidow:t.textNoWidow)+", "),void 0!==r.Get_Tabs()&&(s+=s+=t.textTabs+", "),void 0!==r.Get_NumPr()&&(s+=s+=t.textNum+", "),void 0!==r.Get_PStyle()){var c=t.api.asc_GetStyleNameById(r.Get_PStyle());i.isEmpty(c)||(s+=c+", ")}i.isEmpty(s)||(o+=": ",s=s.substring(0,s.length-2)),o+="</b>",o+=s;break;case Asc.c_oAscRevisionsChangeType.TablePr:o=t.textTableChanged;break;case Asc.c_oAscRevisionsChangeType.RowsAdd:o=t.textTableRowsAdd;break;case Asc.c_oAscRevisionsChangeType.RowsRem:o=t.textTableRowsDel}var d=""==e.get_DateTime()?new Date:new Date(e.get_DateTime()),p=e.get_UserName(),u=e.get_MoveType()==Asc.c_oAscRevisionsMove.MoveTo||e.get_MoveType()==Asc.c_oAscRevisionsMove.MoveFrom;d=t.dateToLocaleTimeString(d);var h=e.get_UserId()==a;n.push({date:d,user:p,changetext:o,goto:u,editable:h})}),c=n,d=e}else c=[],d=[];this.updateInfoChange()},dateToLocaleTimeString:function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+function(e){var t=e.getHours(),i=e.getMinutes(),a=t>=12?"pm":"am";return t%=12,t=t||12,i=i<10?"0"+i:i,t+":"+i+" "+a}(e)},onDeleteChange:function(){this.api&&this.api.asc_RejectChanges(d[0])},onGotoNextChange:function(){this.api&&this.api.asc_FollowRevisionMove(d[0])},groupCollectionComments:[],collectionComments:[],groupCollectionFilter:[],filter:[],initComments:function(){this.getView("Common.Views.Collaboration").renderComments(0!==this.groupCollectionFilter.length?this.groupCollectionFilter:0!==this.collectionComments.length&&this.collectionComments),t(".comment-quote").single("click",i.bind(this.onSelectComment,this))},readSDKReplies:function(e){var t=0,a=[],n=null,o=e.asc_getRepliesCount();if(o)for(t=0;t<o;++t){n=e.asc_getReply(t).asc_getOnlyOfficeTime()?new Date(this.stringOOToLocalDate(e.asc_getReply(t).asc_getOnlyOfficeTime())):""==e.asc_getReply(t).asc_getTime()?new Date:new Date(this.stringUtcToLocalDate(e.asc_getReply(t).asc_getTime()));var r=i.findWhere(s,{idOriginal:e.asc_getReply(t).asc_getUserId()});a.push({userid:e.asc_getReply(t).asc_getUserId(),username:e.asc_getReply(t).asc_getUserName(),usercolor:r?r.asc_getColor():null,date:this.dateToLocaleTimeString(n),reply:e.asc_getReply(t).asc_getText(),time:n.getTime()})}return a},readSDKComment:function(e,t){var a=t.asc_getOnlyOfficeTime()?new Date(this.stringOOToLocalDate(t.asc_getOnlyOfficeTime())):""==t.asc_getTime()?new Date:new Date(this.stringUtcToLocalDate(t.asc_getTime())),n=i.findWhere(s,{idOriginal:t.asc_getUserId()}),o=e.substr(0,e.lastIndexOf("_")+1).match(/^(doc|sheet[0-9_]+)_/),r={uid:e,userid:t.asc_getUserId(),username:t.asc_getUserName(),usercolor:n?n.asc_getColor():null,date:this.dateToLocaleTimeString(a),quote:t.asc_getQuoteText(),comment:t.asc_getText(),resolved:t.asc_getSolved(),unattached:!i.isUndefined(t.asc_getDocumentFlag)&&t.asc_getDocumentFlag(),time:a.getTime(),replys:[],groupName:o&&o.length>1?o[1]:null};if(r){var l=this.readSDKReplies(t);l.length&&(r.replys=l)}return r},onApiChangeCommentData:function(e,a){var n=this,o=0,r=null,l=null,c=0,d=null,p=i.findWhere(n.collectionComments,{uid:e})||this.findCommentInGroup(e);if(p){r=a.asc_getOnlyOfficeTime()?new Date(this.stringOOToLocalDate(a.asc_getOnlyOfficeTime())):""==a.asc_getTime()?new Date:new Date(this.stringUtcToLocalDate(a.asc_getTime()));var u=i.findWhere(s,{idOriginal:a.asc_getUserId()});for(p.comment=a.asc_getText(),p.userid=a.asc_getUserId(),p.username=a.asc_getUserName(),p.usercolor=u?u.asc_getColor():null,p.resolved=a.asc_getSolved(),p.quote=a.asc_getQuoteText(),p.time=r.getTime(),p.date=n.dateToLocaleTimeString(r),l=i.clone(p.replys),l.length=0,c=a.asc_getRepliesCount(),o=0;o<c;++o)d=a.asc_getReply(o).asc_getOnlyOfficeTime()?new Date(this.stringOOToLocalDate(a.asc_getReply(o).asc_getOnlyOfficeTime())):""==a.asc_getReply(o).asc_getTime()?new Date:new Date(this.stringUtcToLocalDate(a.asc_getReply(o).asc_getTime())),u=i.findWhere(s,{idOriginal:a.asc_getReply(o).asc_getUserId()}),l.push({userid:a.asc_getReply(o).asc_getUserId(),username:a.asc_getReply(o).asc_getUserName(),usercolor:u?u.asc_getColor():null,date:n.dateToLocaleTimeString(d),reply:a.asc_getReply(o).asc_getText(),time:d.getTime()});p.replys=l,t(".page-comments").length>0&&this.initComments()}},onApiAddComment:function(e,i){var a=this.readSDKComment(e,i);a&&(a.groupName?this.addCommentToGroupCollection(a):this.collectionComments.push(a)),t(".page-comments").length>0&&this.initComments()},onApiAddComments:function(e){for(var i=0;i<e.length;++i){var a=this.readSDKComment(e[i].asc_getId(),e[i]);a.groupName?this.addCommentToGroupCollection(a):this.collectionComments.push(a)}t(".page-comments").length>0&&this.initComments()},stringOOToLocalDate:function(e){return"string"==typeof e?parseInt(e):0},stringUtcToLocalDate:function(e){return"string"==typeof e?parseInt(e)+this.timeZoneOffsetInMs:0},addCommentToGroupCollection:function(e){var t=e.groupName;this.groupCollectionComments[t]||(this.groupCollectionComments[t]=[]),this.groupCollectionComments[t].push(e),-1!=this.filter.indexOf(t)&&this.groupCollectionFilter.push(e)},findCommentInGroup:function(e){for(var t in this.groupCollectionComments){var a=this.groupCollectionComments[t],n=i.findWhere(a,{uid:e});if(n)return n}},onApiRemoveComment:function(e){function a(e,t){if(e instanceof Array){var i=e.indexOf(t);-1!=i&&e.splice(i,1)}}if(this.groupCollectionComments)for(var n in this.groupCollectionComments){var o=this.groupCollectionComments[n],s=i.findWhere(o,{uid:e});s&&(a(this.groupCollectionComments[n],s),-1!=this.filter.indexOf(n)&&a(this.groupCollectionFilter,s))}if(this.collectionComments.length>0){var s=i.findWhere(this.collectionComments,{uid:e});s&&a(this.collectionComments,s)}t(".page-comments").length>0&&this.initComments()},onFilterChange:function(e){if(e){var t=this,i=[];this.filter=e,e.forEach(function(e){t.groupCollectionComments[e]||(t.groupCollectionComments[e]=[]),i=i.concat(t.groupCollectionComments[e])}),this.groupCollectionFilter=i}},onSelectComment:function(e){var i=t(e.currentTarget).data("id");this.api.asc_selectComment(i)},textInserted:"<b>Inserted:</b>",textDeleted:"<b>Deleted:</b>",textParaInserted:"<b>Paragraph Inserted</b> ",textParaDeleted:"<b>Paragraph Deleted</b> ",textFormatted:"Formatted",textParaFormatted:"<b>Paragraph Formatted</b>",textNot:"Not ",textBold:"Bold",textItalic:"Italic",textStrikeout:"Strikeout",textUnderline:"Underline",textColor:"Font color",textBaseline:"Baseline",textSuperScript:"Superscript",textSubScript:"Subscript",textHighlight:"Highlight color",textSpacing:"Spacing",textDStrikeout:"Double strikeout",textCaps:"All caps",textSmallCaps:"Small caps",textPosition:"Position",textShd:"Background color",textContextual:"Don't add interval between paragraphs of the same style",textNoContextual:"Add interval between paragraphs of the same style",textIndentLeft:"Indent left",textIndentRight:"Indent right",textFirstLine:"First line",textRight:"Align right",textLeft:"Align left",textCenter:"Align center",textJustify:"Align justify",textBreakBefore:"Page break before",textKeepNext:"Keep with next",textKeepLines:"Keep lines together",textNoBreakBefore:"No page break before",textNoKeepNext:"Don't keep with next",textNoKeepLines:"Don't keep lines together",textLineSpacing:"Line Spacing: ",textMultiple:"multiple",textAtLeast:"at least",textExact:"exactly",textSpacingBefore:"Spacing before",textSpacingAfter:"Spacing after",textAuto:"auto",textWidow:"Widow control",textNoWidow:"No widow control",textTabs:"Change tabs",textNum:"Change numbering",textEquation:"Equation",textImage:"Image",textChart:"Chart",textShape:"Shape",textTableChanged:"<b>Table Settings Changed</b>",textTableRowsAdd:"<b>Table Rows Added<b/>",textTableRowsDel:"<b>Table Rows Deleted<b/>",textParaMoveTo:"<b>Moved:</b>",textParaMoveFromUp:"<b>Moved Up:</b>",textParaMoveFromDown:"<b>Moved Down:</b>",textEditUser:"Document is currently being edited by several users."}}(),Common.Controllers.Collaboration||{}))});var reqerr;require.config({baseUrl:"../../",paths:{jquery:"../vendor/jquery/jquery",underscore:"../vendor/underscore/underscore",backbone:"../vendor/backbone/backbone",framework7:"../vendor/framework7/js/framework7",text:"../vendor/requirejs-text/text",xregexp:"../vendor/xregexp/xregexp-all-min",sockjs:"../vendor/sockjs/sockjs.min",jszip:"../vendor/jszip/jszip.min",jsziputils:"../vendor/jszip-utils/jszip-utils.min",allfonts:"../../sdkjs/common/AllFonts",sdk:"../../sdkjs/cell/sdk-all-min",api:"api/documents/api",core:"common/main/lib/core/application",extendes:"common/mobile/utils/extendes",notification:"common/main/lib/core/NotificationCenter",analytics:"common/Analytics",gateway:"common/Gateway",locale:"common/locale",irregularstack:"common/IrregularStack",sharedsettings:"common/mobile/utils/SharedSettings"},shim:{framework7:{exports:"Framework7"},underscore:{exports:"_"},sdk:{deps:["jquery","underscore","allfonts","xregexp","sockjs","jszip","jsziputils"]},backbone:{deps:["underscore","jquery"],exports:"Backbone"},core:{deps:["backbone","notification","irregularstack","sharedsettings"]}}}),require(["backbone","framework7","core","underscore","extendes","sdk","api","analytics","gateway","locale"],function(e,t){e.history.start();var i=new e.Application({nameSpace:"SSE",autoCreate:!1,controllers:["Common.Controllers.Plugins","Editor","Toolbar","Search","CellEditor","Main","DocumentHolder","Statusbar","Settings","EditContainer","EditCell","EditText","EditImage","EditShape","EditChart","EditHyperlink","AddContainer","AddChart","AddFunction","AddShape","AddOther","AddLink","FilterOptions","Common.Controllers.Collaboration"]}),a=t.prototype.device;window.uiApp=new t({modalTitle:"ONLYOFFICE",tapHold:!0,material:a.android,onAjaxStart:function(e){uiApp.showIndicator()},onAjaxComplete:function(e){uiApp.hideIndicator()}}),window.$$=Dom7,function(e,t){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),void 0!==i&&document.getElementsByTagName("head")[0].appendChild(i)}("resources/css/app-"+(a.android?"material":"ios")+".css"),Common.Locale.apply(function(){require(["common/main/lib/util/LocalStorage","common/main/lib/util/utils","common/mobile/lib/controller/Plugins","spreadsheeteditor/mobile/app/controller/Editor","spreadsheeteditor/mobile/app/controller/Toolbar","spreadsheeteditor/mobile/app/controller/Search","spreadsheeteditor/mobile/app/controller/Main","spreadsheeteditor/mobile/app/controller/DocumentHolder","spreadsheeteditor/mobile/app/controller/CellEditor","spreadsheeteditor/mobile/app/controller/Statusbar","spreadsheeteditor/mobile/app/controller/Settings","spreadsheeteditor/mobile/app/controller/edit/EditContainer","spreadsheeteditor/mobile/app/controller/edit/EditCell","spreadsheeteditor/mobile/app/controller/edit/EditText","spreadsheeteditor/mobile/app/controller/edit/EditImage","spreadsheeteditor/mobile/app/controller/edit/EditShape","spreadsheeteditor/mobile/app/controller/edit/EditChart","spreadsheeteditor/mobile/app/controller/edit/EditHyperlink","spreadsheeteditor/mobile/app/controller/add/AddContainer","spreadsheeteditor/mobile/app/controller/add/AddChart","spreadsheeteditor/mobile/app/controller/add/AddFunction","spreadsheeteditor/mobile/app/controller/add/AddShape","spreadsheeteditor/mobile/app/controller/add/AddOther","spreadsheeteditor/mobile/app/controller/add/AddLink","spreadsheeteditor/mobile/app/controller/FilterOptions","common/mobile/lib/controller/Collaboration"],function(){i.start()})})},function(e){"timeout"==e.requireType&&!reqerr&&window.requireTimeourError&&(reqerr=window.requireTimeourError(),window.alert(reqerr),window.location.reload())}),define("../apps/spreadsheeteditor/mobile/app.js",function(){});